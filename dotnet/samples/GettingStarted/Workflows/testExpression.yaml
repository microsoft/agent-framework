kind: AdaptiveDialog
beginDialog:
  kind: OnActivity
  id: activity_xyz123
  type: Message
  actions:
    # - kind: SetVariable
    #   id: setVariable1
    #   variable: Topic.TestList
    #   value: ["zaz", "zbz", "zcz", "zdz", "zez", "zfz"]

    - kind: ParseValue
      id: setVariable2
      displayName: Parse ledger response
      variable: Topic.TestList
      valueType:
        kind: Record
        properties:
          key: Number
      value: [{"Key": 1}, {"Key": 2}]

    # - kind: SetVariable
    #   id: setVariable2
    #   variable: Topic.TestList
    #   value: [{"Key": 1}, {"Key": 2}]

    - kind: SetVariable
      id: setVariable3
      variable: Topic.Result3
      value: =CountIf(Topic.TestList, Key > 1)
      #value: =Find("e", "abcdefg")
      #value: =CountIf(Topic.TestList, 1)
      #value: =CountIf(Topic.TestList, !IsBlank(Find("e", Value)))
#      value: =!IsBlank(Topic.TestList)

#      value: =CountIf(Topic.TestList, !IsBlank(Find("e", Value))) > 0
      #value: =CountIf(Topic.TestList, 1)
#      value: =!IsBlank(Topic.TestList)

    # - kind: SendActivity
    #   id: sendActivity2
    #   activity: "Result (CountIf): {Topic.TestResult}"

      
    - kind: SendActivity
      id: sendActivity3
      activity: "Result (Find): {Topic.Result3}"
