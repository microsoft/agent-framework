kind: AdaptiveDialog
beginDialog:

  kind: OnActivity
  id: activity_xyz123
  type: Message
  actions:

    - kind: SetVariable
      id: setVariable_list
      variable: Topic.AgentsTable
      value: |-
        =[
            {
                name: "WeatherAgent", 
                description: "Able to retrieve weather information",
                schema: "cr36e_agentRd2yAT.topic.Deterministic"
            },
            {
                name: "WebAgent", 
                description: "Able to perform generic websearches",
                schema: "cr36e_agentRd2yAT.topic.WebSearch"
            }
        ]

    - kind: SendActivity
      id: sendActivity_list
      activity: "{Topic.AgentsTable}"

    - kind: SetVariable
      id: setVariable_names
      displayName: Get all names
      variable: Topic.AgentInfo
      value: "=Concat(ForAll(Topic.AgentsTable, name & $\": \" & description), Value, \".\\n\\n\")"

      
    - kind: SendActivity
      id: sendActivity_info
      activity: "{Topic.AgentInfo}"
