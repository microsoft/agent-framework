function EE(e,n){for(var r=0;r<n.length;r++){const a=n[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wm={exports:{}},Ui={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function CE(){if(ev)return Ui;ev=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Ui.Fragment=n,Ui.jsx=r,Ui.jsxs=r,Ui}var tv;function kE(){return tv||(tv=1,Wm.exports=CE()),Wm.exports}var o=kE(),Km={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function AE(){if(nv)return Ge;nv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(C,$,Y){this.props=C,this.context=$,this.refs=N,this.updater=Y||b}S.prototype.isReactComponent={},S.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _(){}_.prototype=S.prototype;function M(C,$,Y){this.props=C,this.context=$,this.refs=N,this.updater=Y||b}var E=M.prototype=new _;E.constructor=M,j(E,S.prototype),E.isPureReactComponent=!0;var T=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function O(C,$,Y,V,W,fe){return Y=fe.ref,{$$typeof:e,type:C,key:$,ref:Y!==void 0?Y:null,props:fe}}function P(C,$){return O(C.type,$,void 0,void 0,void 0,C.props)}function q(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function K(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return $[Y]})}var J=/\/+/g;function G(C,$){return typeof C=="object"&&C!==null&&C.key!=null?K(""+C.key):$.toString(36)}function Z(){}function B(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Z,Z):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function U(C,$,Y,V,W){var fe=typeof C;(fe==="undefined"||fe==="boolean")&&(C=null);var ue=!1;if(C===null)ue=!0;else switch(fe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(C.$$typeof){case e:case n:ue=!0;break;case g:return ue=C._init,U(ue(C._payload),$,Y,V,W)}}if(ue)return W=W(C),ue=V===""?"."+G(C,0):V,T(W)?(Y="",ue!=null&&(Y=ue.replace(J,"$&/")+"/"),U(W,$,Y,"",function(ge){return ge})):W!=null&&(q(W)&&(W=P(W,Y+(W.key==null||C&&C.key===W.key?"":(""+W.key).replace(J,"$&/")+"/")+ue)),$.push(W)),1;ue=0;var te=V===""?".":V+":";if(T(C))for(var ie=0;ie<C.length;ie++)V=C[ie],fe=te+G(V,ie),ue+=U(V,$,Y,fe,W);else if(ie=x(C),typeof ie=="function")for(C=ie.call(C),ie=0;!(V=C.next()).done;)V=V.value,fe=te+G(V,ie++),ue+=U(V,$,Y,fe,W);else if(fe==="object"){if(typeof C.then=="function")return U(B(C),$,Y,V,W);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ue}function k(C,$,Y){if(C==null)return C;var V=[],W=0;return U(C,V,"","",function(fe){return $.call(Y,fe,W++)}),V}function L(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var I=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function H(){}return Ge.Children={map:k,forEach:function(C,$,Y){k(C,function(){$.apply(this,arguments)},Y)},count:function(C){var $=0;return k(C,function(){$++}),$},toArray:function(C){return k(C,function($){return $})||[]},only:function(C){if(!q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ge.Component=S,Ge.Fragment=r,Ge.Profiler=l,Ge.PureComponent=M,Ge.StrictMode=a,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Ge.cache=function(C){return function(){return C.apply(null,arguments)}},Ge.cloneElement=function(C,$,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var V=j({},C.props),W=C.key,fe=void 0;if($!=null)for(ue in $.ref!==void 0&&(fe=void 0),$.key!==void 0&&(W=""+$.key),$)!D.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(V[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)V.children=Y;else if(1<ue){for(var te=Array(ue),ie=0;ie<ue;ie++)te[ie]=arguments[ie+2];V.children=te}return O(C.type,W,void 0,void 0,fe,V)},Ge.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ge.createElement=function(C,$,Y){var V,W={},fe=null;if($!=null)for(V in $.key!==void 0&&(fe=""+$.key),$)D.call($,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(W[V]=$[V]);var ue=arguments.length-2;if(ue===1)W.children=Y;else if(1<ue){for(var te=Array(ue),ie=0;ie<ue;ie++)te[ie]=arguments[ie+2];W.children=te}if(C&&C.defaultProps)for(V in ue=C.defaultProps,ue)W[V]===void 0&&(W[V]=ue[V]);return O(C,fe,void 0,void 0,null,W)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(C){return{$$typeof:f,render:C}},Ge.isValidElement=q,Ge.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:L}},Ge.memo=function(C,$){return{$$typeof:h,type:C,compare:$===void 0?null:$}},Ge.startTransition=function(C){var $=R.T,Y={};R.T=Y;try{var V=C(),W=R.S;W!==null&&W(Y,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(H,I)}catch(fe){I(fe)}finally{R.T=$}},Ge.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ge.use=function(C){return R.H.use(C)},Ge.useActionState=function(C,$,Y){return R.H.useActionState(C,$,Y)},Ge.useCallback=function(C,$){return R.H.useCallback(C,$)},Ge.useContext=function(C){return R.H.useContext(C)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(C,$){return R.H.useDeferredValue(C,$)},Ge.useEffect=function(C,$,Y){var V=R.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(C,$)},Ge.useId=function(){return R.H.useId()},Ge.useImperativeHandle=function(C,$,Y){return R.H.useImperativeHandle(C,$,Y)},Ge.useInsertionEffect=function(C,$){return R.H.useInsertionEffect(C,$)},Ge.useLayoutEffect=function(C,$){return R.H.useLayoutEffect(C,$)},Ge.useMemo=function(C,$){return R.H.useMemo(C,$)},Ge.useOptimistic=function(C,$){return R.H.useOptimistic(C,$)},Ge.useReducer=function(C,$,Y){return R.H.useReducer(C,$,Y)},Ge.useRef=function(C){return R.H.useRef(C)},Ge.useState=function(C){return R.H.useState(C)},Ge.useSyncExternalStore=function(C,$,Y){return R.H.useSyncExternalStore(C,$,Y)},Ge.useTransition=function(){return R.H.useTransition()},Ge.version="19.1.1",Ge}var sv;function xl(){return sv||(sv=1,Km.exports=AE()),Km.exports}var w=xl();const yn=Np(w),sw=EE({__proto__:null,default:yn},[w]);var Qm={exports:{}},Vi={},Jm={exports:{}},eh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function ME(){return rv||(rv=1,(function(e){function n(k,L){var I=k.length;k.push(L);e:for(;0<I;){var H=I-1>>>1,C=k[H];if(0<l(C,L))k[H]=L,k[I]=C,I=H;else break e}}function r(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var L=k[0],I=k.pop();if(I!==L){k[0]=I;e:for(var H=0,C=k.length,$=C>>>1;H<$;){var Y=2*(H+1)-1,V=k[Y],W=Y+1,fe=k[W];if(0>l(V,I))W<C&&0>l(fe,V)?(k[H]=fe,k[W]=I,H=W):(k[H]=V,k[Y]=I,H=Y);else if(W<C&&0>l(fe,I))k[H]=fe,k[W]=I,H=W;else break e}}return L}function l(k,L){var I=k.sortIndex-L.sortIndex;return I!==0?I:k.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],h=[],g=1,y=null,x=3,b=!1,j=!1,N=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(k){for(var L=r(h);L!==null;){if(L.callback===null)a(h);else if(L.startTime<=k)a(h),L.sortIndex=L.expirationTime,n(m,L);else break;L=r(h)}}function R(k){if(N=!1,T(k),!j)if(r(m)!==null)j=!0,D||(D=!0,G());else{var L=r(h);L!==null&&U(R,L.startTime-k)}}var D=!1,O=-1,P=5,q=-1;function K(){return S?!0:!(e.unstable_now()-q<P)}function J(){if(S=!1,D){var k=e.unstable_now();q=k;var L=!0;try{e:{j=!1,N&&(N=!1,M(O),O=-1),b=!0;var I=x;try{t:{for(T(k),y=r(m);y!==null&&!(y.expirationTime>k&&K());){var H=y.callback;if(typeof H=="function"){y.callback=null,x=y.priorityLevel;var C=H(y.expirationTime<=k);if(k=e.unstable_now(),typeof C=="function"){y.callback=C,T(k),L=!0;break t}y===r(m)&&a(m),T(k)}else a(m);y=r(m)}if(y!==null)L=!0;else{var $=r(h);$!==null&&U(R,$.startTime-k),L=!1}}break e}finally{y=null,x=I,b=!1}L=void 0}}finally{L?G():D=!1}}}var G;if(typeof E=="function")G=function(){E(J)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,B=Z.port2;Z.port1.onmessage=J,G=function(){B.postMessage(null)}}else G=function(){_(J,0)};function U(k,L){O=_(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(k){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var I=x;x=L;try{return k()}finally{x=I}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=x;x=k;try{return L()}finally{x=I}},e.unstable_scheduleCallback=function(k,L,I){var H=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,k){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=I+C,k={id:g++,callback:L,priorityLevel:k,startTime:I,expirationTime:C,sortIndex:-1},I>H?(k.sortIndex=I,n(h,k),r(m)===null&&k===r(h)&&(N?(M(O),O=-1):N=!0,U(R,I-H))):(k.sortIndex=C,n(m,k),j||b||(j=!0,D||(D=!0,G()))),k},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(k){var L=x;return function(){var I=x;x=L;try{return k.apply(this,arguments)}finally{x=I}}}})(eh)),eh}var ov;function TE(){return ov||(ov=1,Jm.exports=ME()),Jm.exports}var th={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function RE(){if(av)return Wt;av=1;var e=xl();function n(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:h,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Wt.createPortal=function(m,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return c(m,h,null,g)},Wt.flushSync=function(m){var h=d.T,g=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=h,a.p=g,a.d.f()}},Wt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},Wt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Wt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:b}):g==="script"&&a.d.X(m,{crossOrigin:y,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},Wt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);a.d.L(m,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wt.preloadModule=function(m,h){if(typeof m=="string")if(h){var g=f(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},Wt.requestFormReset=function(m){a.d.r(m)},Wt.unstable_batchedUpdates=function(m,h){return m(h)},Wt.useFormState=function(m,h,g){return d.H.useFormState(m,h,g)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var iv;function rw(){if(iv)return th.exports;iv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),th.exports=RE(),th.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function DE(){if(lv)return Vi;lv=1;var e=TE(),n=xl(),r=rw();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(c(t)!==t)throw Error(a(188))}function m(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(a(188));return s!==t?null:t}for(var i=t,u=s;;){var p=i.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){i=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===i)return f(p),t;if(v===u)return f(p),s;v=v.sibling}throw Error(a(188))}if(i.return!==u.return)i=p,u=v;else{for(var A=!1,z=p.child;z;){if(z===i){A=!0,i=p,u=v;break}if(z===u){A=!0,u=p,i=v;break}z=z.sibling}if(!A){for(z=v.child;z;){if(z===i){A=!0,i=v,u=p;break}if(z===u){A=!0,u=v,i=p;break}z=z.sibling}if(!A)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:s}function h(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=h(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function B(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case E:return(t.displayName||"Context")+".Provider";case M:return(t._context.displayName||"Context")+".Consumer";case T:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return s=t.displayName||null,s!==null?s:B(t.type)||"Memo";case P:s=t._payload,t=t._init;try{return B(t(s))}catch{}}return null}var U=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},H=[],C=-1;function $(t){return{current:t}}function Y(t){0>C||(t.current=H[C],H[C]=null,C--)}function V(t,s){C++,H[C]=t.current,t.current=s}var W=$(null),fe=$(null),ue=$(null),te=$(null);function ie(t,s){switch(V(ue,s),V(fe,t),V(W,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?ky(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=ky(s),t=Ay(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(W),V(W,t)}function ge(){Y(W),Y(fe),Y(ue)}function we(t){t.memoizedState!==null&&V(te,t);var s=W.current,i=Ay(s,t.type);s!==i&&(V(fe,t),V(W,i))}function Ne(t){fe.current===t&&(Y(W),Y(fe)),te.current===t&&(Y(te),Li._currentValue=I)}var ne=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ee=e.unstable_shouldYield,ve=e.unstable_requestPaint,ye=e.unstable_now,Te=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,Ee=e.unstable_UserBlockingPriority,at=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,je=e.unstable_IdlePriority,Re=e.log,ze=e.unstable_setDisableYieldValue,Be=null,Ue=null;function Nt(t){if(typeof Re=="function"&&ze(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Be,t)}catch{}}var pt=Math.clz32?Math.clz32:xe,ps=Math.log,jo=Math.LN2;function xe(t){return t>>>=0,t===0?32:31-(ps(t)/jo|0)|0}var De=256,$e=4194304;function Ct(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function On(t,s,i){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var z=u&134217727;return z!==0?(u=z&~v,u!==0?p=Ct(u):(A&=z,A!==0?p=Ct(A):i||(i=z&~t,i!==0&&(p=Ct(i))))):(z=u&~v,z!==0?p=Ct(z):A!==0?p=Ct(A):i||(i=u&~t,i!==0&&(p=Ct(i)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,i=s&-s,v>=i||v===32&&(i&4194048)!==0)?s:p}function He(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function be(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var t=De;return De<<=1,(De&4194048)===0&&(De=256),t}function St(){var t=$e;return $e<<=1,($e&62914560)===0&&($e=4194304),t}function tt(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function tn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zn(t,s,i,u,p,v){var A=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var z=t.entanglements,F=t.expirationTimes,re=t.hiddenUpdates;for(i=A&~i;0<i;){var le=31-pt(i),me=1<<le;z[le]=0,F[le]=-1;var oe=re[le];if(oe!==null)for(re[le]=null,le=0;le<oe.length;le++){var ae=oe[le];ae!==null&&(ae.lane&=-536870913)}i&=~me}u!==0&&Zn(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(A&~s))}function Zn(t,s,i){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-pt(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|i&4194090}function Ha(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var u=31-pt(i),p=1<<u;p&s|t[u]&s&&(t[u]|=s),i&=~p}}function Pa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rl(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:Xy(t.type))}function Pd(t,s){var i=L.p;try{return L.p=t,s()}finally{L.p=i}}var Wn=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Wn,Xt="__reactProps$"+Wn,Gs="__reactContainer$"+Wn,Ua="__reactEvents$"+Wn,Bd="__reactListeners$"+Wn,Ud="__reactHandles$"+Wn,Dl="__reactResources$"+Wn,$r="__reactMarker$"+Wn;function Va(t){delete t[Ht],delete t[Xt],delete t[Ua],delete t[Bd],delete t[Ud]}function Xs(t){var s=t[Ht];if(s)return s;for(var i=t.parentNode;i;){if(s=i[Gs]||i[Ht]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=Dy(t);t!==null;){if(i=t[Ht])return i;t=Dy(t)}return s}t=i,i=t.parentNode}return null}function gs(t){if(t=t[Ht]||t[Gs]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Zs(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function xs(t){var s=t[Dl];return s||(s=t[Dl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(t){t[$r]=!0}var Ol=new Set,zl={};function ys(t,s){Ws(t,s),Ws(t+"Capture",s)}function Ws(t,s){for(zl[t]=s,t=0;t<s.length;t++)Ol.add(s[t])}var Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qa={},Il={};function qd(t){return ne.call(Il,t)?!0:ne.call(qa,t)?!1:Vd.test(t)?Il[t]=!0:(qa[t]=!0,!1)}function So(t,s,i){if(qd(s))if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+i)}}function _o(t,s,i){if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+i)}}function In(t,s,i,u){if(u===null)t.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(s,i,""+u)}}var Fa,Ll;function vs(t){if(Fa===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Fa=s&&s[1]||"",Ll=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+t+Ll}var Ya=!1;function Ga(t,s){if(!t||Ya)return"";Ya=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var oe=ae}Reflect.construct(t,[],me)}else{try{me.call()}catch(ae){oe=ae}t.call(me.prototype)}}else{try{throw Error()}catch(ae){oe=ae}(me=t())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&oe&&typeof ae.stack=="string")return[ae.stack,oe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),A=v[0],z=v[1];if(A&&z){var F=A.split(`
`),re=z.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<re.length&&!re[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===re.length)for(u=F.length-1,p=re.length-1;1<=u&&0<=p&&F[u]!==re[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==re[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==re[p]){var le=`
`+F[u].replace(" at new "," at ");return t.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",t.displayName)),le}while(1<=u&&0<=p);break}}}finally{Ya=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?vs(i):""}function Fd(t){switch(t.tag){case 26:case 27:case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return Ga(t.type,!1);case 11:return Ga(t.type.render,!1);case 1:return Ga(t.type,!0);case 31:return vs("Activity");default:return""}}function $l(t){try{var s="";do s+=Fd(t),t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hl(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yd(t){var s=Hl(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),u=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var p=i.get,v=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){u=""+A,v.call(this,A)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Eo(t){t._valueTracker||(t._valueTracker=Yd(t))}function Xa(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),u="";return t&&(u=Hl(t)?t.checked?"true":"false":t.value),t=u,t!==i?(s.setValue(t),!0):!1}function Co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gd=/[\n"\\]/g;function sn(t){return t.replace(Gd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hr(t,s,i,u,p,v,A,z){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),s!=null?A==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+nn(s)):t.value!==""+nn(s)&&(t.value=""+nn(s)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),s!=null?Za(t,A,nn(s)):i!=null?Za(t,A,nn(i)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+nn(z):t.removeAttribute("name")}function Pl(t,s,i,u,p,v,A,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),s!=null||i!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;i=i!=null?""+nn(i):"",s=s!=null?""+nn(s):i,z||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=z?t.checked:!!u,t.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function Za(t,s,i){s==="number"&&Co(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function bs(t,s,i,u){if(t=t.options,s){s={};for(var p=0;p<i.length;p++)s["$"+i[p]]=!0;for(i=0;i<t.length;i++)p=s.hasOwnProperty("$"+t[i].value),t[i].selected!==p&&(t[i].selected=p),p&&u&&(t[i].defaultSelected=!0)}else{for(i=""+nn(i),s=null,p=0;p<t.length;p++){if(t[p].value===i){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Eg(t,s,i){if(s!=null&&(s=""+nn(s),s!==t.value&&(t.value=s),i==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=i!=null?""+nn(i):""}function Cg(t,s,i,u){if(s==null){if(u!=null){if(i!=null)throw Error(a(92));if(U(u)){if(1<u.length)throw Error(a(93));u=u[0]}i=u}i==null&&(i=""),s=i}i=nn(s),t.defaultValue=i,u=t.textContent,u===i&&u!==""&&u!==null&&(t.value=u)}function ko(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var jS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(t,s,i){var u=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,i):typeof i!="number"||i===0||jS.has(s)?s==="float"?t.cssFloat=i:t[s]=(""+i).trim():t[s]=i+"px"}function Ag(t,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&i[p]!==u&&kg(t,p,u)}else for(var v in s)s.hasOwnProperty(v)&&kg(t,v,s[v])}function Xd(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_S=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(t){return _S.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zd=null;function Wd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ao=null,Mo=null;function Mg(t){var s=gs(t);if(s&&(t=s.stateNode)){var i=t[Xt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Hr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+sn(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var u=i[s];if(u!==t&&u.form===t.form){var p=u[Xt]||null;if(!p)throw Error(a(90));Hr(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<i.length;s++)u=i[s],u.form===t.form&&Xa(u)}break e;case"textarea":Eg(t,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&bs(t,!!i.multiple,s,!1)}}}var Kd=!1;function Tg(t,s,i){if(Kd)return t(s,i);Kd=!0;try{var u=t(s);return u}finally{if(Kd=!1,(Ao!==null||Mo!==null)&&(Ec(),Ao&&(s=Ao,t=Mo,Mo=Ao=null,Mg(s),t)))for(s=0;s<t.length;s++)Mg(t[s])}}function Wa(t,s){var i=t.stateNode;if(i===null)return null;var u=i[Xt]||null;if(u===null)return null;i=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(ws)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Qd=!1}var Ks=null,Jd=null,Ul=null;function Rg(){if(Ul)return Ul;var t,s=Jd,i=s.length,u,p="value"in Ks?Ks.value:Ks.textContent,v=p.length;for(t=0;t<i&&s[t]===p[t];t++);var A=i-t;for(u=1;u<=A&&s[i-u]===p[v-u];u++);return Ul=p.slice(t,1<u?1-u:void 0)}function Vl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function Dg(){return!1}function rn(t){function s(i,u,p,v,A){this._reactName=i,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(i=t[z],this[z]=i?i(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ql:Dg,this.isPropagationStopped=Dg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),s}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=rn(Pr),Qa=g({},Pr,{view:0,detail:0}),ES=rn(Qa),ef,tf,Ja,Yl=g({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(ef=t.screenX-Ja.screenX,tf=t.screenY-Ja.screenY):tf=ef=0,Ja=t),ef)},movementY:function(t){return"movementY"in t?t.movementY:tf}}),Og=rn(Yl),CS=g({},Yl,{dataTransfer:0}),kS=rn(CS),AS=g({},Qa,{relatedTarget:0}),nf=rn(AS),MS=g({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),TS=rn(MS),RS=g({},Pr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DS=rn(RS),OS=g({},Pr,{data:0}),zg=rn(OS),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $S(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=LS[t])?!!s[t]:!1}function sf(){return $S}var HS=g({},Qa,{key:function(t){if(t.key){var s=zS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PS=rn(HS),BS=g({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=rn(BS),US=g({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),VS=rn(US),qS=g({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=rn(qS),YS=g({},Yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=rn(YS),XS=g({},Pr,{newState:0,oldState:0}),ZS=rn(XS),WS=[9,13,27,32],rf=ws&&"CompositionEvent"in window,ei=null;ws&&"documentMode"in document&&(ei=document.documentMode);var KS=ws&&"TextEvent"in window&&!ei,Lg=ws&&(!rf||ei&&8<ei&&11>=ei),$g=" ",Hg=!1;function Pg(t,s){switch(t){case"keyup":return WS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var To=!1;function QS(t,s){switch(t){case"compositionend":return Bg(s);case"keypress":return s.which!==32?null:(Hg=!0,$g);case"textInput":return t=s.data,t===$g&&Hg?null:t;default:return null}}function JS(t,s){if(To)return t==="compositionend"||!rf&&Pg(t,s)?(t=Rg(),Ul=Jd=Ks=null,To=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Lg&&s.locale!=="ko"?null:s.data;default:return null}}var e_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!e_[t.type]:s==="textarea"}function Vg(t,s,i,u){Ao?Mo?Mo.push(u):Mo=[u]:Ao=u,s=Rc(s,"onChange"),0<s.length&&(i=new Fl("onChange","change",null,i,u),t.push({event:i,listeners:s}))}var ti=null,ni=null;function t_(t){jy(t,0)}function Gl(t){var s=Zs(t);if(Xa(s))return t}function qg(t,s){if(t==="change")return s}var Fg=!1;if(ws){var of;if(ws){var af="oninput"in document;if(!af){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),af=typeof Yg.oninput=="function"}of=af}else of=!1;Fg=of&&(!document.documentMode||9<document.documentMode)}function Gg(){ti&&(ti.detachEvent("onpropertychange",Xg),ni=ti=null)}function Xg(t){if(t.propertyName==="value"&&Gl(ni)){var s=[];Vg(s,ni,t,Wd(t)),Tg(t_,s)}}function n_(t,s,i){t==="focusin"?(Gg(),ti=s,ni=i,ti.attachEvent("onpropertychange",Xg)):t==="focusout"&&Gg()}function s_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gl(ni)}function r_(t,s){if(t==="click")return Gl(s)}function o_(t,s){if(t==="input"||t==="change")return Gl(s)}function a_(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var un=typeof Object.is=="function"?Object.is:a_;function si(t,s){if(un(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),u=Object.keys(s);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var p=i[u];if(!ne.call(s,p)||!un(t[p],s[p]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,s){var i=Zg(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=s&&u>=s)return{node:i,offset:s-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Zg(i)}}function Kg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Kg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Co(t.document);s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=Co(t.document)}return s}function lf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var i_=ws&&"documentMode"in document&&11>=document.documentMode,Ro=null,cf=null,ri=null,uf=!1;function Jg(t,s,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;uf||Ro==null||Ro!==Co(u)||(u=Ro,"selectionStart"in u&&lf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ri&&si(ri,u)||(ri=u,u=Rc(cf,"onSelect"),0<u.length&&(s=new Fl("onSelect","select",null,s,i),t.push({event:s,listeners:u}),s.target=Ro)))}function Br(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var Do={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},df={},ex={};ws&&(ex=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Ur(t){if(df[t])return df[t];if(!Do[t])return t;var s=Do[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in ex)return df[t]=s[i];return t}var tx=Ur("animationend"),nx=Ur("animationiteration"),sx=Ur("animationstart"),l_=Ur("transitionrun"),c_=Ur("transitionstart"),u_=Ur("transitioncancel"),rx=Ur("transitionend"),ox=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function Ln(t,s){ox.set(t,s),ys(s,[t])}var ax=new WeakMap;function jn(t,s){if(typeof t=="object"&&t!==null){var i=ax.get(t);return i!==void 0?i:(s={value:t,source:s,stack:$l(s)},ax.set(t,s),s)}return{value:t,source:s,stack:$l(s)}}var Sn=[],Oo=0,mf=0;function Xl(){for(var t=Oo,s=mf=Oo=0;s<t;){var i=Sn[s];Sn[s++]=null;var u=Sn[s];Sn[s++]=null;var p=Sn[s];Sn[s++]=null;var v=Sn[s];if(Sn[s++]=null,u!==null&&p!==null){var A=u.pending;A===null?p.next=p:(p.next=A.next,A.next=p),u.pending=p}v!==0&&ix(i,p,v)}}function Zl(t,s,i,u){Sn[Oo++]=t,Sn[Oo++]=s,Sn[Oo++]=i,Sn[Oo++]=u,mf|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function hf(t,s,i,u){return Zl(t,s,i,u),Wl(t)}function zo(t,s){return Zl(t,null,null,s),Wl(t)}function ix(t,s,i){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i);for(var p=!1,v=t.return;v!==null;)v.childLanes|=i,u=v.alternate,u!==null&&(u.childLanes|=i),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&s!==null&&(p=31-pt(i),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[s]:u.push(s),s.lane=i|536870912),v):null}function Wl(t){if(50<Ai)throw Ai=0,bm=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Io={};function d_(t,s,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,s,i,u){return new d_(t,s,i,u)}function pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ns(t,s){var i=t.alternate;return i===null?(i=dn(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function lx(t,s){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,s=i.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Kl(t,s,i,u,p,v){var A=0;if(u=t,typeof t=="function")pf(t)&&(A=1);else if(typeof t=="string")A=mE(t,i,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case q:return t=dn(31,i,s,p),t.elementType=q,t.lanes=v,t;case j:return Vr(i.children,p,v,s);case N:A=8,p|=24;break;case S:return t=dn(12,i,s,p|2),t.elementType=S,t.lanes=v,t;case R:return t=dn(13,i,s,p),t.elementType=R,t.lanes=v,t;case D:return t=dn(19,i,s,p),t.elementType=D,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case E:A=10;break e;case M:A=9;break e;case T:A=11;break e;case O:A=14;break e;case P:A=16,u=null;break e}A=29,i=Error(a(130,t===null?"null":typeof t,"")),u=null}return s=dn(A,i,s,p),s.elementType=t,s.type=u,s.lanes=v,s}function Vr(t,s,i,u){return t=dn(7,t,u,s),t.lanes=i,t}function gf(t,s,i){return t=dn(6,t,null,s),t.lanes=i,t}function xf(t,s,i){return s=dn(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Lo=[],$o=0,Ql=null,Jl=0,_n=[],En=0,qr=null,js=1,Ss="";function Fr(t,s){Lo[$o++]=Jl,Lo[$o++]=Ql,Ql=t,Jl=s}function cx(t,s,i){_n[En++]=js,_n[En++]=Ss,_n[En++]=qr,qr=t;var u=js;t=Ss;var p=32-pt(u)-1;u&=~(1<<p),i+=1;var v=32-pt(s)+p;if(30<v){var A=p-p%5;v=(u&(1<<A)-1).toString(32),u>>=A,p-=A,js=1<<32-pt(s)+p|i<<p|u,Ss=v+t}else js=1<<v|i<<p|u,Ss=t}function yf(t){t.return!==null&&(Fr(t,1),cx(t,1,0))}function vf(t){for(;t===Ql;)Ql=Lo[--$o],Lo[$o]=null,Jl=Lo[--$o],Lo[$o]=null;for(;t===qr;)qr=_n[--En],_n[En]=null,Ss=_n[--En],_n[En]=null,js=_n[--En],_n[En]=null}var Kt=null,_t=null,it=!1,Yr=null,Kn=!1,bf=Error(a(519));function Gr(t){var s=Error(a(418,""));throw ii(jn(s,t)),bf}function ux(t){var s=t.stateNode,i=t.type,u=t.memoizedProps;switch(s[Ht]=t,s[Xt]=u,i){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(i=0;i<Ti.length;i++)et(Ti[i],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),Pl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Eo(s);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),Cg(s,u.value,u.defaultValue,u.children),Eo(s)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||u.suppressHydrationWarning===!0||Cy(s.textContent,i)?(u.popover!=null&&(et("beforetoggle",s),et("toggle",s)),u.onScroll!=null&&et("scroll",s),u.onScrollEnd!=null&&et("scrollend",s),u.onClick!=null&&(s.onclick=Dc),s=!0):s=!1,s||Gr(t)}function dx(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Kt=Kt.return}}function oi(t){if(t!==Kt)return!1;if(!it)return dx(t),it=!0,!1;var s=t.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Im(t.type,t.memoizedProps)),i=!i),i&&_t&&Gr(t),dx(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(s===0){_t=Hn(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;t=t.nextSibling}_t=null}}else s===27?(s=_t,mr(t.type)?(t=Pm,Pm=null,_t=t):_t=s):_t=Kt?Hn(t.stateNode.nextSibling):null;return!0}function ai(){_t=Kt=null,it=!1}function fx(){var t=Yr;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Yr=null),t}function ii(t){Yr===null?Yr=[t]:Yr.push(t)}var wf=$(null),Xr=null,_s=null;function Qs(t,s,i){V(wf,s._currentValue),s._currentValue=i}function Es(t){t._currentValue=wf.current,Y(wf)}function Nf(t,s,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===i)break;t=t.return}}function jf(t,s,i,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var A=p.child;v=v.firstContext;e:for(;v!==null;){var z=v;v=p;for(var F=0;F<s.length;F++)if(z.context===s[F]){v.lanes|=i,z=v.alternate,z!==null&&(z.lanes|=i),Nf(v.return,i,t),u||(A=null);break e}v=z.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(a(341));A.lanes|=i,v=A.alternate,v!==null&&(v.lanes|=i),Nf(A,i,t),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===t){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function li(t,s,i,u){t=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var z=p.type;un(p.pendingProps.value,A.value)||(t!==null?t.push(z):t=[z])}}else if(p===te.current){if(A=p.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Li):t=[Li])}p=p.return}t!==null&&jf(s,t,i,u),s.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Xr=t,_s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return mx(Xr,t)}function tc(t,s){return Xr===null&&Zr(t),mx(t,s)}function mx(t,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},_s===null){if(t===null)throw Error(a(308));_s=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else _s=_s.next=s;return i}var f_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(i,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(i){return i()})}},m_=e.unstable_scheduleCallback,h_=e.unstable_NormalPriority,zt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new f_,data:new Map,refCount:0}}function ci(t){t.refCount--,t.refCount===0&&m_(h_,function(){t.controller.abort()})}var ui=null,_f=0,Ho=0,Po=null;function p_(t,s){if(ui===null){var i=ui=[];_f=0,Ho=Cm(),Po={status:"pending",value:void 0,then:function(u){i.push(u)}}}return _f++,s.then(hx,hx),s}function hx(){if(--_f===0&&ui!==null){Po!==null&&(Po.status="fulfilled");var t=ui;ui=null,Ho=0,Po=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function g_(t,s){var i=[],u={status:"pending",value:null,reason:null,then:function(p){i.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<i.length;p++)(0,i[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<i.length;p++)(0,i[p])(void 0)}),u}var px=k.S;k.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&p_(t,s),px!==null&&px(t,s)};var Wr=$(null);function Ef(){var t=Wr.current;return t!==null?t:xt.pooledCache}function nc(t,s){s===null?V(Wr,Wr.current):V(Wr,s.pool)}function gx(){var t=Ef();return t===null?null:{parent:zt._currentValue,pool:t}}var di=Error(a(460)),xx=Error(a(474)),sc=Error(a(542)),Cf={then:function(){}};function yx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rc(){}function vx(t,s,i){switch(i=t[i],i===void 0?t.push(s):i!==s&&(s.then(rc,rc),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,wx(t),t;default:if(typeof s.status=="string")s.then(rc,rc);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,wx(t),t}throw fi=s,di}}var fi=null;function bx(){if(fi===null)throw Error(a(459));var t=fi;return fi=null,t}function wx(t){if(t===di||t===sc)throw Error(a(483))}var Js=!1;function kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,s,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Wl(t),ix(t,null,i),s}return Zl(t,u,s,i),Wl(t)}function mi(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,i|=u,s.lanes=i,Ha(t,i)}}function Mf(t,s){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var p=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var A={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};v===null?p=v=A:v=v.next=A,i=i.next}while(i!==null);v===null?p=v=s:v=v.next=s}else p=v=s;i={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}var Tf=!1;function hi(){if(Tf){var t=Po;if(t!==null)throw t}}function pi(t,s,i,u){Tf=!1;var p=t.updateQueue;Js=!1;var v=p.firstBaseUpdate,A=p.lastBaseUpdate,z=p.shared.pending;if(z!==null){p.shared.pending=null;var F=z,re=F.next;F.next=null,A===null?v=re:A.next=re,A=F;var le=t.alternate;le!==null&&(le=le.updateQueue,z=le.lastBaseUpdate,z!==A&&(z===null?le.firstBaseUpdate=re:z.next=re,le.lastBaseUpdate=F))}if(v!==null){var me=p.baseState;A=0,le=re=F=null,z=v;do{var oe=z.lane&-536870913,ae=oe!==z.lane;if(ae?(st&oe)===oe:(u&oe)===oe){oe!==0&&oe===Ho&&(Tf=!0),le!==null&&(le=le.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Fe=t,Ve=z;oe=s;var mt=i;switch(Ve.tag){case 1:if(Fe=Ve.payload,typeof Fe=="function"){me=Fe.call(mt,me,oe);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ve.payload,oe=typeof Fe=="function"?Fe.call(mt,me,oe):Fe,oe==null)break e;me=g({},me,oe);break e;case 2:Js=!0}}oe=z.callback,oe!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[oe]:ae.push(oe))}else ae={lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},le===null?(re=le=ae,F=me):le=le.next=ae,A|=oe;if(z=z.next,z===null){if(z=p.shared.pending,z===null)break;ae=z,z=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);le===null&&(F=me),p.baseState=F,p.firstBaseUpdate=re,p.lastBaseUpdate=le,v===null&&(p.shared.lanes=0),cr|=A,t.lanes=A,t.memoizedState=me}}function Nx(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function jx(t,s){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Nx(i[t],s)}var Bo=$(null),oc=$(0);function Sx(t,s){t=Ds,V(oc,t),V(Bo,s),Ds=t|s.baseLanes}function Rf(){V(oc,Ds),V(Bo,Bo.current)}function Df(){Ds=oc.current,Y(Bo),Y(oc)}var nr=0,Ze=null,dt=null,Rt=null,ac=!1,Uo=!1,Kr=!1,ic=0,gi=0,Vo=null,x_=0;function kt(){throw Error(a(321))}function Of(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!un(t[i],s[i]))return!1;return!0}function zf(t,s,i,u,p,v){return nr=v,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=t===null||t.memoizedState===null?i0:l0,Kr=!1,v=i(u,p),Kr=!1,Uo&&(v=Ex(s,i,u,p)),_x(t),v}function _x(t){k.H=mc;var s=dt!==null&&dt.next!==null;if(nr=0,Rt=dt=Ze=null,ac=!1,gi=0,Vo=null,s)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&ec(t)&&(Pt=!0))}function Ex(t,s,i,u){Ze=t;var p=0;do{if(Uo&&(Vo=null),gi=0,Uo=!1,25<=p)throw Error(a(301));if(p+=1,Rt=dt=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}k.H=S_,v=s(i,u)}while(Uo);return v}function y_(){var t=k.H,s=t.useState()[0];return s=typeof s.then=="function"?xi(s):s,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ze.flags|=1024),s}function If(){var t=ic!==0;return ic=0,t}function Lf(t,s,i){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i}function $f(t){if(ac){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ac=!1}nr=0,Rt=dt=Ze=null,Uo=!1,gi=ic=0,Vo=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ze.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Dt(){if(dt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var s=Rt===null?Ze.memoizedState:Rt.next;if(s!==null)Rt=s,dt=t;else{if(t===null)throw Ze.alternate===null?Error(a(467)):Error(a(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Rt===null?Ze.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xi(t){var s=gi;return gi+=1,Vo===null&&(Vo=[]),t=vx(Vo,t,s),s=Ze,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?i0:l0),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xi(t);if(t.$$typeof===E)return Zt(t)}throw Error(a(438,String(t)))}function Pf(t){var s=null,i=Ze.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Hf(),Ze.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(t),u=0;u<t;u++)i[u]=K;return s.index++,i}function Cs(t,s){return typeof s=="function"?s(t):s}function cc(t){var s=Dt();return Bf(s,dt,t)}function Bf(t,s,i){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var A=p.next;p.next=v.next,v.next=A}s.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{s=p.next;var z=A=null,F=null,re=s,le=!1;do{var me=re.lane&-536870913;if(me!==re.lane?(st&me)===me:(nr&me)===me){var oe=re.revertLane;if(oe===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),me===Ho&&(le=!0);else if((nr&oe)===oe){re=re.next,oe===Ho&&(le=!0);continue}else me={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(z=F=me,A=v):F=F.next=me,Ze.lanes|=oe,cr|=oe;me=re.action,Kr&&i(v,me),v=re.hasEagerState?re.eagerState:i(v,me)}else oe={lane:me,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},F===null?(z=F=oe,A=v):F=F.next=oe,Ze.lanes|=me,cr|=me;re=re.next}while(re!==null&&re!==s);if(F===null?A=v:F.next=z,!un(v,t.memoizedState)&&(Pt=!0,le&&(i=Po,i!==null)))throw i;t.memoizedState=v,t.baseState=A,t.baseQueue=F,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Uf(t){var s=Dt(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var u=i.dispatch,p=i.pending,v=s.memoizedState;if(p!==null){i.pending=null;var A=p=p.next;do v=t(v,A.action),A=A.next;while(A!==p);un(v,s.memoizedState)||(Pt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),i.lastRenderedState=v}return[v,u]}function Cx(t,s,i){var u=Ze,p=Dt(),v=it;if(v){if(i===void 0)throw Error(a(407));i=i()}else i=s();var A=!un((dt||p).memoizedState,i);A&&(p.memoizedState=i,Pt=!0),p=p.queue;var z=Mx.bind(null,u,p,t);if(yi(2048,8,z,[t]),p.getSnapshot!==s||A||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,qo(9,uc(),Ax.bind(null,u,p,i,s),null),xt===null)throw Error(a(349));v||(nr&124)!==0||kx(u,s,i)}return i}function kx(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=Ze.updateQueue,s===null?(s=Hf(),Ze.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function Ax(t,s,i,u){s.value=i,s.getSnapshot=u,Tx(s)&&Rx(t)}function Mx(t,s,i){return i(function(){Tx(s)&&Rx(t)})}function Tx(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!un(t,i)}catch{return!0}}function Rx(t){var s=zo(t,2);s!==null&&gn(s,t,2)}function Vf(t){var s=on();if(typeof t=="function"){var i=t;if(t=i(),Kr){Nt(!0);try{i()}finally{Nt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:t},s}function Dx(t,s,i,u){return t.baseState=i,Bf(t,dt,typeof u=="function"?u:Cs)}function v_(t,s,i,u,p){if(fc(t))throw Error(a(485));if(t=s.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};k.T!==null?i(!0):v.isTransition=!1,u(v),i=s.pending,i===null?(v.next=s.pending=v,Ox(s,v)):(v.next=i.next,s.pending=i.next=v)}}function Ox(t,s){var i=s.action,u=s.payload,p=t.state;if(s.isTransition){var v=k.T,A={};k.T=A;try{var z=i(p,u),F=k.S;F!==null&&F(A,z),zx(t,s,z)}catch(re){qf(t,s,re)}finally{k.T=v}}else try{v=i(p,u),zx(t,s,v)}catch(re){qf(t,s,re)}}function zx(t,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){Ix(t,s,u)},function(u){return qf(t,s,u)}):Ix(t,s,i)}function Ix(t,s,i){s.status="fulfilled",s.value=i,Lx(s),t.state=i,s=t.pending,s!==null&&(i=s.next,i===s?t.pending=null:(i=i.next,s.next=i,Ox(t,i)))}function qf(t,s,i){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=i,Lx(s),s=s.next;while(s!==u)}t.action=null}function Lx(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function $x(t,s){return s}function Hx(t,s){if(it){var i=xt.formState;if(i!==null){e:{var u=Ze;if(it){if(_t){t:{for(var p=_t,v=Kn;p.nodeType!==8;){if(!v){p=null;break t}if(p=Hn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){_t=Hn(p.nextSibling),u=p.data==="F!";break e}}Gr(u)}u=!1}u&&(s=i[0])}}return i=on(),i.memoizedState=i.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$x,lastRenderedState:s},i.queue=u,i=r0.bind(null,Ze,u),u.dispatch=i,u=Vf(!1),v=Zf.bind(null,Ze,!1,u.queue),u=on(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,i=v_.bind(null,Ze,p,v,i),p.dispatch=i,u.memoizedState=t,[s,i,!1]}function Px(t){var s=Dt();return Bx(s,dt,t)}function Bx(t,s,i){if(s=Bf(t,s,$x)[0],t=cc(Cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=xi(s)}catch(A){throw A===di?sc:A}else u=s;s=Dt();var p=s.queue,v=p.dispatch;return i!==s.memoizedState&&(Ze.flags|=2048,qo(9,uc(),b_.bind(null,p,i),null)),[u,v,t]}function b_(t,s){t.action=s}function Ux(t){var s=Dt(),i=dt;if(i!==null)return Bx(s,i,t);Dt(),s=s.memoizedState,i=Dt();var u=i.queue.dispatch;return i.memoizedState=t,[s,u,!1]}function qo(t,s,i,u){return t={tag:t,create:i,deps:u,inst:s,next:null},s=Ze.updateQueue,s===null&&(s=Hf(),Ze.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,s.lastEffect=t),t}function uc(){return{destroy:void 0,resource:void 0}}function Vx(){return Dt().memoizedState}function dc(t,s,i,u){var p=on();u=u===void 0?null:u,Ze.flags|=t,p.memoizedState=qo(1|s,uc(),i,u)}function yi(t,s,i,u){var p=Dt();u=u===void 0?null:u;var v=p.memoizedState.inst;dt!==null&&u!==null&&Of(u,dt.memoizedState.deps)?p.memoizedState=qo(s,v,i,u):(Ze.flags|=t,p.memoizedState=qo(1|s,v,i,u))}function qx(t,s){dc(8390656,8,t,s)}function Fx(t,s){yi(2048,8,t,s)}function Yx(t,s){return yi(4,2,t,s)}function Gx(t,s){return yi(4,4,t,s)}function Xx(t,s){if(typeof s=="function"){t=t();var i=s(t);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Zx(t,s,i){i=i!=null?i.concat([t]):null,yi(4,4,Xx.bind(null,s,t),i)}function Ff(){}function Wx(t,s){var i=Dt();s=s===void 0?null:s;var u=i.memoizedState;return s!==null&&Of(s,u[1])?u[0]:(i.memoizedState=[t,s],t)}function Kx(t,s){var i=Dt();s=s===void 0?null:s;var u=i.memoizedState;if(s!==null&&Of(s,u[1]))return u[0];if(u=t(),Kr){Nt(!0);try{t()}finally{Nt(!1)}}return i.memoizedState=[u,s],u}function Yf(t,s,i){return i===void 0||(nr&1073741824)!==0?t.memoizedState=s:(t.memoizedState=i,t=ey(),Ze.lanes|=t,cr|=t,i)}function Qx(t,s,i,u){return un(i,s)?i:Bo.current!==null?(t=Yf(t,i,u),un(t,s)||(Pt=!0),t):(nr&42)===0?(Pt=!0,t.memoizedState=i):(t=ey(),Ze.lanes|=t,cr|=t,s)}function Jx(t,s,i,u,p){var v=L.p;L.p=v!==0&&8>v?v:8;var A=k.T,z={};k.T=z,Zf(t,!1,s,i);try{var F=p(),re=k.S;if(re!==null&&re(z,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=g_(F,u);vi(t,s,le,pn(t))}else vi(t,s,u,pn(t))}catch(me){vi(t,s,{then:function(){},status:"rejected",reason:me},pn())}finally{L.p=v,k.T=A}}function w_(){}function Gf(t,s,i,u){if(t.tag!==5)throw Error(a(476));var p=e0(t).queue;Jx(t,p,s,I,i===null?w_:function(){return t0(t),i(u)})}function e0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:I},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function t0(t){var s=e0(t).next.queue;vi(t,s,{},pn())}function Xf(){return Zt(Li)}function n0(){return Dt().memoizedState}function s0(){return Dt().memoizedState}function N_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var i=pn();t=er(i);var u=tr(s,t,i);u!==null&&(gn(u,s,i),mi(u,s,i)),s={cache:Sf()},t.payload=s;return}s=s.return}}function j_(t,s,i){var u=pn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},fc(t)?o0(s,i):(i=hf(t,s,i,u),i!==null&&(gn(i,t,u),a0(i,s,u)))}function r0(t,s,i){var u=pn();vi(t,s,i,u)}function vi(t,s,i,u){var p={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(fc(t))o0(s,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,z=v(A,i);if(p.hasEagerState=!0,p.eagerState=z,un(z,A))return Zl(t,s,p,0),xt===null&&Xl(),!1}catch{}finally{}if(i=hf(t,s,p,u),i!==null)return gn(i,t,u),a0(i,s,u),!0}return!1}function Zf(t,s,i,u){if(u={lane:2,revertLane:Cm(),action:u,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(s)throw Error(a(479))}else s=hf(t,i,u,2),s!==null&&gn(s,t,2)}function fc(t){var s=t.alternate;return t===Ze||s!==null&&s===Ze}function o0(t,s){Uo=ac=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function a0(t,s,i){if((i&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,i|=u,s.lanes=i,Ha(t,i)}}var mc={readContext:Zt,use:lc,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},i0={readContext:Zt,use:lc,useCallback:function(t,s){return on().memoizedState=[t,s===void 0?null:s],t},useContext:Zt,useEffect:qx,useImperativeHandle:function(t,s,i){i=i!=null?i.concat([t]):null,dc(4194308,4,Xx.bind(null,s,t),i)},useLayoutEffect:function(t,s){return dc(4194308,4,t,s)},useInsertionEffect:function(t,s){dc(4,2,t,s)},useMemo:function(t,s){var i=on();s=s===void 0?null:s;var u=t();if(Kr){Nt(!0);try{t()}finally{Nt(!1)}}return i.memoizedState=[u,s],u},useReducer:function(t,s,i){var u=on();if(i!==void 0){var p=i(s);if(Kr){Nt(!0);try{i(s)}finally{Nt(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=j_.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var s=on();return t={current:t},s.memoizedState=t},useState:function(t){t=Vf(t);var s=t.queue,i=r0.bind(null,Ze,s);return s.dispatch=i,[t.memoizedState,i]},useDebugValue:Ff,useDeferredValue:function(t,s){var i=on();return Yf(i,t,s)},useTransition:function(){var t=Vf(!1);return t=Jx.bind(null,Ze,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,i){var u=Ze,p=on();if(it){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),xt===null)throw Error(a(349));(st&124)!==0||kx(u,s,i)}p.memoizedState=i;var v={value:i,getSnapshot:s};return p.queue=v,qx(Mx.bind(null,u,v,t),[t]),u.flags|=2048,qo(9,uc(),Ax.bind(null,u,v,i,s),null),i},useId:function(){var t=on(),s=xt.identifierPrefix;if(it){var i=Ss,u=js;i=(u&~(1<<32-pt(u)-1)).toString(32)+i,s=""+s+"R"+i,i=ic++,0<i&&(s+="H"+i.toString(32)),s+=""}else i=x_++,s=""+s+"r"+i.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:Xf,useFormState:Hx,useActionState:Hx,useOptimistic:function(t){var s=on();s.memoizedState=s.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=Zf.bind(null,Ze,!0,i),i.dispatch=s,[t,s]},useMemoCache:Pf,useCacheRefresh:function(){return on().memoizedState=N_.bind(null,Ze)}},l0={readContext:Zt,use:lc,useCallback:Wx,useContext:Zt,useEffect:Fx,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Gx,useMemo:Kx,useReducer:cc,useRef:Vx,useState:function(){return cc(Cs)},useDebugValue:Ff,useDeferredValue:function(t,s){var i=Dt();return Qx(i,dt.memoizedState,t,s)},useTransition:function(){var t=cc(Cs)[0],s=Dt().memoizedState;return[typeof t=="boolean"?t:xi(t),s]},useSyncExternalStore:Cx,useId:n0,useHostTransitionStatus:Xf,useFormState:Px,useActionState:Px,useOptimistic:function(t,s){var i=Dt();return Dx(i,dt,t,s)},useMemoCache:Pf,useCacheRefresh:s0},S_={readContext:Zt,use:lc,useCallback:Wx,useContext:Zt,useEffect:Fx,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Gx,useMemo:Kx,useReducer:Uf,useRef:Vx,useState:function(){return Uf(Cs)},useDebugValue:Ff,useDeferredValue:function(t,s){var i=Dt();return dt===null?Yf(i,t,s):Qx(i,dt.memoizedState,t,s)},useTransition:function(){var t=Uf(Cs)[0],s=Dt().memoizedState;return[typeof t=="boolean"?t:xi(t),s]},useSyncExternalStore:Cx,useId:n0,useHostTransitionStatus:Xf,useFormState:Ux,useActionState:Ux,useOptimistic:function(t,s){var i=Dt();return dt!==null?Dx(i,dt,t,s):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:s0},Fo=null,bi=0;function hc(t){var s=bi;return bi+=1,Fo===null&&(Fo=[]),vx(Fo,t,s)}function wi(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function pc(t,s){throw s.$$typeof===y?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function c0(t){var s=t._init;return s(t._payload)}function u0(t){function s(Q,X){if(t){var se=Q.deletions;se===null?(Q.deletions=[X],Q.flags|=16):se.push(X)}}function i(Q,X){if(!t)return null;for(;X!==null;)s(Q,X),X=X.sibling;return null}function u(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function p(Q,X){return Q=Ns(Q,X),Q.index=0,Q.sibling=null,Q}function v(Q,X,se){return Q.index=se,t?(se=Q.alternate,se!==null?(se=se.index,se<X?(Q.flags|=67108866,X):se):(Q.flags|=67108866,X)):(Q.flags|=1048576,X)}function A(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function z(Q,X,se,ce){return X===null||X.tag!==6?(X=gf(se,Q.mode,ce),X.return=Q,X):(X=p(X,se),X.return=Q,X)}function F(Q,X,se,ce){var Ce=se.type;return Ce===j?le(Q,X,se.props.children,ce,se.key):X!==null&&(X.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===P&&c0(Ce)===X.type)?(X=p(X,se.props),wi(X,se),X.return=Q,X):(X=Kl(se.type,se.key,se.props,null,Q.mode,ce),wi(X,se),X.return=Q,X)}function re(Q,X,se,ce){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=xf(se,Q.mode,ce),X.return=Q,X):(X=p(X,se.children||[]),X.return=Q,X)}function le(Q,X,se,ce,Ce){return X===null||X.tag!==7?(X=Vr(se,Q.mode,ce,Ce),X.return=Q,X):(X=p(X,se),X.return=Q,X)}function me(Q,X,se){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=gf(""+X,Q.mode,se),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return se=Kl(X.type,X.key,X.props,null,Q.mode,se),wi(se,X),se.return=Q,se;case b:return X=xf(X,Q.mode,se),X.return=Q,X;case P:var ce=X._init;return X=ce(X._payload),me(Q,X,se)}if(U(X)||G(X))return X=Vr(X,Q.mode,se,null),X.return=Q,X;if(typeof X.then=="function")return me(Q,hc(X),se);if(X.$$typeof===E)return me(Q,tc(Q,X),se);pc(Q,X)}return null}function oe(Q,X,se,ce){var Ce=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ce!==null?null:z(Q,X,""+se,ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return se.key===Ce?F(Q,X,se,ce):null;case b:return se.key===Ce?re(Q,X,se,ce):null;case P:return Ce=se._init,se=Ce(se._payload),oe(Q,X,se,ce)}if(U(se)||G(se))return Ce!==null?null:le(Q,X,se,ce,null);if(typeof se.then=="function")return oe(Q,X,hc(se),ce);if(se.$$typeof===E)return oe(Q,X,tc(Q,se),ce);pc(Q,se)}return null}function ae(Q,X,se,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(se)||null,z(X,Q,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return Q=Q.get(ce.key===null?se:ce.key)||null,F(X,Q,ce,Ce);case b:return Q=Q.get(ce.key===null?se:ce.key)||null,re(X,Q,ce,Ce);case P:var Ke=ce._init;return ce=Ke(ce._payload),ae(Q,X,se,ce,Ce)}if(U(ce)||G(ce))return Q=Q.get(se)||null,le(X,Q,ce,Ce,null);if(typeof ce.then=="function")return ae(Q,X,se,hc(ce),Ce);if(ce.$$typeof===E)return ae(Q,X,se,tc(X,ce),Ce);pc(X,ce)}return null}function Fe(Q,X,se,ce){for(var Ce=null,Ke=null,Ie=X,qe=X=0,Ut=null;Ie!==null&&qe<se.length;qe++){Ie.index>qe?(Ut=Ie,Ie=null):Ut=Ie.sibling;var ot=oe(Q,Ie,se[qe],ce);if(ot===null){Ie===null&&(Ie=Ut);break}t&&Ie&&ot.alternate===null&&s(Q,Ie),X=v(ot,X,qe),Ke===null?Ce=ot:Ke.sibling=ot,Ke=ot,Ie=Ut}if(qe===se.length)return i(Q,Ie),it&&Fr(Q,qe),Ce;if(Ie===null){for(;qe<se.length;qe++)Ie=me(Q,se[qe],ce),Ie!==null&&(X=v(Ie,X,qe),Ke===null?Ce=Ie:Ke.sibling=Ie,Ke=Ie);return it&&Fr(Q,qe),Ce}for(Ie=u(Ie);qe<se.length;qe++)Ut=ae(Ie,Q,qe,se[qe],ce),Ut!==null&&(t&&Ut.alternate!==null&&Ie.delete(Ut.key===null?qe:Ut.key),X=v(Ut,X,qe),Ke===null?Ce=Ut:Ke.sibling=Ut,Ke=Ut);return t&&Ie.forEach(function(yr){return s(Q,yr)}),it&&Fr(Q,qe),Ce}function Ve(Q,X,se,ce){if(se==null)throw Error(a(151));for(var Ce=null,Ke=null,Ie=X,qe=X=0,Ut=null,ot=se.next();Ie!==null&&!ot.done;qe++,ot=se.next()){Ie.index>qe?(Ut=Ie,Ie=null):Ut=Ie.sibling;var yr=oe(Q,Ie,ot.value,ce);if(yr===null){Ie===null&&(Ie=Ut);break}t&&Ie&&yr.alternate===null&&s(Q,Ie),X=v(yr,X,qe),Ke===null?Ce=yr:Ke.sibling=yr,Ke=yr,Ie=Ut}if(ot.done)return i(Q,Ie),it&&Fr(Q,qe),Ce;if(Ie===null){for(;!ot.done;qe++,ot=se.next())ot=me(Q,ot.value,ce),ot!==null&&(X=v(ot,X,qe),Ke===null?Ce=ot:Ke.sibling=ot,Ke=ot);return it&&Fr(Q,qe),Ce}for(Ie=u(Ie);!ot.done;qe++,ot=se.next())ot=ae(Ie,Q,qe,ot.value,ce),ot!==null&&(t&&ot.alternate!==null&&Ie.delete(ot.key===null?qe:ot.key),X=v(ot,X,qe),Ke===null?Ce=ot:Ke.sibling=ot,Ke=ot);return t&&Ie.forEach(function(_E){return s(Q,_E)}),it&&Fr(Q,qe),Ce}function mt(Q,X,se,ce){if(typeof se=="object"&&se!==null&&se.type===j&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case x:e:{for(var Ce=se.key;X!==null;){if(X.key===Ce){if(Ce=se.type,Ce===j){if(X.tag===7){i(Q,X.sibling),ce=p(X,se.props.children),ce.return=Q,Q=ce;break e}}else if(X.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===P&&c0(Ce)===X.type){i(Q,X.sibling),ce=p(X,se.props),wi(ce,se),ce.return=Q,Q=ce;break e}i(Q,X);break}else s(Q,X);X=X.sibling}se.type===j?(ce=Vr(se.props.children,Q.mode,ce,se.key),ce.return=Q,Q=ce):(ce=Kl(se.type,se.key,se.props,null,Q.mode,ce),wi(ce,se),ce.return=Q,Q=ce)}return A(Q);case b:e:{for(Ce=se.key;X!==null;){if(X.key===Ce)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){i(Q,X.sibling),ce=p(X,se.children||[]),ce.return=Q,Q=ce;break e}else{i(Q,X);break}else s(Q,X);X=X.sibling}ce=xf(se,Q.mode,ce),ce.return=Q,Q=ce}return A(Q);case P:return Ce=se._init,se=Ce(se._payload),mt(Q,X,se,ce)}if(U(se))return Fe(Q,X,se,ce);if(G(se)){if(Ce=G(se),typeof Ce!="function")throw Error(a(150));return se=Ce.call(se),Ve(Q,X,se,ce)}if(typeof se.then=="function")return mt(Q,X,hc(se),ce);if(se.$$typeof===E)return mt(Q,X,tc(Q,se),ce);pc(Q,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,X!==null&&X.tag===6?(i(Q,X.sibling),ce=p(X,se),ce.return=Q,Q=ce):(i(Q,X),ce=gf(se,Q.mode,ce),ce.return=Q,Q=ce),A(Q)):i(Q,X)}return function(Q,X,se,ce){try{bi=0;var Ce=mt(Q,X,se,ce);return Fo=null,Ce}catch(Ie){if(Ie===di||Ie===sc)throw Ie;var Ke=dn(29,Ie,null,Q.mode);return Ke.lanes=ce,Ke.return=Q,Ke}finally{}}}var Yo=u0(!0),d0=u0(!1),Cn=$(null),Qn=null;function sr(t){var s=t.alternate;V(It,It.current&1),V(Cn,t),Qn===null&&(s===null||Bo.current!==null||s.memoizedState!==null)&&(Qn=t)}function f0(t){if(t.tag===22){if(V(It,It.current),V(Cn,t),Qn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Qn=t)}}else rr()}function rr(){V(It,It.current),V(Cn,Cn.current)}function ks(t){Y(Cn),Qn===t&&(Qn=null),Y(It)}var It=$(0);function gc(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Hm(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Wf(t,s,i,u){s=t.memoizedState,i=i(u,s),i=i==null?s:g({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Kf={enqueueSetState:function(t,s,i){t=t._reactInternals;var u=pn(),p=er(u);p.payload=s,i!=null&&(p.callback=i),s=tr(t,p,u),s!==null&&(gn(s,t,u),mi(s,t,u))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var u=pn(),p=er(u);p.tag=1,p.payload=s,i!=null&&(p.callback=i),s=tr(t,p,u),s!==null&&(gn(s,t,u),mi(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=pn(),u=er(i);u.tag=2,s!=null&&(u.callback=s),s=tr(t,u,i),s!==null&&(gn(s,t,i),mi(s,t,i))}};function m0(t,s,i,u,p,v,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,A):s.prototype&&s.prototype.isPureReactComponent?!si(i,u)||!si(p,v):!0}function h0(t,s,i,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,u),s.state!==t&&Kf.enqueueReplaceState(s,s.state,null)}function Qr(t,s){var i=s;if("ref"in s){i={};for(var u in s)u!=="ref"&&(i[u]=s[u])}if(t=t.defaultProps){i===s&&(i=g({},i));for(var p in t)i[p]===void 0&&(i[p]=t[p])}return i}var xc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function p0(t){xc(t)}function g0(t){console.error(t)}function x0(t){xc(t)}function yc(t,s){try{var i=t.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function y0(t,s,i){try{var u=t.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Qf(t,s,i){return i=er(i),i.tag=3,i.payload={element:null},i.callback=function(){yc(t,s)},i}function v0(t){return t=er(t),t.tag=3,t}function b0(t,s,i,u){var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){y0(s,i,u)}}var A=i.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){y0(s,i,u),typeof p!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})})}function __(t,s,i,u,p){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=i.alternate,s!==null&&li(s,i,p,!0),i=Cn.current,i!==null){switch(i.tag){case 13:return Qn===null?Nm():i.alternate===null&&Et===0&&(Et=3),i.flags&=-257,i.flags|=65536,i.lanes=p,u===Cf?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([u]):s.add(u),Sm(t,u,p)),!1;case 22:return i.flags|=65536,u===Cf?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([u]):i.add(u)),Sm(t,u,p)),!1}throw Error(a(435,i.tag))}return Sm(t,u,p),Nm(),!1}if(it)return s=Cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==bf&&(t=Error(a(422),{cause:u}),ii(jn(t,i)))):(u!==bf&&(s=Error(a(423),{cause:u}),ii(jn(s,i))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=jn(u,i),p=Qf(t.stateNode,u,p),Mf(t,p),Et!==4&&(Et=2)),!1;var v=Error(a(520),{cause:u});if(v=jn(v,i),ki===null?ki=[v]:ki.push(v),Et!==4&&(Et=2),s===null)return!0;u=jn(u,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,t=p&-p,i.lanes|=t,t=Qf(i.stateNode,u,t),Mf(i,t),!1;case 1:if(s=i.type,v=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ur===null||!ur.has(v))))return i.flags|=65536,p&=-p,i.lanes|=p,p=v0(p),b0(p,t,i,u),Mf(i,p),!1}i=i.return}while(i!==null);return!1}var w0=Error(a(461)),Pt=!1;function Vt(t,s,i,u){s.child=t===null?d0(s,null,i,u):Yo(s,t.child,i,u)}function N0(t,s,i,u,p){i=i.render;var v=s.ref;if("ref"in u){var A={};for(var z in u)z!=="ref"&&(A[z]=u[z])}else A=u;return Zr(s),u=zf(t,s,i,A,v,p),z=If(),t!==null&&!Pt?(Lf(t,s,p),As(t,s,p)):(it&&z&&yf(s),s.flags|=1,Vt(t,s,u,p),s.child)}function j0(t,s,i,u,p){if(t===null){var v=i.type;return typeof v=="function"&&!pf(v)&&v.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=v,S0(t,s,v,u,p)):(t=Kl(i.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,!am(t,p)){var A=v.memoizedProps;if(i=i.compare,i=i!==null?i:si,i(A,u)&&t.ref===s.ref)return As(t,s,p)}return s.flags|=1,t=Ns(v,u),t.ref=s.ref,t.return=s,s.child=t}function S0(t,s,i,u,p){if(t!==null){var v=t.memoizedProps;if(si(v,u)&&t.ref===s.ref)if(Pt=!1,s.pendingProps=u=v,am(t,p))(t.flags&131072)!==0&&(Pt=!0);else return s.lanes=t.lanes,As(t,s,p)}return Jf(t,s,i,u,p)}function _0(t,s,i){var u=s.pendingProps,p=u.children,v=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|i:i,t!==null){for(p=s.child=t.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return E0(t,s,u,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(s,v!==null?v.cachePool:null),v!==null?Sx(s,v):Rf(),f0(s);else return s.lanes=s.childLanes=536870912,E0(t,s,v!==null?v.baseLanes|i:i,i)}else v!==null?(nc(s,v.cachePool),Sx(s,v),rr(),s.memoizedState=null):(t!==null&&nc(s,null),Rf(),rr());return Vt(t,s,p,i),s.child}function E0(t,s,i,u){var p=Ef();return p=p===null?null:{parent:zt._currentValue,pool:p},s.memoizedState={baseLanes:i,cachePool:p},t!==null&&nc(s,null),Rf(),f0(s),t!==null&&li(t,s,u,!0),null}function vc(t,s){var i=s.ref;if(i===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(s.flags|=4194816)}}function Jf(t,s,i,u,p){return Zr(s),i=zf(t,s,i,u,void 0,p),u=If(),t!==null&&!Pt?(Lf(t,s,p),As(t,s,p)):(it&&u&&yf(s),s.flags|=1,Vt(t,s,i,p),s.child)}function C0(t,s,i,u,p,v){return Zr(s),s.updateQueue=null,i=Ex(s,u,i,p),_x(t),u=If(),t!==null&&!Pt?(Lf(t,s,v),As(t,s,v)):(it&&u&&yf(s),s.flags|=1,Vt(t,s,i,v),s.child)}function k0(t,s,i,u,p){if(Zr(s),s.stateNode===null){var v=Io,A=i.contextType;typeof A=="object"&&A!==null&&(v=Zt(A)),v=new i(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Kf,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},kf(s),A=i.contextType,v.context=typeof A=="object"&&A!==null?Zt(A):Io,v.state=s.memoizedState,A=i.getDerivedStateFromProps,typeof A=="function"&&(Wf(s,i,A,u),v.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&Kf.enqueueReplaceState(v,v.state,null),pi(s,u,v,p),hi(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){v=s.stateNode;var z=s.memoizedProps,F=Qr(i,z);v.props=F;var re=v.context,le=i.contextType;A=Io,typeof le=="object"&&le!==null&&(A=Zt(le));var me=i.getDerivedStateFromProps;le=typeof me=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||re!==A)&&h0(s,v,u,A),Js=!1;var oe=s.memoizedState;v.state=oe,pi(s,u,v,p),hi(),re=s.memoizedState,z||oe!==re||Js?(typeof me=="function"&&(Wf(s,i,me,u),re=s.memoizedState),(F=Js||m0(s,i,F,u,oe,re,A))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=re),v.props=u,v.state=re,v.context=A,u=F):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Af(t,s),A=s.memoizedProps,le=Qr(i,A),v.props=le,me=s.pendingProps,oe=v.context,re=i.contextType,F=Io,typeof re=="object"&&re!==null&&(F=Zt(re)),z=i.getDerivedStateFromProps,(re=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==me||oe!==F)&&h0(s,v,u,F),Js=!1,oe=s.memoizedState,v.state=oe,pi(s,u,v,p),hi();var ae=s.memoizedState;A!==me||oe!==ae||Js||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof z=="function"&&(Wf(s,i,z,u),ae=s.memoizedState),(le=Js||m0(s,i,le,u,oe,ae,F)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,F)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ae),v.props=u,v.state=ae,v.context=F,u=le):(typeof v.componentDidUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),u=!1)}return v=u,vc(t,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,t!==null&&u?(s.child=Yo(s,t.child,null,p),s.child=Yo(s,null,i,p)):Vt(t,s,i,p),s.memoizedState=v.state,t=s.child):t=As(t,s,p),t}function A0(t,s,i,u){return ai(),s.flags|=256,Vt(t,s,i,u),s.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(t){return{baseLanes:t,cachePool:gx()}}function nm(t,s,i){return t=t!==null?t.childLanes&~i:0,s&&(t|=kn),t}function M0(t,s,i){var u=s.pendingProps,p=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,t===null){if(it){if(p?sr(s):rr(),it){var z=_t,F;if(F=z){e:{for(F=z,z=Kn;F.nodeType!==8;){if(!z){z=null;break e}if(F=Hn(F.nextSibling),F===null){z=null;break e}}z=F}z!==null?(s.memoizedState={dehydrated:z,treeContext:qr!==null?{id:js,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},F=dn(18,null,null,0),F.stateNode=z,F.return=s,s.child=F,Kt=s,_t=null,F=!0):F=!1}F||Gr(s)}if(z=s.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Hm(z)?s.lanes=32:s.lanes=536870912,null;ks(s)}return z=u.children,u=u.fallback,p?(rr(),p=s.mode,z=bc({mode:"hidden",children:z},p),u=Vr(u,p,i,null),z.return=s,u.return=s,z.sibling=u,s.child=z,p=s.child,p.memoizedState=tm(i),p.childLanes=nm(t,A,i),s.memoizedState=em,u):(sr(s),sm(s,z))}if(F=t.memoizedState,F!==null&&(z=F.dehydrated,z!==null)){if(v)s.flags&256?(sr(s),s.flags&=-257,s=rm(t,s,i)):s.memoizedState!==null?(rr(),s.child=t.child,s.flags|=128,s=null):(rr(),p=u.fallback,z=s.mode,u=bc({mode:"visible",children:u.children},z),p=Vr(p,z,i,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,Yo(s,t.child,null,i),u=s.child,u.memoizedState=tm(i),u.childLanes=nm(t,A,i),s.memoizedState=em,s=p);else if(sr(s),Hm(z)){if(A=z.nextSibling&&z.nextSibling.dataset,A)var re=A.dgst;A=re,u=Error(a(419)),u.stack="",u.digest=A,ii({value:u,source:null,stack:null}),s=rm(t,s,i)}else if(Pt||li(t,s,i,!1),A=(i&t.childLanes)!==0,Pt||A){if(A=xt,A!==null&&(u=i&-i,u=(u&42)!==0?1:Pa(u),u=(u&(A.suspendedLanes|i))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,zo(t,u),gn(A,t,u),w0;z.data==="$?"||Nm(),s=rm(t,s,i)}else z.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=F.treeContext,_t=Hn(z.nextSibling),Kt=s,it=!0,Yr=null,Kn=!1,t!==null&&(_n[En++]=js,_n[En++]=Ss,_n[En++]=qr,js=t.id,Ss=t.overflow,qr=s),s=sm(s,u.children),s.flags|=4096);return s}return p?(rr(),p=u.fallback,z=s.mode,F=t.child,re=F.sibling,u=Ns(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,re!==null?p=Ns(re,p):(p=Vr(p,z,i,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,z=t.child.memoizedState,z===null?z=tm(i):(F=z.cachePool,F!==null?(re=zt._currentValue,F=F.parent!==re?{parent:re,pool:re}:F):F=gx(),z={baseLanes:z.baseLanes|i,cachePool:F}),p.memoizedState=z,p.childLanes=nm(t,A,i),s.memoizedState=em,u):(sr(s),i=t.child,t=i.sibling,i=Ns(i,{mode:"visible",children:u.children}),i.return=s,i.sibling=null,t!==null&&(A=s.deletions,A===null?(s.deletions=[t],s.flags|=16):A.push(t)),s.child=i,s.memoizedState=null,i)}function sm(t,s){return s=bc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function bc(t,s){return t=dn(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function rm(t,s,i){return Yo(s,t.child,null,i),t=sm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function T0(t,s,i){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),Nf(t.return,s,i)}function om(t,s,i,u,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=i,v.tailMode=p)}function R0(t,s,i){var u=s.pendingProps,p=u.revealOrder,v=u.tail;if(Vt(t,s,u.children,i),u=It.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T0(t,i,s);else if(t.tag===19)T0(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(V(It,u),p){case"forwards":for(i=s.child,p=null;i!==null;)t=i.alternate,t!==null&&gc(t)===null&&(p=i),i=i.sibling;i=p,i===null?(p=s.child,s.child=null):(p=i.sibling,i.sibling=null),om(s,!1,p,i,v);break;case"backwards":for(i=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&gc(t)===null){s.child=p;break}t=p.sibling,p.sibling=i,i=p,p=t}om(s,!0,i,null,v);break;case"together":om(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function As(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),cr|=s.lanes,(i&s.childLanes)===0)if(t!==null){if(li(t,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,i=Ns(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=Ns(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function am(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function E_(t,s,i){switch(s.tag){case 3:ie(s,s.stateNode.containerInfo),Qs(s,zt,t.memoizedState.cache),ai();break;case 27:case 5:we(s);break;case 4:ie(s,s.stateNode.containerInfo);break;case 10:Qs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(sr(s),s.flags|=128,null):(i&s.child.childLanes)!==0?M0(t,s,i):(sr(s),t=As(t,s,i),t!==null?t.sibling:null);sr(s);break;case 19:var p=(t.flags&128)!==0;if(u=(i&s.childLanes)!==0,u||(li(t,s,i,!1),u=(i&s.childLanes)!==0),p){if(u)return R0(t,s,i);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),V(It,It.current),u)break;return null;case 22:case 23:return s.lanes=0,_0(t,s,i);case 24:Qs(s,zt,t.memoizedState.cache)}return As(t,s,i)}function D0(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps)Pt=!0;else{if(!am(t,i)&&(s.flags&128)===0)return Pt=!1,E_(t,s,i);Pt=(t.flags&131072)!==0}else Pt=!1,it&&(s.flags&1048576)!==0&&cx(s,Jl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")pf(u)?(t=Qr(u,t),s.tag=1,s=k0(null,s,u,t,i)):(s.tag=0,s=Jf(null,s,u,t,i));else{if(u!=null){if(p=u.$$typeof,p===T){s.tag=11,s=N0(null,s,u,t,i);break e}else if(p===O){s.tag=14,s=j0(null,s,u,t,i);break e}}throw s=B(u)||u,Error(a(306,s,""))}}return s;case 0:return Jf(t,s,s.type,s.pendingProps,i);case 1:return u=s.type,p=Qr(u,s.pendingProps),k0(t,s,u,p,i);case 3:e:{if(ie(s,s.stateNode.containerInfo),t===null)throw Error(a(387));u=s.pendingProps;var v=s.memoizedState;p=v.element,Af(t,s),pi(s,u,null,i);var A=s.memoizedState;if(u=A.cache,Qs(s,zt,u),u!==v.cache&&jf(s,[zt],i,!0),hi(),u=A.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=A0(t,s,u,i);break e}else if(u!==p){p=jn(Error(a(424)),s),ii(p),s=A0(t,s,u,i);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=Hn(t.firstChild),Kt=s,it=!0,Yr=null,Kn=!0,i=d0(s,null,u,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ai(),u===p){s=As(t,s,i);break e}Vt(t,s,u,i)}s=s.child}return s;case 26:return vc(t,s),t===null?(i=Ly(s.type,null,s.pendingProps,null))?s.memoizedState=i:it||(i=s.type,t=s.pendingProps,u=Oc(ue.current).createElement(i),u[Ht]=s,u[Xt]=t,Ft(u,i,t),Tt(u),s.stateNode=u):s.memoizedState=Ly(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return we(s),t===null&&it&&(u=s.stateNode=Oy(s.type,s.pendingProps,ue.current),Kt=s,Kn=!0,p=_t,mr(s.type)?(Pm=p,_t=Hn(u.firstChild)):_t=p),Vt(t,s,s.pendingProps.children,i),vc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&it&&((p=u=_t)&&(u=eE(u,s.type,s.pendingProps,Kn),u!==null?(s.stateNode=u,Kt=s,_t=Hn(u.firstChild),Kn=!1,p=!0):p=!1),p||Gr(s)),we(s),p=s.type,v=s.pendingProps,A=t!==null?t.memoizedProps:null,u=v.children,Im(p,v)?u=null:A!==null&&Im(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=zf(t,s,y_,null,null,i),Li._currentValue=p),vc(t,s),Vt(t,s,u,i),s.child;case 6:return t===null&&it&&((t=i=_t)&&(i=tE(i,s.pendingProps,Kn),i!==null?(s.stateNode=i,Kt=s,_t=null,t=!0):t=!1),t||Gr(s)),null;case 13:return M0(t,s,i);case 4:return ie(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Yo(s,null,u,i):Vt(t,s,u,i),s.child;case 11:return N0(t,s,s.type,s.pendingProps,i);case 7:return Vt(t,s,s.pendingProps,i),s.child;case 8:return Vt(t,s,s.pendingProps.children,i),s.child;case 12:return Vt(t,s,s.pendingProps.children,i),s.child;case 10:return u=s.pendingProps,Qs(s,s.type,u.value),Vt(t,s,u.children,i),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Zr(s),p=Zt(p),u=u(p),s.flags|=1,Vt(t,s,u,i),s.child;case 14:return j0(t,s,s.type,s.pendingProps,i);case 15:return S0(t,s,s.type,s.pendingProps,i);case 19:return R0(t,s,i);case 31:return u=s.pendingProps,i=s.mode,u={mode:u.mode,children:u.children},t===null?(i=bc(u,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=Ns(t.child,u),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return _0(t,s,i);case 24:return Zr(s),u=Zt(zt),t===null?(p=Ef(),p===null&&(p=xt,v=Sf(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=i),p=v),s.memoizedState={parent:u,cache:p},kf(s),Qs(s,zt,p)):((t.lanes&i)!==0&&(Af(t,s),pi(s,null,null,i),hi()),p=t.memoizedState,v=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Qs(s,zt,u)):(u=v.cache,Qs(s,zt,u),u!==p.cache&&jf(s,[zt],i,!0))),Vt(t,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Ms(t){t.flags|=4}function O0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uy(s)){if(s=Cn.current,s!==null&&((st&4194048)===st?Qn!==null:(st&62914560)!==st&&(st&536870912)===0||s!==Qn))throw fi=Cf,xx;t.flags|=8192}}function wc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?St():536870912,t.lanes|=s,Wo|=s)}function Ni(t,s){if(!it)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function jt(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(s)for(var p=t.child;p!==null;)i|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)i|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=i,s}function C_(t,s,i){var u=s.pendingProps;switch(vf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return i=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Es(zt),ge(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(oi(s)?Ms(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fx())),jt(s),null;case 26:return i=s.memoizedState,t===null?(Ms(s),i!==null?(jt(s),O0(s,i)):(jt(s),s.flags&=-16777217)):i?i!==t.memoizedState?(Ms(s),jt(s),O0(s,i)):(jt(s),s.flags&=-16777217):(t.memoizedProps!==u&&Ms(s),jt(s),s.flags&=-16777217),null;case 27:Ne(s),i=ue.current;var p=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Ms(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return jt(s),null}t=W.current,oi(s)?ux(s):(t=Oy(p,u,i),s.stateNode=t,Ms(s))}return jt(s),null;case 5:if(Ne(s),i=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Ms(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return jt(s),null}if(t=W.current,oi(s))ux(s);else{switch(p=Oc(ue.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?p.createElement(i,{is:u.is}):p.createElement(i)}}t[Ht]=s,t[Xt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=t;e:switch(Ft(t,i,u),i){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ms(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&Ms(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(t=ue.current,oi(s)){if(t=s.stateNode,i=s.memoizedProps,u=null,p=Kt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[Ht]=s,t=!!(t.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||Cy(t.nodeValue,i)),t||Gr(s)}else t=Oc(t).createTextNode(u),t[Ht]=s,s.stateNode=t}return jt(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=oi(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Ht]=s}else ai(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else p=fx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ks(s),s):(ks(s),null)}if(ks(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=u!==null,t=t!==null&&t.memoizedState!==null,i){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)}return i!==t&&i&&(s.child.flags|=8192),wc(s,s.updateQueue),jt(s),null;case 4:return ge(),t===null&&Tm(s.stateNode.containerInfo),jt(s),null;case 10:return Es(s.type),jt(s),null;case 19:if(Y(It),p=s.memoizedState,p===null)return jt(s),null;if(u=(s.flags&128)!==0,v=p.rendering,v===null)if(u)Ni(p,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=gc(t),v!==null){for(s.flags|=128,Ni(p,!1),t=v.updateQueue,s.updateQueue=t,wc(s,t),s.subtreeFlags=0,t=i,i=s.child;i!==null;)lx(i,t),i=i.sibling;return V(It,It.current&1|2),s.child}t=t.sibling}p.tail!==null&&ye()>Sc&&(s.flags|=128,u=!0,Ni(p,!1),s.lanes=4194304)}else{if(!u)if(t=gc(v),t!==null){if(s.flags|=128,u=!0,t=t.updateQueue,s.updateQueue=t,wc(s,t),Ni(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!it)return jt(s),null}else 2*ye()-p.renderingStartTime>Sc&&i!==536870912&&(s.flags|=128,u=!0,Ni(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(t=p.last,t!==null?t.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=ye(),s.sibling=null,t=It.current,V(It,u?t&1|2:t&1),s):(jt(s),null);case 22:case 23:return ks(s),Df(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(i&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),i=s.updateQueue,i!==null&&wc(s,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==i&&(s.flags|=2048),t!==null&&Y(Wr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Es(zt),jt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function k_(t,s){switch(vf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Es(zt),ge(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 13:if(ks(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ai()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(It),null;case 4:return ge(),null;case 10:return Es(s.type),null;case 22:case 23:return ks(s),Df(),t!==null&&Y(Wr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Es(zt),null;case 25:return null;default:return null}}function z0(t,s){switch(vf(s),s.tag){case 3:Es(zt),ge();break;case 26:case 27:case 5:Ne(s);break;case 4:ge();break;case 13:ks(s);break;case 19:Y(It);break;case 10:Es(s.type);break;case 22:case 23:ks(s),Df(),t!==null&&Y(Wr);break;case 24:Es(zt)}}function ji(t,s){try{var i=s.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var p=u.next;i=p;do{if((i.tag&t)===t){u=void 0;var v=i.create,A=i.inst;u=v(),A.destroy=u}i=i.next}while(i!==p)}}catch(z){ht(s,s.return,z)}}function or(t,s,i){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var A=u.inst,z=A.destroy;if(z!==void 0){A.destroy=void 0,p=s;var F=i,re=z;try{re()}catch(le){ht(p,F,le)}}}u=u.next}while(u!==v)}}catch(le){ht(s,s.return,le)}}function I0(t){var s=t.updateQueue;if(s!==null){var i=t.stateNode;try{jx(s,i)}catch(u){ht(t,t.return,u)}}}function L0(t,s,i){i.props=Qr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(u){ht(t,s,u)}}function Si(t,s){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof i=="function"?t.refCleanup=i(u):i.current=u}}catch(p){ht(t,s,p)}}function Jn(t,s){var i=t.ref,u=t.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(p){ht(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(p){ht(t,s,p)}else i.current=null}function $0(t){var s=t.type,i=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(p){ht(t,t.return,p)}}function im(t,s,i){try{var u=t.stateNode;Z_(u,t.type,i,s),u[Xt]=s}catch(p){ht(t,t.return,p)}}function H0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&mr(t.type)||t.tag===4}function lm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cm(t,s,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(t),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Dc));else if(u!==4&&(u===27&&mr(t.type)&&(i=t.stateNode,s=null),t=t.child,t!==null))for(cm(t,s,i),t=t.sibling;t!==null;)cm(t,s,i),t=t.sibling}function Nc(t,s,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(u!==4&&(u===27&&mr(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Nc(t,s,i),t=t.sibling;t!==null;)Nc(t,s,i),t=t.sibling}function P0(t){var s=t.stateNode,i=t.memoizedProps;try{for(var u=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Ft(s,u,i),s[Ht]=t,s[Xt]=i}catch(v){ht(t,t.return,v)}}var Ts=!1,At=!1,um=!1,B0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function A_(t,s){if(t=t.containerInfo,Om=Pc,t=Qg(t),lf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{i.nodeType,v.nodeType}catch{i=null;break e}var A=0,z=-1,F=-1,re=0,le=0,me=t,oe=null;t:for(;;){for(var ae;me!==i||p!==0&&me.nodeType!==3||(z=A+p),me!==v||u!==0&&me.nodeType!==3||(F=A+u),me.nodeType===3&&(A+=me.nodeValue.length),(ae=me.firstChild)!==null;)oe=me,me=ae;for(;;){if(me===t)break t;if(oe===i&&++re===p&&(z=A),oe===v&&++le===u&&(F=A),(ae=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=ae}i=z===-1||F===-1?null:{start:z,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(zm={focusedElem:t,selectionRange:i},Pc=!1,Bt=s;Bt!==null;)if(s=Bt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Bt=t;else for(;Bt!==null;){switch(s=Bt,v=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,i=s,p=v.memoizedProps,v=v.memoizedState,u=i.stateNode;try{var Fe=Qr(i.type,p,i.elementType===i.type);t=u.getSnapshotBeforeUpdate(Fe,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){ht(i,i.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,i=t.nodeType,i===9)$m(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,Bt=t;break}Bt=s.return}}function U0(t,s,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:ar(t,i),u&4&&ji(5,i);break;case 1:if(ar(t,i),u&4)if(t=i.stateNode,s===null)try{t.componentDidMount()}catch(A){ht(i,i.return,A)}else{var p=Qr(i.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(A){ht(i,i.return,A)}}u&64&&I0(i),u&512&&Si(i,i.return);break;case 3:if(ar(t,i),u&64&&(t=i.updateQueue,t!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{jx(t,s)}catch(A){ht(i,i.return,A)}}break;case 27:s===null&&u&4&&P0(i);case 26:case 5:ar(t,i),s===null&&u&4&&$0(i),u&512&&Si(i,i.return);break;case 12:ar(t,i);break;case 13:ar(t,i),u&4&&F0(t,i),u&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=$_.bind(null,i),nE(t,i))));break;case 22:if(u=i.memoizedState!==null||Ts,!u){s=s!==null&&s.memoizedState!==null||At,p=Ts;var v=At;Ts=u,(At=s)&&!v?ir(t,i,(i.subtreeFlags&8772)!==0):ar(t,i),Ts=p,At=v}break;case 30:break;default:ar(t,i)}}function V0(t){var s=t.alternate;s!==null&&(t.alternate=null,V0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Va(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,an=!1;function Rs(t,s,i){for(i=i.child;i!==null;)q0(t,s,i),i=i.sibling}function q0(t,s,i){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Be,i)}catch{}switch(i.tag){case 26:At||Jn(i,s),Rs(t,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:At||Jn(i,s);var u=vt,p=an;mr(i.type)&&(vt=i.stateNode,an=!1),Rs(t,s,i),Di(i.stateNode),vt=u,an=p;break;case 5:At||Jn(i,s);case 6:if(u=vt,p=an,vt=null,Rs(t,s,i),vt=u,an=p,vt!==null)if(an)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(i.stateNode)}catch(v){ht(i,s,v)}else try{vt.removeChild(i.stateNode)}catch(v){ht(i,s,v)}break;case 18:vt!==null&&(an?(t=vt,Ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Bi(t)):Ry(vt,i.stateNode));break;case 4:u=vt,p=an,vt=i.stateNode.containerInfo,an=!0,Rs(t,s,i),vt=u,an=p;break;case 0:case 11:case 14:case 15:At||or(2,i,s),At||or(4,i,s),Rs(t,s,i);break;case 1:At||(Jn(i,s),u=i.stateNode,typeof u.componentWillUnmount=="function"&&L0(i,s,u)),Rs(t,s,i);break;case 21:Rs(t,s,i);break;case 22:At=(u=At)||i.memoizedState!==null,Rs(t,s,i),At=u;break;default:Rs(t,s,i)}}function F0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bi(t)}catch(i){ht(s,s.return,i)}}function M_(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new B0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new B0),s;default:throw Error(a(435,t.tag))}}function dm(t,s){var i=M_(t);s.forEach(function(u){var p=H_.bind(null,t,u);i.has(u)||(i.add(u),u.then(p,p))})}function fn(t,s){var i=s.deletions;if(i!==null)for(var u=0;u<i.length;u++){var p=i[u],v=t,A=s,z=A;e:for(;z!==null;){switch(z.tag){case 27:if(mr(z.type)){vt=z.stateNode,an=!1;break e}break;case 5:vt=z.stateNode,an=!1;break e;case 3:case 4:vt=z.stateNode.containerInfo,an=!0;break e}z=z.return}if(vt===null)throw Error(a(160));q0(v,A,p),vt=null,an=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Y0(s,t),s=s.sibling}var $n=null;function Y0(t,s){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(s,t),mn(t),u&4&&(or(3,t,t.return),ji(3,t),or(5,t,t.return));break;case 1:fn(s,t),mn(t),u&512&&(At||i===null||Jn(i,i.return)),u&64&&Ts&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var p=$n;if(fn(s,t),mn(t),u&512&&(At||i===null||Jn(i,i.return)),u&4){var v=i!==null?i.memoizedState:null;if(u=t.memoizedState,i===null)if(u===null)if(t.stateNode===null){e:{u=t.type,i=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[$r]||v[Ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Ft(v,u,i),v[Ht]=t,Tt(v),u=v;break e;case"link":var A=Py("link","href",p).get(u+(i.href||""));if(A){for(var z=0;z<A.length;z++)if(v=A[z],v.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&v.getAttribute("rel")===(i.rel==null?null:i.rel)&&v.getAttribute("title")===(i.title==null?null:i.title)&&v.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){A.splice(z,1);break t}}v=p.createElement(u),Ft(v,u,i),p.head.appendChild(v);break;case"meta":if(A=Py("meta","content",p).get(u+(i.content||""))){for(z=0;z<A.length;z++)if(v=A[z],v.getAttribute("content")===(i.content==null?null:""+i.content)&&v.getAttribute("name")===(i.name==null?null:i.name)&&v.getAttribute("property")===(i.property==null?null:i.property)&&v.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&v.getAttribute("charset")===(i.charSet==null?null:i.charSet)){A.splice(z,1);break t}}v=p.createElement(u),Ft(v,u,i),p.head.appendChild(v);break;default:throw Error(a(468,u))}v[Ht]=t,Tt(v),u=v}t.stateNode=u}else By(p,t.type,t.stateNode);else t.stateNode=Hy(p,u,t.memoizedProps);else v!==u?(v===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):v.count--,u===null?By(p,t.type,t.stateNode):Hy(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&im(t,t.memoizedProps,i.memoizedProps)}break;case 27:fn(s,t),mn(t),u&512&&(At||i===null||Jn(i,i.return)),i!==null&&u&4&&im(t,t.memoizedProps,i.memoizedProps);break;case 5:if(fn(s,t),mn(t),u&512&&(At||i===null||Jn(i,i.return)),t.flags&32){p=t.stateNode;try{ko(p,"")}catch(ae){ht(t,t.return,ae)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,im(t,p,i!==null?i.memoizedProps:p)),u&1024&&(um=!0);break;case 6:if(fn(s,t),mn(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,i=t.stateNode;try{i.nodeValue=u}catch(ae){ht(t,t.return,ae)}}break;case 3:if(Lc=null,p=$n,$n=zc(s.containerInfo),fn(s,t),$n=p,mn(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Bi(s.containerInfo)}catch(ae){ht(t,t.return,ae)}um&&(um=!1,G0(t));break;case 4:u=$n,$n=zc(t.stateNode.containerInfo),fn(s,t),mn(t),$n=u;break;case 12:fn(s,t),mn(t);break;case 13:fn(s,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(xm=ye()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,dm(t,u)));break;case 22:p=t.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,re=Ts,le=At;if(Ts=re||p,At=le||F,fn(s,t),At=le,Ts=re,mn(t),u&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(i===null||F||Ts||At||Jr(t)),i=null,s=t;;){if(s.tag===5||s.tag===26){if(i===null){F=i=s;try{if(v=F.stateNode,p)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{z=F.stateNode;var me=F.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;z.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ae){ht(F,F.return,ae)}}}else if(s.tag===6){if(i===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(ae){ht(F,F.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,dm(t,i))));break;case 19:fn(s,t),mn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,dm(t,u)));break;case 30:break;case 21:break;default:fn(s,t),mn(t)}}function mn(t){var s=t.flags;if(s&2){try{for(var i,u=t.return;u!==null;){if(H0(u)){i=u;break}u=u.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var p=i.stateNode,v=lm(t);Nc(t,v,p);break;case 5:var A=i.stateNode;i.flags&32&&(ko(A,""),i.flags&=-33);var z=lm(t);Nc(t,z,A);break;case 3:case 4:var F=i.stateNode.containerInfo,re=lm(t);cm(t,re,F);break;default:throw Error(a(161))}}catch(le){ht(t,t.return,le)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function G0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;G0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ar(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)U0(t,s.alternate,s),s=s.sibling}function Jr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:or(4,s,s.return),Jr(s);break;case 1:Jn(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&L0(s,s.return,i),Jr(s);break;case 27:Di(s.stateNode);case 26:case 5:Jn(s,s.return),Jr(s);break;case 22:s.memoizedState===null&&Jr(s);break;case 30:Jr(s);break;default:Jr(s)}t=t.sibling}}function ir(t,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:ir(p,v,i),ji(4,v);break;case 1:if(ir(p,v,i),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(re){ht(u,u.return,re)}if(u=v,p=u.updateQueue,p!==null){var z=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Nx(F[p],z)}catch(re){ht(u,u.return,re)}}i&&A&64&&I0(v),Si(v,v.return);break;case 27:P0(v);case 26:case 5:ir(p,v,i),i&&u===null&&A&4&&$0(v),Si(v,v.return);break;case 12:ir(p,v,i);break;case 13:ir(p,v,i),i&&A&4&&F0(p,v);break;case 22:v.memoizedState===null&&ir(p,v,i),Si(v,v.return);break;case 30:break;default:ir(p,v,i)}s=s.sibling}}function fm(t,s){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ci(i))}function mm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ci(t))}function es(t,s,i,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X0(t,s,i,u),s=s.sibling}function X0(t,s,i,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:es(t,s,i,u),p&2048&&ji(9,s);break;case 1:es(t,s,i,u);break;case 3:es(t,s,i,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ci(t)));break;case 12:if(p&2048){es(t,s,i,u),t=s.stateNode;try{var v=s.memoizedProps,A=v.id,z=v.onPostCommit;typeof z=="function"&&z(A,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){ht(s,s.return,F)}}else es(t,s,i,u);break;case 13:es(t,s,i,u);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?es(t,s,i,u):_i(t,s):v._visibility&2?es(t,s,i,u):(v._visibility|=2,Go(t,s,i,u,(s.subtreeFlags&10256)!==0)),p&2048&&fm(A,s);break;case 24:es(t,s,i,u),p&2048&&mm(s.alternate,s);break;default:es(t,s,i,u)}}function Go(t,s,i,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=t,A=s,z=i,F=u,re=A.flags;switch(A.tag){case 0:case 11:case 15:Go(v,A,z,F,p),ji(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?Go(v,A,z,F,p):_i(v,A):(le._visibility|=2,Go(v,A,z,F,p)),p&&re&2048&&fm(A.alternate,A);break;case 24:Go(v,A,z,F,p),p&&re&2048&&mm(A.alternate,A);break;default:Go(v,A,z,F,p)}s=s.sibling}}function _i(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=t,u=s,p=u.flags;switch(u.tag){case 22:_i(i,u),p&2048&&fm(u.alternate,u);break;case 24:_i(i,u),p&2048&&mm(u.alternate,u);break;default:_i(i,u)}s=s.sibling}}var Ei=8192;function Xo(t){if(t.subtreeFlags&Ei)for(t=t.child;t!==null;)Z0(t),t=t.sibling}function Z0(t){switch(t.tag){case 26:Xo(t),t.flags&Ei&&t.memoizedState!==null&&pE($n,t.memoizedState,t.memoizedProps);break;case 5:Xo(t);break;case 3:case 4:var s=$n;$n=zc(t.stateNode.containerInfo),Xo(t),$n=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Ei,Ei=16777216,Xo(t),Ei=s):Xo(t));break;default:Xo(t)}}function W0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ci(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Bt=u,Q0(u,t)}W0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)K0(t),t=t.sibling}function K0(t){switch(t.tag){case 0:case 11:case 15:Ci(t),t.flags&2048&&or(9,t,t.return);break;case 3:Ci(t);break;case 12:Ci(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,jc(t)):Ci(t);break;default:Ci(t)}}function jc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Bt=u,Q0(u,t)}W0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:or(8,s,s.return),jc(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,jc(s));break;default:jc(s)}t=t.sibling}}function Q0(t,s){for(;Bt!==null;){var i=Bt;switch(i.tag){case 0:case 11:case 15:or(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ci(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,Bt=u;else e:for(i=t;Bt!==null;){u=Bt;var p=u.sibling,v=u.return;if(V0(u),u===i){Bt=null;break e}if(p!==null){p.return=v,Bt=p;break e}Bt=v}}}var T_={getCacheForType:function(t){var s=Zt(zt),i=s.data.get(t);return i===void 0&&(i=t(),s.data.set(t,i)),i}},R_=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,Je=null,st=0,ct=0,hn=null,lr=!1,Zo=!1,hm=!1,Ds=0,Et=0,cr=0,eo=0,pm=0,kn=0,Wo=0,ki=null,ln=null,gm=!1,xm=0,Sc=1/0,_c=null,ur=null,qt=0,dr=null,Ko=null,Qo=0,ym=0,vm=null,J0=null,Ai=0,bm=null;function pn(){if((lt&2)!==0&&st!==0)return st&-st;if(k.T!==null){var t=Ho;return t!==0?t:Cm()}return Rl()}function ey(){kn===0&&(kn=(st&536870912)===0||it?gt():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),kn}function gn(t,s,i){(t===xt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Jo(t,0),fr(t,st,kn,!1)),tn(t,i),((lt&2)===0||t!==xt)&&(t===xt&&((lt&2)===0&&(eo|=i),Et===4&&fr(t,st,kn,!1)),ts(t))}function ty(t,s,i){if((lt&6)!==0)throw Error(a(327));var u=!i&&(s&124)===0&&(s&t.expiredLanes)===0||He(t,s),p=u?z_(t,s):jm(t,s,!0),v=u;do{if(p===0){Zo&&!u&&fr(t,s,0,!1);break}else{if(i=t.current.alternate,v&&!D_(i)){p=jm(t,s,!1),v=!1;continue}if(p===2){if(v=s,t.errorRecoveryDisabledLanes&v)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var z=t;p=ki;var F=z.current.memoizedState.isDehydrated;if(F&&(Jo(z,A).flags|=256),A=jm(z,A,!1),A!==2){if(hm&&!F){z.errorRecoveryDisabledLanes|=v,eo|=v,p=4;break e}v=ln,ln=p,v!==null&&(ln===null?ln=v:ln.push.apply(ln,v))}p=A}if(v=!1,p!==2)continue}}if(p===1){Jo(t,0),fr(t,s,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:fr(u,s,kn,!lr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=xm+300-ye(),10<p)){if(fr(u,s,kn,!lr),On(u,0,!0)!==0)break e;u.timeoutHandle=My(ny.bind(null,u,i,ln,_c,gm,s,kn,eo,Wo,lr,v,2,-0,0),p);break e}ny(u,i,ln,_c,gm,s,kn,eo,Wo,lr,v,0,-0,0)}}break}while(!0);ts(t)}function ny(t,s,i,u,p,v,A,z,F,re,le,me,oe,ae){if(t.timeoutHandle=-1,me=s.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(Ii={stylesheets:null,count:0,unsuspend:hE},Z0(s),me=gE(),me!==null)){t.cancelPendingCommit=me(cy.bind(null,t,s,v,i,u,p,A,z,F,le,1,oe,ae)),fr(t,v,A,!re);return}cy(t,s,v,i,u,p,A,z,F)}function D_(t){for(var s=t;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var p=i[u],v=p.getSnapshot;p=p.value;try{if(!un(v(),p))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fr(t,s,i,u){s&=~pm,s&=~eo,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var v=31-pt(p),A=1<<v;u[v]=-1,p&=~A}i!==0&&Zn(t,i,s)}function Ec(){return(lt&6)===0?(Mi(0),!1):!0}function wm(){if(Je!==null){if(ct===0)var t=Je.return;else t=Je,_s=Xr=null,$f(t),Fo=null,bi=0,t=Je;for(;t!==null;)z0(t.alternate,t),t=t.return;Je=null}}function Jo(t,s){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,K_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),wm(),xt=t,Je=i=Ns(t.current,null),st=s,ct=0,hn=null,lr=!1,Zo=He(t,s),hm=!1,Wo=kn=pm=eo=cr=Et=0,ln=ki=null,gm=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-pt(u),v=1<<p;s|=t[p],u&=~v}return Ds=s,Xl(),i}function sy(t,s){Ze=null,k.H=mc,s===di||s===sc?(s=bx(),ct=3):s===xx?(s=bx(),ct=4):ct=s===w0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hn=s,Je===null&&(Et=1,yc(t,jn(s,t.current)))}function ry(){var t=k.H;return k.H=mc,t===null?mc:t}function oy(){var t=k.A;return k.A=T_,t}function Nm(){Et=4,lr||(st&4194048)!==st&&Cn.current!==null||(Zo=!0),(cr&134217727)===0&&(eo&134217727)===0||xt===null||fr(xt,st,kn,!1)}function jm(t,s,i){var u=lt;lt|=2;var p=ry(),v=oy();(xt!==t||st!==s)&&(_c=null,Jo(t,s)),s=!1;var A=Et;e:do try{if(ct!==0&&Je!==null){var z=Je,F=hn;switch(ct){case 8:wm(),A=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(s=!0);var re=ct;if(ct=0,hn=null,ea(t,z,F,re),i&&Zo){A=0;break e}break;default:re=ct,ct=0,hn=null,ea(t,z,F,re)}}O_(),A=Et;break}catch(le){sy(t,le)}while(!0);return s&&t.shellSuspendCounter++,_s=Xr=null,lt=u,k.H=p,k.A=v,Je===null&&(xt=null,st=0,Xl()),A}function O_(){for(;Je!==null;)ay(Je)}function z_(t,s){var i=lt;lt|=2;var u=ry(),p=oy();xt!==t||st!==s?(_c=null,Sc=ye()+500,Jo(t,s)):Zo=He(t,s);e:do try{if(ct!==0&&Je!==null){s=Je;var v=hn;t:switch(ct){case 1:ct=0,hn=null,ea(t,s,v,1);break;case 2:case 9:if(yx(v)){ct=0,hn=null,iy(s);break}s=function(){ct!==2&&ct!==9||xt!==t||(ct=7),ts(t)},v.then(s,s);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:yx(v)?(ct=0,hn=null,iy(s)):(ct=0,hn=null,ea(t,s,v,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var z=Je;if(!A||Uy(A)){ct=0,hn=null;var F=z.sibling;if(F!==null)Je=F;else{var re=z.return;re!==null?(Je=re,Cc(re)):Je=null}break t}}ct=0,hn=null,ea(t,s,v,5);break;case 6:ct=0,hn=null,ea(t,s,v,6);break;case 8:wm(),Et=6;break e;default:throw Error(a(462))}}I_();break}catch(le){sy(t,le)}while(!0);return _s=Xr=null,k.H=u,k.A=p,lt=i,Je!==null?0:(xt=null,st=0,Xl(),Et)}function I_(){for(;Je!==null&&!ee();)ay(Je)}function ay(t){var s=D0(t.alternate,t,Ds);t.memoizedProps=t.pendingProps,s===null?Cc(t):Je=s}function iy(t){var s=t,i=s.alternate;switch(s.tag){case 15:case 0:s=C0(i,s,s.pendingProps,s.type,void 0,st);break;case 11:s=C0(i,s,s.pendingProps,s.type.render,s.ref,st);break;case 5:$f(s);default:z0(i,s),s=Je=lx(s,Ds),s=D0(i,s,Ds)}t.memoizedProps=t.pendingProps,s===null?Cc(t):Je=s}function ea(t,s,i,u){_s=Xr=null,$f(s),Fo=null,bi=0;var p=s.return;try{if(__(t,p,s,i,st)){Et=1,yc(t,jn(i,t.current)),Je=null;return}}catch(v){if(p!==null)throw Je=p,v;Et=1,yc(t,jn(i,t.current)),Je=null;return}s.flags&32768?(it||u===1?t=!0:Zo||(st&536870912)!==0?t=!1:(lr=t=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ly(s,t)):Cc(s)}function Cc(t){var s=t;do{if((s.flags&32768)!==0){ly(s,lr);return}t=s.return;var i=C_(s.alternate,s,Ds);if(i!==null){Je=i;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=t}while(s!==null);Et===0&&(Et=5)}function ly(t,s){do{var i=k_(t.alternate,t);if(i!==null){i.flags&=32767,Je=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(t=t.sibling,t!==null)){Je=t;return}Je=t=i}while(t!==null);Et=6,Je=null}function cy(t,s,i,u,p,v,A,z,F){t.cancelPendingCommit=null;do kc();while(qt!==0);if((lt&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(v=s.lanes|s.childLanes,v|=mf,zn(t,i,v,A,z,F),t===xt&&(Je=xt=null,st=0),Ko=s,dr=t,Qo=i,ym=v,vm=p,J0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,P_(at,function(){return hy(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,p=L.p,L.p=2,A=lt,lt|=4;try{A_(t,s,i)}finally{lt=A,L.p=p,k.T=u}}qt=1,uy(),dy(),fy()}}function uy(){if(qt===1){qt=0;var t=dr,s=Ko,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var u=L.p;L.p=2;var p=lt;lt|=4;try{Y0(s,t);var v=zm,A=Qg(t.containerInfo),z=v.focusedElem,F=v.selectionRange;if(A!==z&&z&&z.ownerDocument&&Kg(z.ownerDocument.documentElement,z)){if(F!==null&&lf(z)){var re=F.start,le=F.end;if(le===void 0&&(le=re),"selectionStart"in z)z.selectionStart=re,z.selectionEnd=Math.min(le,z.value.length);else{var me=z.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var ae=oe.getSelection(),Fe=z.textContent.length,Ve=Math.min(F.start,Fe),mt=F.end===void 0?Ve:Math.min(F.end,Fe);!ae.extend&&Ve>mt&&(A=mt,mt=Ve,Ve=A);var Q=Wg(z,Ve),X=Wg(z,mt);if(Q&&X&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var se=me.createRange();se.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ve>mt?(ae.addRange(se),ae.extend(X.node,X.offset)):(se.setEnd(X.node,X.offset),ae.addRange(se))}}}}for(me=[],ae=z;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<me.length;z++){var ce=me[z];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Pc=!!Om,zm=Om=null}finally{lt=p,L.p=u,k.T=i}}t.current=s,qt=2}}function dy(){if(qt===2){qt=0;var t=dr,s=Ko,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var u=L.p;L.p=2;var p=lt;lt|=4;try{U0(t,s.alternate,s)}finally{lt=p,L.p=u,k.T=i}}qt=3}}function fy(){if(qt===4||qt===3){qt=0,ve();var t=dr,s=Ko,i=Qo,u=J0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?qt=5:(qt=0,Ko=dr=null,my(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(ur=null),Ba(i),s=s.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Be,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=k.T,p=L.p,L.p=2,k.T=null;try{for(var v=t.onRecoverableError,A=0;A<u.length;A++){var z=u[A];v(z.value,{componentStack:z.stack})}}finally{k.T=s,L.p=p}}(Qo&3)!==0&&kc(),ts(t),p=t.pendingLanes,(i&4194090)!==0&&(p&42)!==0?t===bm?Ai++:(Ai=0,bm=t):Ai=0,Mi(0)}}function my(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ci(s)))}function kc(t){return uy(),dy(),fy(),hy()}function hy(){if(qt!==5)return!1;var t=dr,s=ym;ym=0;var i=Ba(Qo),u=k.T,p=L.p;try{L.p=32>i?32:i,k.T=null,i=vm,vm=null;var v=dr,A=Qo;if(qt=0,Ko=dr=null,Qo=0,(lt&6)!==0)throw Error(a(331));var z=lt;if(lt|=4,K0(v.current),X0(v,v.current,A,i),lt=z,Mi(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Be,v)}catch{}return!0}finally{L.p=p,k.T=u,my(t,s)}}function py(t,s,i){s=jn(i,s),s=Qf(t.stateNode,s,2),t=tr(t,s,2),t!==null&&(tn(t,2),ts(t))}function ht(t,s,i){if(t.tag===3)py(t,t,i);else for(;s!==null;){if(s.tag===3){py(s,t,i);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ur===null||!ur.has(u))){t=jn(i,t),i=v0(2),u=tr(s,i,2),u!==null&&(b0(i,u,s,t),tn(u,2),ts(u));break}}s=s.return}}function Sm(t,s,i){var u=t.pingCache;if(u===null){u=t.pingCache=new R_;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(i)||(hm=!0,p.add(i),t=L_.bind(null,t,s,i),s.then(t,t))}function L_(t,s,i){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,xt===t&&(st&i)===i&&(Et===4||Et===3&&(st&62914560)===st&&300>ye()-xm?(lt&2)===0&&Jo(t,0):pm|=i,Wo===st&&(Wo=0)),ts(t)}function gy(t,s){s===0&&(s=St()),t=zo(t,s),t!==null&&(tn(t,s),ts(t))}function $_(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),gy(t,i)}function H_(t,s){var i=0;switch(t.tag){case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(i=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),gy(t,i)}function P_(t,s){return pe(t,s)}var Ac=null,ta=null,_m=!1,Mc=!1,Em=!1,to=0;function ts(t){t!==ta&&t.next===null&&(ta===null?Ac=ta=t:ta=ta.next=t),Mc=!0,_m||(_m=!0,U_())}function Mi(t,s){if(!Em&&Mc){Em=!0;do for(var i=!1,u=Ac;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var A=u.suspendedLanes,z=u.pingedLanes;v=(1<<31-pt(42|t)+1)-1,v&=p&~(A&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(i=!0,by(u,v))}else v=st,v=On(u,u===xt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||He(u,v)||(i=!0,by(u,v));u=u.next}while(i);Em=!1}}function B_(){xy()}function xy(){Mc=_m=!1;var t=0;to!==0&&(W_()&&(t=to),to=0);for(var s=ye(),i=null,u=Ac;u!==null;){var p=u.next,v=yy(u,s);v===0?(u.next=null,i===null?Ac=p:i.next=p,p===null&&(ta=i)):(i=u,(t!==0||(v&3)!==0)&&(Mc=!0)),u=p}Mi(t)}function yy(t,s){for(var i=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var A=31-pt(v),z=1<<A,F=p[A];F===-1?((z&i)===0||(z&u)!==0)&&(p[A]=be(z,s)):F<=s&&(t.expiredLanes|=z),v&=~z}if(s=xt,i=st,i=On(t,t===s?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,i===0||t===s&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&he(u),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||He(t,i)){if(s=i&-i,s===t.callbackPriority)return s;switch(u!==null&&he(u),Ba(i)){case 2:case 8:i=Ee;break;case 32:i=at;break;case 268435456:i=je;break;default:i=at}return u=vy.bind(null,t),i=pe(i,u),t.callbackPriority=s,t.callbackNode=i,s}return u!==null&&u!==null&&he(u),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,s){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(kc()&&t.callbackNode!==i)return null;var u=st;return u=On(t,t===xt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(ty(t,u,s),yy(t,ye()),t.callbackNode!=null&&t.callbackNode===i?vy.bind(null,t):null)}function by(t,s){if(kc())return null;ty(t,s,!0)}function U_(){Q_(function(){(lt&6)!==0?pe(_e,B_):xy()})}function Cm(){return to===0&&(to=gt()),to}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bl(""+t)}function Ny(t,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,t.id&&i.setAttribute("form",t.id),s.parentNode.insertBefore(i,s),t=new FormData(t),i.parentNode.removeChild(i),t}function V_(t,s,i,u,p){if(s==="submit"&&i&&i.stateNode===p){var v=wy((p[Xt]||null).action),A=u.submitter;A&&(s=(s=A[Xt]||null)?wy(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var z=new Fl("action","action",null,u,p);t.push({event:z,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(to!==0){var F=A?Ny(p,A):new FormData(p);Gf(i,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(z.preventDefault(),F=A?Ny(p,A):new FormData(p),Gf(i,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var km=0;km<ff.length;km++){var Am=ff[km],q_=Am.toLowerCase(),F_=Am[0].toUpperCase()+Am.slice(1);Ln(q_,"on"+F_)}Ln(tx,"onAnimationEnd"),Ln(nx,"onAnimationIteration"),Ln(sx,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(l_,"onTransitionRun"),Ln(c_,"onTransitionStart"),Ln(u_,"onTransitionCancel"),Ln(rx,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ti));function jy(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var A=u.length-1;0<=A;A--){var z=u[A],F=z.instance,re=z.currentTarget;if(z=z.listener,F!==v&&p.isPropagationStopped())break e;v=z,p.currentTarget=re;try{v(p)}catch(le){xc(le)}p.currentTarget=null,v=F}else for(A=0;A<u.length;A++){if(z=u[A],F=z.instance,re=z.currentTarget,z=z.listener,F!==v&&p.isPropagationStopped())break e;v=z,p.currentTarget=re;try{v(p)}catch(le){xc(le)}p.currentTarget=null,v=F}}}}function et(t,s){var i=s[Ua];i===void 0&&(i=s[Ua]=new Set);var u=t+"__bubble";i.has(u)||(Sy(s,t,2,!1),i.add(u))}function Mm(t,s,i){var u=0;s&&(u|=4),Sy(i,t,u,s)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Tm(t){if(!t[Tc]){t[Tc]=!0,Ol.forEach(function(i){i!=="selectionchange"&&(Y_.has(i)||Mm(i,!1,t),Mm(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Tc]||(s[Tc]=!0,Mm("selectionchange",!1,s))}}function Sy(t,s,i,u){switch(Xy(s)){case 2:var p=vE;break;case 8:p=bE;break;default:p=Fm}i=p.bind(null,s,i,t),p=void 0,!Qd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,i,{capture:!0,passive:p}):t.addEventListener(s,i,!0):p!==void 0?t.addEventListener(s,i,{passive:p}):t.addEventListener(s,i,!1)}function Rm(t,s,i,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var z=u.stateNode.containerInfo;if(z===p)break;if(A===4)for(A=u.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;z!==null;){if(A=Xs(z),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){u=v=A;continue e}z=z.parentNode}}u=u.return}Tg(function(){var re=v,le=Wd(i),me=[];e:{var oe=ox.get(t);if(oe!==void 0){var ae=Fl,Fe=t;switch(t){case"keypress":if(Vl(i)===0)break e;case"keydown":case"keyup":ae=PS;break;case"focusin":Fe="focus",ae=nf;break;case"focusout":Fe="blur",ae=nf;break;case"beforeblur":case"afterblur":ae=nf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=kS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=VS;break;case tx:case nx:case sx:ae=TS;break;case rx:ae=FS;break;case"scroll":case"scrollend":ae=ES;break;case"wheel":ae=GS;break;case"copy":case"cut":case"paste":ae=DS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ig;break;case"toggle":case"beforetoggle":ae=ZS}var Ve=(s&4)!==0,mt=!Ve&&(t==="scroll"||t==="scrollend"),Q=Ve?oe!==null?oe+"Capture":null:oe;Ve=[];for(var X=re,se;X!==null;){var ce=X;if(se=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||se===null||Q===null||(ce=Wa(X,Q),ce!=null&&Ve.push(Ri(X,ce,se))),mt)break;X=X.return}0<Ve.length&&(oe=new ae(oe,Fe,null,i,le),me.push({event:oe,listeners:Ve}))}}if((s&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",oe&&i!==Zd&&(Fe=i.relatedTarget||i.fromElement)&&(Xs(Fe)||Fe[Gs]))break e;if((ae||oe)&&(oe=le.window===le?le:(oe=le.ownerDocument)?oe.defaultView||oe.parentWindow:window,ae?(Fe=i.relatedTarget||i.toElement,ae=re,Fe=Fe?Xs(Fe):null,Fe!==null&&(mt=c(Fe),Ve=Fe.tag,Fe!==mt||Ve!==5&&Ve!==27&&Ve!==6)&&(Fe=null)):(ae=null,Fe=re),ae!==Fe)){if(Ve=Og,ce="onMouseLeave",Q="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Ig,ce="onPointerLeave",Q="onPointerEnter",X="pointer"),mt=ae==null?oe:Zs(ae),se=Fe==null?oe:Zs(Fe),oe=new Ve(ce,X+"leave",ae,i,le),oe.target=mt,oe.relatedTarget=se,ce=null,Xs(le)===re&&(Ve=new Ve(Q,X+"enter",Fe,i,le),Ve.target=se,Ve.relatedTarget=mt,ce=Ve),mt=ce,ae&&Fe)t:{for(Ve=ae,Q=Fe,X=0,se=Ve;se;se=na(se))X++;for(se=0,ce=Q;ce;ce=na(ce))se++;for(;0<X-se;)Ve=na(Ve),X--;for(;0<se-X;)Q=na(Q),se--;for(;X--;){if(Ve===Q||Q!==null&&Ve===Q.alternate)break t;Ve=na(Ve),Q=na(Q)}Ve=null}else Ve=null;ae!==null&&_y(me,oe,ae,Ve,!1),Fe!==null&&mt!==null&&_y(me,mt,Fe,Ve,!0)}}e:{if(oe=re?Zs(re):window,ae=oe.nodeName&&oe.nodeName.toLowerCase(),ae==="select"||ae==="input"&&oe.type==="file")var Ce=qg;else if(Ug(oe))if(Fg)Ce=o_;else{Ce=s_;var Ke=n_}else ae=oe.nodeName,!ae||ae.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?re&&Xd(re.elementType)&&(Ce=qg):Ce=r_;if(Ce&&(Ce=Ce(t,re))){Vg(me,Ce,i,le);break e}Ke&&Ke(t,oe,re),t==="focusout"&&re&&oe.type==="number"&&re.memoizedProps.value!=null&&Za(oe,"number",oe.value)}switch(Ke=re?Zs(re):window,t){case"focusin":(Ug(Ke)||Ke.contentEditable==="true")&&(Ro=Ke,cf=re,ri=null);break;case"focusout":ri=cf=Ro=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,Jg(me,i,le);break;case"selectionchange":if(i_)break;case"keydown":case"keyup":Jg(me,i,le)}var Ie;if(rf)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else To?Pg(t,i)&&(qe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(qe="onCompositionStart");qe&&(Lg&&i.locale!=="ko"&&(To||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&To&&(Ie=Rg()):(Ks=le,Jd="value"in Ks?Ks.value:Ks.textContent,To=!0)),Ke=Rc(re,qe),0<Ke.length&&(qe=new zg(qe,t,null,i,le),me.push({event:qe,listeners:Ke}),Ie?qe.data=Ie:(Ie=Bg(i),Ie!==null&&(qe.data=Ie)))),(Ie=KS?QS(t,i):JS(t,i))&&(qe=Rc(re,"onBeforeInput"),0<qe.length&&(Ke=new zg("onBeforeInput","beforeinput",null,i,le),me.push({event:Ke,listeners:qe}),Ke.data=Ie)),V_(me,t,re,i,le)}jy(me,s)})}function Ri(t,s,i){return{instance:t,listener:s,currentTarget:i}}function Rc(t,s){for(var i=s+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=Wa(t,i),p!=null&&u.unshift(Ri(t,p,v)),p=Wa(t,s),p!=null&&u.push(Ri(t,p,v))),t.tag===3)return u;t=t.return}return[]}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _y(t,s,i,u,p){for(var v=s._reactName,A=[];i!==null&&i!==u;){var z=i,F=z.alternate,re=z.stateNode;if(z=z.tag,F!==null&&F===u)break;z!==5&&z!==26&&z!==27||re===null||(F=re,p?(re=Wa(i,v),re!=null&&A.unshift(Ri(i,re,F))):p||(re=Wa(i,v),re!=null&&A.push(Ri(i,re,F)))),i=i.return}A.length!==0&&t.push({event:s,listeners:A})}var G_=/\r\n?/g,X_=/\u0000|\uFFFD/g;function Ey(t){return(typeof t=="string"?t:""+t).replace(G_,`
`).replace(X_,"")}function Cy(t,s){return s=Ey(s),Ey(t)===s}function Dc(){}function ft(t,s,i,u,p,v){switch(i){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ko(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ko(t,""+u);break;case"className":_o(t,"class",u);break;case"tabIndex":_o(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_o(t,i,u);break;case"style":Ag(t,u,v);break;case"data":if(s!=="object"){_o(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||i!=="href")){t.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(i);break}u=Bl(""+u),t.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(i==="formAction"?(s!=="input"&&ft(t,s,"name",p.name,p,null),ft(t,s,"formEncType",p.formEncType,p,null),ft(t,s,"formMethod",p.formMethod,p,null),ft(t,s,"formTarget",p.formTarget,p,null)):(ft(t,s,"encType",p.encType,p,null),ft(t,s,"method",p.method,p,null),ft(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(i);break}u=Bl(""+u),t.setAttribute(i,u);break;case"onClick":u!=null&&(t.onclick=Dc);break;case"onScroll":u!=null&&et("scroll",t);break;case"onScrollEnd":u!=null&&et("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}i=Bl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,""+u):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":u===!0?t.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,u):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(i,u):t.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(i):t.setAttribute(i,u);break;case"popover":et("beforetoggle",t),et("toggle",t),So(t,"popover",u);break;case"xlinkActuate":In(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":In(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":In(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":In(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":In(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":In(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":In(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":In(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":In(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":So(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=SS.get(i)||i,So(t,i,u))}}function Dm(t,s,i,u,p,v){switch(i){case"style":Ag(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof u=="string"?ko(t,u):(typeof u=="number"||typeof u=="bigint")&&ko(t,""+u);break;case"onScroll":u!=null&&et("scroll",t);break;case"onScrollEnd":u!=null&&et("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(p=i.endsWith("Capture"),s=i.slice(2,p?i.length-7:void 0),v=t[Xt]||null,v=v!=null?v[i]:null,typeof v=="function"&&t.removeEventListener(s,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(s,u,p);break e}i in t?t[i]=u:u===!0?t.setAttribute(i,""):So(t,i,u)}}}function Ft(t,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",t),et("load",t);var u=!1,p=!1,v;for(v in i)if(i.hasOwnProperty(v)){var A=i[v];if(A!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ft(t,s,v,A,i,null)}}p&&ft(t,s,"srcSet",i.srcSet,i,null),u&&ft(t,s,"src",i.src,i,null);return;case"input":et("invalid",t);var z=v=A=p=null,F=null,re=null;for(u in i)if(i.hasOwnProperty(u)){var le=i[u];if(le!=null)switch(u){case"name":p=le;break;case"type":A=le;break;case"checked":F=le;break;case"defaultChecked":re=le;break;case"value":v=le;break;case"defaultValue":z=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,s));break;default:ft(t,s,u,le,i,null)}}Pl(t,v,z,F,re,A,p,!1),Eo(t);return;case"select":et("invalid",t),u=A=v=null;for(p in i)if(i.hasOwnProperty(p)&&(z=i[p],z!=null))switch(p){case"value":v=z;break;case"defaultValue":A=z;break;case"multiple":u=z;default:ft(t,s,p,z,i,null)}s=v,i=A,t.multiple=!!u,s!=null?bs(t,!!u,s,!1):i!=null&&bs(t,!!u,i,!0);return;case"textarea":et("invalid",t),v=p=u=null;for(A in i)if(i.hasOwnProperty(A)&&(z=i[A],z!=null))switch(A){case"value":u=z;break;case"defaultValue":p=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:ft(t,s,A,z,i,null)}Cg(t,u,p,v),Eo(t);return;case"option":for(F in i)if(i.hasOwnProperty(F)&&(u=i[F],u!=null))switch(F){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ft(t,s,F,u,i,null)}return;case"dialog":et("beforetoggle",t),et("toggle",t),et("cancel",t),et("close",t);break;case"iframe":case"object":et("load",t);break;case"video":case"audio":for(u=0;u<Ti.length;u++)et(Ti[u],t);break;case"image":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"embed":case"source":case"link":et("error",t),et("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in i)if(i.hasOwnProperty(re)&&(u=i[re],u!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:ft(t,s,re,u,i,null)}return;default:if(Xd(s)){for(le in i)i.hasOwnProperty(le)&&(u=i[le],u!==void 0&&Dm(t,s,le,u,i,void 0));return}}for(z in i)i.hasOwnProperty(z)&&(u=i[z],u!=null&&ft(t,s,z,u,i,null))}function Z_(t,s,i,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,A=null,z=null,F=null,re=null,le=null;for(ae in i){var me=i[ae];if(i.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=me;default:u.hasOwnProperty(ae)||ft(t,s,ae,null,u,me)}}for(var oe in u){var ae=u[oe];if(me=i[oe],u.hasOwnProperty(oe)&&(ae!=null||me!=null))switch(oe){case"type":v=ae;break;case"name":p=ae;break;case"checked":re=ae;break;case"defaultChecked":le=ae;break;case"value":A=ae;break;case"defaultValue":z=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,s));break;default:ae!==me&&ft(t,s,oe,ae,u,me)}}Hr(t,A,z,F,re,le,v,p);return;case"select":ae=A=z=oe=null;for(v in i)if(F=i[v],i.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":ae=F;default:u.hasOwnProperty(v)||ft(t,s,v,null,u,F)}for(p in u)if(v=u[p],F=i[p],u.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":oe=v;break;case"defaultValue":z=v;break;case"multiple":A=v;default:v!==F&&ft(t,s,p,v,u,F)}s=z,i=A,u=ae,oe!=null?bs(t,!!i,oe,!1):!!u!=!!i&&(s!=null?bs(t,!!i,s,!0):bs(t,!!i,i?[]:"",!1));return;case"textarea":ae=oe=null;for(z in i)if(p=i[z],i.hasOwnProperty(z)&&p!=null&&!u.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:ft(t,s,z,null,u,p)}for(A in u)if(p=u[A],v=i[A],u.hasOwnProperty(A)&&(p!=null||v!=null))switch(A){case"value":oe=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&ft(t,s,A,p,u,v)}Eg(t,oe,ae);return;case"option":for(var Fe in i)if(oe=i[Fe],i.hasOwnProperty(Fe)&&oe!=null&&!u.hasOwnProperty(Fe))switch(Fe){case"selected":t.selected=!1;break;default:ft(t,s,Fe,null,u,oe)}for(F in u)if(oe=u[F],ae=i[F],u.hasOwnProperty(F)&&oe!==ae&&(oe!=null||ae!=null))switch(F){case"selected":t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:ft(t,s,F,oe,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in i)oe=i[Ve],i.hasOwnProperty(Ve)&&oe!=null&&!u.hasOwnProperty(Ve)&&ft(t,s,Ve,null,u,oe);for(re in u)if(oe=u[re],ae=i[re],u.hasOwnProperty(re)&&oe!==ae&&(oe!=null||ae!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:ft(t,s,re,oe,u,ae)}return;default:if(Xd(s)){for(var mt in i)oe=i[mt],i.hasOwnProperty(mt)&&oe!==void 0&&!u.hasOwnProperty(mt)&&Dm(t,s,mt,void 0,u,oe);for(le in u)oe=u[le],ae=i[le],!u.hasOwnProperty(le)||oe===ae||oe===void 0&&ae===void 0||Dm(t,s,le,oe,u,ae);return}}for(var Q in i)oe=i[Q],i.hasOwnProperty(Q)&&oe!=null&&!u.hasOwnProperty(Q)&&ft(t,s,Q,null,u,oe);for(me in u)oe=u[me],ae=i[me],!u.hasOwnProperty(me)||oe===ae||oe==null&&ae==null||ft(t,s,me,oe,u,ae)}var Om=null,zm=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function ky(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Im(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lm=null;function W_(){var t=window.event;return t&&t.type==="popstate"?t===Lm?!1:(Lm=t,!0):(Lm=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,K_=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,Q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(J_)}:My;function J_(t){setTimeout(function(){throw t})}function mr(t){return t==="head"}function Ry(t,s){var i=s,u=0,p=0;do{var v=i.nextSibling;if(t.removeChild(i),v&&v.nodeType===8)if(i=v.data,i==="/$"){if(0<u&&8>u){i=u;var A=t.ownerDocument;if(i&1&&Di(A.documentElement),i&2&&Di(A.body),i&4)for(i=A.head,Di(i),A=i.firstChild;A;){var z=A.nextSibling,F=A.nodeName;A[$r]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&A.rel.toLowerCase()==="stylesheet"||i.removeChild(A),A=z}}if(p===0){t.removeChild(v),Bi(s);return}p--}else i==="$"||i==="$?"||i==="$!"?p++:u=i.charCodeAt(0)-48;else u=0;i=v}while(i);Bi(s)}function $m(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":$m(i),Va(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function eE(t,s,i,u){for(;t.nodeType===1;){var p=i;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[$r])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function tE(t,s,i){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function nE(t,s){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")s();else{var u=function(){s(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Hn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Pm=null;function Dy(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}function Oy(t,s,i){switch(s=Oc(i),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Di(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Va(t)}var An=new Map,zy=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Os=L.d;L.d={f:sE,r:rE,D:oE,C:aE,L:iE,m:lE,X:uE,S:cE,M:dE};function sE(){var t=Os.f(),s=Ec();return t||s}function rE(t){var s=gs(t);s!==null&&s.tag===5&&s.type==="form"?t0(s):Os.r(t)}var sa=typeof document>"u"?null:document;function Iy(t,s,i){var u=sa;if(u&&typeof s=="string"&&s){var p=sn(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof i=="string"&&(p+='[crossorigin="'+i+'"]'),zy.has(p)||(zy.add(p),t={rel:t,crossOrigin:i,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Ft(s,"link",t),Tt(s),u.head.appendChild(s)))}}function oE(t){Os.D(t),Iy("dns-prefetch",t,null)}function aE(t,s){Os.C(t,s),Iy("preconnect",t,s)}function iE(t,s,i){Os.L(t,s,i);var u=sa;if(u&&t&&s){var p='link[rel="preload"][as="'+sn(s)+'"]';s==="image"&&i&&i.imageSrcSet?(p+='[imagesrcset="'+sn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(p+='[imagesizes="'+sn(i.imageSizes)+'"]')):p+='[href="'+sn(t)+'"]';var v=p;switch(s){case"style":v=ra(t);break;case"script":v=oa(t)}An.has(v)||(t=g({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:t,as:s},i),An.set(v,t),u.querySelector(p)!==null||s==="style"&&u.querySelector(Oi(v))||s==="script"&&u.querySelector(zi(v))||(s=u.createElement("link"),Ft(s,"link",t),Tt(s),u.head.appendChild(s)))}}function lE(t,s){Os.m(t,s);var i=sa;if(i&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+sn(u)+'"][href="'+sn(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=oa(t)}if(!An.has(v)&&(t=g({rel:"modulepreload",href:t},s),An.set(v,t),i.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(zi(v)))return}u=i.createElement("link"),Ft(u,"link",t),Tt(u),i.head.appendChild(u)}}}function cE(t,s,i){Os.S(t,s,i);var u=sa;if(u&&t){var p=xs(u).hoistableStyles,v=ra(t);s=s||"default";var A=p.get(v);if(!A){var z={loading:0,preload:null};if(A=u.querySelector(Oi(v)))z.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},i),(i=An.get(v))&&Bm(t,i);var F=A=u.createElement("link");Tt(F),Ft(F,"link",t),F._p=new Promise(function(re,le){F.onload=re,F.onerror=le}),F.addEventListener("load",function(){z.loading|=1}),F.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Ic(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:z},p.set(v,A)}}}function uE(t,s){Os.X(t,s);var i=sa;if(i&&t){var u=xs(i).hoistableScripts,p=oa(t),v=u.get(p);v||(v=i.querySelector(zi(p)),v||(t=g({src:t,async:!0},s),(s=An.get(p))&&Um(t,s),v=i.createElement("script"),Tt(v),Ft(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function dE(t,s){Os.M(t,s);var i=sa;if(i&&t){var u=xs(i).hoistableScripts,p=oa(t),v=u.get(p);v||(v=i.querySelector(zi(p)),v||(t=g({src:t,async:!0,type:"module"},s),(s=An.get(p))&&Um(t,s),v=i.createElement("script"),Tt(v),Ft(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Ly(t,s,i,u){var p=(p=ue.current)?zc(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=ra(i.href),i=xs(p).hoistableStyles,u=i.get(s),u||(u={type:"style",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ra(i.href);var v=xs(p).hoistableStyles,A=v.get(t);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,A),(v=p.querySelector(Oi(t)))&&!v._p&&(A.instance=v,A.state.loading=5),An.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},An.set(t,i),v||fE(p,t,i,A.state))),s&&u===null)throw Error(a(528,""));return A}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=oa(i),i=xs(p).hoistableScripts,u=i.get(s),u||(u={type:"script",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ra(t){return'href="'+sn(t)+'"'}function Oi(t){return'link[rel="stylesheet"]['+t+"]"}function $y(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function fE(t,s,i,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ft(s,"link",i),Tt(s),t.head.appendChild(s))}function oa(t){return'[src="'+sn(t)+'"]'}function zi(t){return"script[async]"+t}function Hy(t,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+sn(i.href)+'"]');if(u)return s.instance=u,Tt(u),u;var p=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Tt(u),Ft(u,"style",p),Ic(u,i.precedence,t),s.instance=u;case"stylesheet":p=ra(i.href);var v=t.querySelector(Oi(p));if(v)return s.state.loading|=4,s.instance=v,Tt(v),v;u=$y(i),(p=An.get(p))&&Bm(u,p),v=(t.ownerDocument||t).createElement("link"),Tt(v);var A=v;return A._p=new Promise(function(z,F){A.onload=z,A.onerror=F}),Ft(v,"link",u),s.state.loading|=4,Ic(v,i.precedence,t),s.instance=v;case"script":return v=oa(i.src),(p=t.querySelector(zi(v)))?(s.instance=p,Tt(p),p):(u=i,(p=An.get(v))&&(u=g({},i),Um(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),Tt(p),Ft(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ic(u,i.precedence,t));return s.instance}function Ic(t,s,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,A=0;A<u.length;A++){var z=u[A];if(z.dataset.precedence===s)v=z;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(t,s.firstChild))}function Bm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Um(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Lc=null;function Py(t,s,i){if(Lc===null){var u=new Map,p=Lc=new Map;p.set(i,u)}else p=Lc,u=p.get(i),u||(u=new Map,p.set(i,u));if(u.has(t))return u;for(u.set(t,null),i=i.getElementsByTagName(t),p=0;p<i.length;p++){var v=i[p];if(!(v[$r]||v[Ht]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=t+A;var z=u.get(A);z?z.push(v):u.set(A,[v])}}return u}function By(t,s,i){t=t.ownerDocument||t,t.head.insertBefore(i,s==="title"?t.querySelector("head > title"):null)}function mE(t,s,i){if(i===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ii=null;function hE(){}function pE(t,s,i){if(Ii===null)throw Error(a(475));var u=Ii;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ra(i.href),v=t.querySelector(Oi(p));if(v){t=v._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=$c.bind(u),t.then(u,u)),s.state.loading|=4,s.instance=v,Tt(v);return}v=t.ownerDocument||t,i=$y(i),(p=An.get(p))&&Bm(i,p),v=v.createElement("link"),Tt(v);var A=v;A._p=new Promise(function(z,F){A.onload=z,A.onerror=F}),Ft(v,"link",i),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=$c.bind(u),t.addEventListener("load",s),t.addEventListener("error",s))}}function gE(){if(Ii===null)throw Error(a(475));var t=Ii;return t.stylesheets&&t.count===0&&Vm(t,t.stylesheets),0<t.count?function(s){var i=setTimeout(function(){if(t.stylesheets&&Vm(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(i)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Vm(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,s.forEach(xE,t),Hc=null,$c.call(t))}function xE(t,s){if(!(s.state.loading&4)){var i=Hc.get(t);if(i)var u=i.get(null);else{i=new Map,Hc.set(t,i);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var A=p[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(i.set(A.dataset.precedence,A),u=A)}u&&i.set(null,u)}p=s.instance,A=p.getAttribute("data-precedence"),v=i.get(A)||u,v===u&&i.set(null,p),i.set(A,p),this.count++,u=$c.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var Li={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function yE(t,s,i,u,p,v,A,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Vy(t,s,i,u,p,v,A,z,F,re,le,me){return t=new yE(t,s,i,A,z,F,re,me),s=1,v===!0&&(s|=24),v=dn(3,null,null,s),t.current=v,v.stateNode=t,s=Sf(),s.refCount++,t.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:i,cache:s},kf(v),t}function qy(t){return t?(t=Io,t):Io}function Fy(t,s,i,u,p,v){p=qy(p),u.context===null?u.context=p:u.pendingContext=p,u=er(s),u.payload={element:i},v=v===void 0?null:v,v!==null&&(u.callback=v),i=tr(t,u,s),i!==null&&(gn(i,t,s),mi(i,t,s))}function Yy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function qm(t,s){Yy(t,s),(t=t.alternate)&&Yy(t,s)}function Gy(t){if(t.tag===13){var s=zo(t,67108864);s!==null&&gn(s,t,67108864),qm(t,67108864)}}var Pc=!0;function vE(t,s,i,u){var p=k.T;k.T=null;var v=L.p;try{L.p=2,Fm(t,s,i,u)}finally{L.p=v,k.T=p}}function bE(t,s,i,u){var p=k.T;k.T=null;var v=L.p;try{L.p=8,Fm(t,s,i,u)}finally{L.p=v,k.T=p}}function Fm(t,s,i,u){if(Pc){var p=Ym(u);if(p===null)Rm(t,s,u,Bc,i),Zy(t,u);else if(NE(p,t,s,i,u))u.stopPropagation();else if(Zy(t,u),s&4&&-1<wE.indexOf(t)){for(;p!==null;){var v=gs(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=Ct(v.pendingLanes);if(A!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;A;){var F=1<<31-pt(A);z.entanglements[1]|=F,A&=~F}ts(v),(lt&6)===0&&(Sc=ye()+500,Mi(0))}}break;case 13:z=zo(v,2),z!==null&&gn(z,v,2),Ec(),qm(v,2)}if(v=Ym(u),v===null&&Rm(t,s,u,Bc,i),v===p)break;p=v}p!==null&&u.stopPropagation()}else Rm(t,s,u,null,i)}}function Ym(t){return t=Wd(t),Gm(t)}var Bc=null;function Gm(t){if(Bc=null,t=Xs(t),t!==null){var s=c(t);if(s===null)t=null;else{var i=s.tag;if(i===13){if(t=d(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Bc=t,null}function Xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case _e:return 2;case Ee:return 8;case at:case Pe:return 32;case je:return 268435456;default:return 32}default:return 32}}var Xm=!1,hr=null,pr=null,gr=null,$i=new Map,Hi=new Map,xr=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,s){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":$i.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(s.pointerId)}}function Pi(t,s,i,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:i,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=gs(s),s!==null&&Gy(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function NE(t,s,i,u,p){switch(s){case"focusin":return hr=Pi(hr,t,s,i,u,p),!0;case"dragenter":return pr=Pi(pr,t,s,i,u,p),!0;case"mouseover":return gr=Pi(gr,t,s,i,u,p),!0;case"pointerover":var v=p.pointerId;return $i.set(v,Pi($i.get(v)||null,t,s,i,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Hi.set(v,Pi(Hi.get(v)||null,t,s,i,u,p)),!0}return!1}function Wy(t){var s=Xs(t.target);if(s!==null){var i=c(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){t.blockedOn=s,Pd(t.priority,function(){if(i.tag===13){var u=pn();u=Pa(u);var p=zo(i,u);p!==null&&gn(p,i,u),qm(i,u)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=Ym(t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);Zd=u,i.target.dispatchEvent(u),Zd=null}else return s=gs(i),s!==null&&Gy(s),t.blockedOn=i,!1;s.shift()}return!0}function Ky(t,s,i){Uc(t)&&i.delete(s)}function jE(){Xm=!1,hr!==null&&Uc(hr)&&(hr=null),pr!==null&&Uc(pr)&&(pr=null),gr!==null&&Uc(gr)&&(gr=null),$i.forEach(Ky),Hi.forEach(Ky)}function Vc(t,s){t.blockedOn===s&&(t.blockedOn=null,Xm||(Xm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jE)))}var qc=null;function Qy(t){qc!==t&&(qc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var s=0;s<t.length;s+=3){var i=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(Gm(u||i)===null)continue;break}var v=gs(i);v!==null&&(t.splice(s,3),s-=3,Gf(v,{pending:!0,data:p,method:i.method,action:u},u,p))}}))}function Bi(t){function s(F){return Vc(F,t)}hr!==null&&Vc(hr,t),pr!==null&&Vc(pr,t),gr!==null&&Vc(gr,t),$i.forEach(s),Hi.forEach(s);for(var i=0;i<xr.length;i++){var u=xr[i];u.blockedOn===t&&(u.blockedOn=null)}for(;0<xr.length&&(i=xr[0],i.blockedOn===null);)Wy(i),i.blockedOn===null&&xr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var p=i[u],v=i[u+1],A=p[Xt]||null;if(typeof v=="function")A||Qy(i);else if(A){var z=null;if(v&&v.hasAttribute("formAction")){if(p=v,A=v[Xt]||null)z=A.formAction;else if(Gm(p)!==null)continue}else z=A.action;typeof z=="function"?i[u+1]=z:(i.splice(u,3),u-=3),Qy(i)}}}function Zm(t){this._internalRoot=t}Fc.prototype.render=Zm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,u=pn();Fy(i,u,t,s,null,null)},Fc.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Fy(t.current,2,null,t,null,null),Ec(),s[Gs]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Rl();t={blockedOn:null,target:t,priority:s};for(var i=0;i<xr.length&&s!==0&&s<xr[i].priority;i++);xr.splice(i,0,t),i===0&&Wy(t)}};var Jy=n.version;if(Jy!=="19.1.1")throw Error(a(527,Jy,"19.1.1"));L.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(s),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var SE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Be=Yc.inject(SE),Ue=Yc}catch{}}return Vi.createRoot=function(t,s){if(!l(t))throw Error(a(299));var i=!1,u="",p=p0,v=g0,A=x0,z=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(z=s.unstable_transitionCallbacks)),s=Vy(t,1,!1,null,null,i,u,p,v,A,z,null),t[Gs]=s.current,Tm(t),new Zm(s)},Vi.hydrateRoot=function(t,s,i){if(!l(t))throw Error(a(299));var u=!1,p="",v=p0,A=g0,z=x0,F=null,re=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(A=i.onCaughtError),i.onRecoverableError!==void 0&&(z=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks),i.formState!==void 0&&(re=i.formState)),s=Vy(t,1,!0,s,i??null,u,p,v,A,z,F,re),s.context=qy(null),i=s.current,u=pn(),u=Pa(u),p=er(u),p.callback=null,tr(i,p,u),i=u,s.current.lanes=i,tn(s,i),ts(s),t[Gs]=s.current,Tm(t),new Fc(s)},Vi.version="19.1.1",Vi}var cv;function OE(){if(cv)return Qm.exports;cv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Qm.exports=DE(),Qm.exports}var zE=OE();function uv(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function ed(...e){return n=>{let r=!1;const a=e.map(l=>{const c=uv(l,n);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<a.length;l++){const c=a[l];typeof c=="function"?c():uv(e[l],null)}}}}function rt(...e){return w.useCallback(ed(...e),e)}function ba(e){const n=LE(e),r=w.forwardRef((a,l)=>{const{children:c,...d}=a,f=w.Children.toArray(c),m=f.find(HE);if(m){const h=m.props.children,g=f.map(y=>y===m?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:y);return o.jsx(n,{...d,ref:l,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return o.jsx(n,{...d,ref:l,children:c})});return r.displayName=`${e}.Slot`,r}var IE=ba("Slot");function LE(e){const n=w.forwardRef((r,a)=>{const{children:l,...c}=r;if(w.isValidElement(l)){const d=BE(l),f=PE(c,l.props);return l.type!==w.Fragment&&(f.ref=a?ed(a,d):d),w.cloneElement(l,f)}return w.Children.count(l)>1?w.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var $E=Symbol("radix.slottable");function HE(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$E}function PE(e,n){const r={...n};for(const a in n){const l=e[a],c=n[a];/^on[A-Z]/.test(a)?l&&c?r[a]=(...f)=>{const m=c(...f);return l(...f),m}:l&&(r[a]=l):a==="style"?r[a]={...l,...c}:a==="className"&&(r[a]=[l,c].filter(Boolean).join(" "))}return{...e,...r}}function BE(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ow(e){var n,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(r=ow(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function aw(){for(var e,n,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(n=ow(e))&&(a&&(a+=" "),a+=n);return a}const dv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fv=aw,iw=(e,n)=>r=>{var a;if(n?.variants==null)return fv(e,r?.class,r?.className);const{variants:l,defaultVariants:c}=n,d=Object.keys(l).map(h=>{const g=r?.[h],y=c?.[h];if(g===null)return null;const x=dv(g)||dv(y);return l[h][x]}),f=r&&Object.entries(r).reduce((h,g)=>{let[y,x]=g;return x===void 0||(h[y]=x),h},{}),m=n==null||(a=n.compoundVariants)===null||a===void 0?void 0:a.reduce((h,g)=>{let{class:y,className:x,...b}=g;return Object.entries(b).every(j=>{let[N,S]=j;return Array.isArray(S)?S.includes({...c,...f}[N]):{...c,...f}[N]===S})?[...h,y,x]:h},[]);return fv(e,d,m,r?.class,r?.className)},jp="-",UE=e=>{const n=qE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const f=d.split(jp);return f[0]===""&&f.length!==1&&f.shift(),lw(f,n)||VE(d)},getConflictingClassGroupIds:(d,f)=>{const m=r[d]||[];return f&&a[d]?[...m,...a[d]]:m}}},lw=(e,n)=>{if(e.length===0)return n.classGroupId;const r=e[0],a=n.nextPart.get(r),l=a?lw(e.slice(1),a):void 0;if(l)return l;if(n.validators.length===0)return;const c=e.join(jp);return n.validators.find(({validator:d})=>d(c))?.classGroupId},mv=/^\[(.+)\]$/,VE=e=>{if(mv.test(e)){const n=mv.exec(e)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},qE=e=>{const{theme:n,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const l in r)Lh(r[l],a,l,n);return a},Lh=(e,n,r,a)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?n:hv(n,l);c.classGroupId=r;return}if(typeof l=="function"){if(FE(l)){Lh(l(a),n,r,a);return}n.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,d])=>{Lh(d,hv(n,c),r,a)})})},hv=(e,n)=>{let r=e;return n.split(jp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},FE=e=>e.isThemeGetter,YE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,a=new Map;const l=(c,d)=>{r.set(c,d),n++,n>e&&(n=0,a=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return l(c,d),d},set(c,d){r.has(c)?r.set(c,d):l(c,d)}}},$h="!",Hh=":",GE=Hh.length,XE=e=>{const{prefix:n,experimentalParseClassName:r}=e;let a=l=>{const c=[];let d=0,f=0,m=0,h;for(let j=0;j<l.length;j++){let N=l[j];if(d===0&&f===0){if(N===Hh){c.push(l.slice(m,j)),m=j+GE;continue}if(N==="/"){h=j;continue}}N==="["?d++:N==="]"?d--:N==="("?f++:N===")"&&f--}const g=c.length===0?l:l.substring(m),y=ZE(g),x=y!==g,b=h&&h>m?h-m:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}};if(n){const l=n+Hh,c=a;a=d=>d.startsWith(l)?c(d.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const l=a;a=c=>r({className:c,parseClassName:l})}return a},ZE=e=>e.endsWith($h)?e.substring(0,e.length-1):e.startsWith($h)?e.substring(1):e,WE=e=>{const n=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let c=[];return a.forEach(d=>{d[0]==="["||n[d]?(l.push(...c.sort(),d),c=[]):c.push(d)}),l.push(...c.sort()),l}},KE=e=>({cache:YE(e.cacheSize),parseClassName:XE(e),sortModifiers:WE(e),...UE(e)}),QE=/\s+/,JE=(e,n)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:c}=n,d=[],f=e.trim().split(QE);let m="";for(let h=f.length-1;h>=0;h-=1){const g=f[h],{isExternal:y,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:N}=r(g);if(y){m=g+(m.length>0?" "+m:m);continue}let S=!!N,_=a(S?j.substring(0,N):j);if(!_){if(!S){m=g+(m.length>0?" "+m:m);continue}if(_=a(j),!_){m=g+(m.length>0?" "+m:m);continue}S=!1}const M=c(x).join(":"),E=b?M+$h:M,T=E+_;if(d.includes(T))continue;d.push(T);const R=l(_,S);for(let D=0;D<R.length;++D){const O=R[D];d.push(E+O)}m=g+(m.length>0?" "+m:m)}return m};function eC(){let e=0,n,r,a="";for(;e<arguments.length;)(n=arguments[e++])&&(r=cw(n))&&(a&&(a+=" "),a+=r);return a}const cw=e=>{if(typeof e=="string")return e;let n,r="";for(let a=0;a<e.length;a++)e[a]&&(n=cw(e[a]))&&(r&&(r+=" "),r+=n);return r};function tC(e,...n){let r,a,l,c=d;function d(m){const h=n.reduce((g,y)=>y(g),e());return r=KE(h),a=r.cache.get,l=r.cache.set,c=f,f(m)}function f(m){const h=a(m);if(h)return h;const g=JE(m,r);return l(m,g),g}return function(){return c(eC.apply(null,arguments))}}const Lt=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},uw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nC=/^\d+\/\d+$/,sC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,aa=e=>nC.test(e),We=e=>!!e&&!Number.isNaN(Number(e)),vr=e=>!!e&&Number.isInteger(Number(e)),nh=e=>e.endsWith("%")&&We(e.slice(0,-1)),zs=e=>sC.test(e),lC=()=>!0,cC=e=>rC.test(e)&&!oC.test(e),fw=()=>!1,uC=e=>aC.test(e),dC=e=>iC.test(e),fC=e=>!ke(e)&&!Ae(e),mC=e=>Da(e,pw,fw),ke=e=>uw.test(e),no=e=>Da(e,gw,cC),sh=e=>Da(e,yC,We),pv=e=>Da(e,mw,fw),hC=e=>Da(e,hw,dC),Gc=e=>Da(e,xw,uC),Ae=e=>dw.test(e),qi=e=>Oa(e,gw),pC=e=>Oa(e,vC),gv=e=>Oa(e,mw),gC=e=>Oa(e,pw),xC=e=>Oa(e,hw),Xc=e=>Oa(e,xw,!0),Da=(e,n,r)=>{const a=uw.exec(e);return a?a[1]?n(a[1]):r(a[2]):!1},Oa=(e,n,r=!1)=>{const a=dw.exec(e);return a?a[1]?n(a[1]):r:!1},mw=e=>e==="position"||e==="percentage",hw=e=>e==="image"||e==="url",pw=e=>e==="length"||e==="size"||e==="bg-size",gw=e=>e==="length",yC=e=>e==="number",vC=e=>e==="family-name",xw=e=>e==="shadow",bC=()=>{const e=Lt("color"),n=Lt("font"),r=Lt("text"),a=Lt("font-weight"),l=Lt("tracking"),c=Lt("leading"),d=Lt("breakpoint"),f=Lt("container"),m=Lt("spacing"),h=Lt("radius"),g=Lt("shadow"),y=Lt("inset-shadow"),x=Lt("text-shadow"),b=Lt("drop-shadow"),j=Lt("blur"),N=Lt("perspective"),S=Lt("aspect"),_=Lt("ease"),M=Lt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...T(),Ae,ke],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],P=()=>[Ae,ke,m],q=()=>[aa,"full","auto",...P()],K=()=>[vr,"none","subgrid",Ae,ke],J=()=>["auto",{span:["full",vr,Ae,ke]},vr,Ae,ke],G=()=>[vr,"auto",Ae,ke],Z=()=>["auto","min","max","fr",Ae,ke],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...P()],L=()=>[aa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],I=()=>[e,Ae,ke],H=()=>[...T(),gv,pv,{position:[Ae,ke]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",gC,mC,{size:[Ae,ke]}],Y=()=>[nh,qi,no],V=()=>["","none","full",h,Ae,ke],W=()=>["",We,qi,no],fe=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[We,nh,gv,pv],ie=()=>["","none",j,Ae,ke],ge=()=>["none",We,Ae,ke],we=()=>["none",We,Ae,ke],Ne=()=>[We,Ae,ke],ne=()=>[aa,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zs],breakpoint:[zs],color:[lC],container:[zs],"drop-shadow":[zs],ease:["in","out","in-out"],font:[fC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zs],shadow:[zs],spacing:["px",We],text:[zs],"text-shadow":[zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",aa,ke,Ae,S]}],container:["container"],columns:[{columns:[We,ke,Ae,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[vr,"auto",Ae,ke]}],basis:[{basis:[aa,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,aa,"auto","initial","none",ke]}],grow:[{grow:["",We,Ae,ke]}],shrink:[{shrink:["",We,Ae,ke]}],order:[{order:[vr,"first","last","none",Ae,ke]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[f,"screen",...L()]}],"min-w":[{"min-w":[f,"screen","none",...L()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",r,qi,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ae,sh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nh,ke]}],"font-family":[{font:[pC,ke,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Ae,ke]}],"line-clamp":[{"line-clamp":[We,"none",Ae,sh]}],leading:[{leading:[c,...P()]}],"list-image":[{"list-image":["none",Ae,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",Ae,no]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[We,"auto",Ae,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vr,Ae,ke],radial:["",Ae,ke],conic:[vr,Ae,ke]},xC,hC]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,Ae,ke]}],"outline-w":[{outline:["",We,qi,no]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",g,Xc,Gc]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",y,Xc,Gc]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[We,no]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",x,Xc,Gc]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[We,Ae,ke]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[Ae,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,ke]}],filter:[{filter:["","none",Ae,ke]}],blur:[{blur:ie()}],brightness:[{brightness:[We,Ae,ke]}],contrast:[{contrast:[We,Ae,ke]}],"drop-shadow":[{"drop-shadow":["","none",b,Xc,Gc]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",We,Ae,ke]}],"hue-rotate":[{"hue-rotate":[We,Ae,ke]}],invert:[{invert:["",We,Ae,ke]}],saturate:[{saturate:[We,Ae,ke]}],sepia:[{sepia:["",We,Ae,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,ke]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[We,Ae,ke]}],"backdrop-contrast":[{"backdrop-contrast":[We,Ae,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,Ae,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,Ae,ke]}],"backdrop-invert":[{"backdrop-invert":["",We,Ae,ke]}],"backdrop-opacity":[{"backdrop-opacity":[We,Ae,ke]}],"backdrop-saturate":[{"backdrop-saturate":[We,Ae,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",We,Ae,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",Ae,ke]}],ease:[{ease:["linear","initial",_,Ae,ke]}],delay:[{delay:[We,Ae,ke]}],animate:[{animate:["none",M,Ae,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Ae,ke]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Ae,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,ke]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[We,qi,no,sh]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wC=tC(bC);function Xe(...e){return wC(aw(e))}const NC=iw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Oe({className:e,variant:n,size:r,asChild:a=!1,...l}){const c=a?IE:"button";return o.jsx(c,{"data-slot":"button",className:Xe(NC({variant:n,size:r,className:e})),...l})}const jC=iw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:n,...r}){return o.jsx("div",{className:Xe(jC({variant:n}),e),...r})}function Me(e,n,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e?.(l),r===!1||!l.defaultPrevented)return n?.(l)}}function ds(e,n=[]){let r=[];function a(c,d){const f=w.createContext(d),m=r.length;r=[...r,d];const h=y=>{const{scope:x,children:b,...j}=y,N=x?.[e]?.[m]||f,S=w.useMemo(()=>j,Object.values(j));return o.jsx(N.Provider,{value:S,children:b})};h.displayName=c+"Provider";function g(y,x){const b=x?.[e]?.[m]||f,j=w.useContext(b);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[h,g]}const l=()=>{const c=r.map(d=>w.createContext(d));return function(f){const m=f?.[e]||c;return w.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[a,SC(l,...n)]}function SC(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=a.reduce((f,{useScope:m,scopeName:h})=>{const y=m(c)[`__scope${h}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return r.scopeName=n.scopeName,r}var Gt=globalThis?.document?w.useLayoutEffect:()=>{},_C=sw[" useInsertionEffect ".trim().toString()]||Gt;function uo({prop:e,defaultProp:n,onChange:r=()=>{},caller:a}){const[l,c,d]=EC({defaultProp:n,onChange:r}),f=e!==void 0,m=f?e:l;{const g=w.useRef(e!==void 0);w.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,a])}const h=w.useCallback(g=>{if(f){const y=CC(g)?g(e):g;y!==e&&d.current?.(y)}else c(g)},[f,e,c,d]);return[m,h]}function EC({defaultProp:e,onChange:n}){const[r,a]=w.useState(e),l=w.useRef(r),c=w.useRef(n);return _C(()=>{c.current=n},[n]),w.useEffect(()=>{l.current!==r&&(c.current?.(r),l.current=r)},[r,l]),[r,a,c]}function CC(e){return typeof e=="function"}var yl=rw();const kC=Np(yl);var AC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=AC.reduce((e,n)=>{const r=ba(`Primitive.${n}`),a=w.forwardRef((l,c)=>{const{asChild:d,...f}=l,m=d?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(m,{...f,ref:c})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function yw(e,n){e&&yl.flushSync(()=>e.dispatchEvent(n))}function Sp(e){const n=e+"CollectionProvider",[r,a]=ds(n),[l,c]=r(n,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:S,children:_}=N,M=yn.useRef(null),E=yn.useRef(new Map).current;return o.jsx(l,{scope:S,itemMap:E,collectionRef:M,children:_})};d.displayName=n;const f=e+"CollectionSlot",m=ba(f),h=yn.forwardRef((N,S)=>{const{scope:_,children:M}=N,E=c(f,_),T=rt(S,E.collectionRef);return o.jsx(m,{ref:T,children:M})});h.displayName=f;const g=e+"CollectionItemSlot",y="data-radix-collection-item",x=ba(g),b=yn.forwardRef((N,S)=>{const{scope:_,children:M,...E}=N,T=yn.useRef(null),R=rt(S,T),D=c(g,_);return yn.useEffect(()=>(D.itemMap.set(T,{ref:T,...E}),()=>void D.itemMap.delete(T))),o.jsx(x,{[y]:"",ref:R,children:M})});b.displayName=g;function j(N){const S=c(e+"CollectionConsumer",N);return yn.useCallback(()=>{const M=S.collectionRef.current;if(!M)return[];const E=Array.from(M.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((D,O)=>E.indexOf(D.ref.current)-E.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:h,ItemSlot:b},j,a]}var MC=w.createContext(void 0);function vl(e){const n=w.useContext(MC);return e||n||"ltr"}function Yt(e){const n=w.useRef(e);return w.useEffect(()=>{n.current=e}),w.useMemo(()=>(...r)=>n.current?.(...r),[])}function TC(e,n=globalThis?.document){const r=Yt(e);w.useEffect(()=>{const a=l=>{l.key==="Escape"&&r(l)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[r,n])}var RC="DismissableLayer",Ph="dismissableLayer.update",DC="dismissableLayer.pointerDownOutside",OC="dismissableLayer.focusOutside",xv,vw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_p=w.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...m}=e,h=w.useContext(vw),[g,y]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=w.useState({}),j=rt(n,O=>y(O)),N=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),M=g?N.indexOf(g):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,T=M>=_,R=LC(O=>{const P=O.target,q=[...h.branches].some(K=>K.contains(P));!T||q||(l?.(O),d?.(O),O.defaultPrevented||f?.())},x),D=$C(O=>{const P=O.target;[...h.branches].some(K=>K.contains(P))||(c?.(O),d?.(O),O.defaultPrevented||f?.())},x);return TC(O=>{M===h.layers.size-1&&(a?.(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},x),w.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(xv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),yv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=xv)}},[g,x,r,h]),w.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),yv())},[g,h]),w.useEffect(()=>{const O=()=>b({});return document.addEventListener(Ph,O),()=>document.removeEventListener(Ph,O)},[]),o.jsx(Ye.div,{...m,ref:j,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,R.onPointerDownCapture)})});_p.displayName=RC;var zC="DismissableLayerBranch",IC=w.forwardRef((e,n)=>{const r=w.useContext(vw),a=w.useRef(null),l=rt(n,a);return w.useEffect(()=>{const c=a.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),o.jsx(Ye.div,{...e,ref:l})});IC.displayName=zC;function LC(e,n=globalThis?.document){const r=Yt(e),a=w.useRef(!1),l=w.useRef(()=>{});return w.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let m=function(){bw(DC,r,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=m,n.addEventListener("click",l.current,{once:!0})):m()}else n.removeEventListener("click",l.current);a.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}function $C(e,n=globalThis?.document){const r=Yt(e),a=w.useRef(!1);return w.useEffect(()=>{const l=c=>{c.target&&!a.current&&bw(OC,r,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function yv(){const e=new CustomEvent(Ph);document.dispatchEvent(e)}function bw(e,n,r,{discrete:a}){const l=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&l.addEventListener(e,n,{once:!0}),a?yw(l,c):l.dispatchEvent(c)}var rh=0;function ww(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vv()),document.body.insertAdjacentElement("beforeend",e[1]??vv()),rh++,()=>{rh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),rh--}},[])}function vv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oh="focusScope.autoFocusOnMount",ah="focusScope.autoFocusOnUnmount",bv={bubbles:!1,cancelable:!0},HC="FocusScope",Ep=w.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...d}=e,[f,m]=w.useState(null),h=Yt(l),g=Yt(c),y=w.useRef(null),x=rt(n,N=>m(N)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let N=function(E){if(b.paused||!f)return;const T=E.target;f.contains(T)?y.current=T:jr(y.current,{select:!0})},S=function(E){if(b.paused||!f)return;const T=E.relatedTarget;T!==null&&(f.contains(T)||jr(y.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&jr(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const M=new MutationObserver(_);return f&&M.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),M.disconnect()}}},[a,f,b.paused]),w.useEffect(()=>{if(f){Nv.add(b);const N=document.activeElement;if(!f.contains(N)){const _=new CustomEvent(oh,bv);f.addEventListener(oh,h),f.dispatchEvent(_),_.defaultPrevented||(PC(FC(Nw(f)),{select:!0}),document.activeElement===N&&jr(f))}return()=>{f.removeEventListener(oh,h),setTimeout(()=>{const _=new CustomEvent(ah,bv);f.addEventListener(ah,g),f.dispatchEvent(_),_.defaultPrevented||jr(N??document.body,{select:!0}),f.removeEventListener(ah,g),Nv.remove(b)},0)}}},[f,h,g,b]);const j=w.useCallback(N=>{if(!r&&!a||b.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const M=N.currentTarget,[E,T]=BC(M);E&&T?!N.shiftKey&&_===T?(N.preventDefault(),r&&jr(E,{select:!0})):N.shiftKey&&_===E&&(N.preventDefault(),r&&jr(T,{select:!0})):_===M&&N.preventDefault()}},[r,a,b.paused]);return o.jsx(Ye.div,{tabIndex:-1,...d,ref:x,onKeyDown:j})});Ep.displayName=HC;function PC(e,{select:n=!1}={}){const r=document.activeElement;for(const a of e)if(jr(a,{select:n}),document.activeElement!==r)return}function BC(e){const n=Nw(e),r=wv(n,e),a=wv(n.reverse(),e);return[r,a]}function Nw(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function wv(e,n){for(const r of e)if(!UC(r,{upTo:n}))return r}function UC(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function VC(e){return e instanceof HTMLInputElement&&"select"in e}function jr(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&VC(e)&&n&&e.select()}}var Nv=qC();function qC(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=jv(e,n),e.unshift(n)},remove(n){e=jv(e,n),e[0]?.resume()}}}function jv(e,n){const r=[...e],a=r.indexOf(n);return a!==-1&&r.splice(a,1),r}function FC(e){return e.filter(n=>n.tagName!=="A")}var YC=sw[" useId ".trim().toString()]||(()=>{}),GC=0;function fo(e){const[n,r]=w.useState(YC());return Gt(()=>{r(a=>a??String(GC++))},[e]),n?`radix-${n}`:""}const XC=["top","right","bottom","left"],kr=Math.min,vn=Math.max,Cu=Math.round,Zc=Math.floor,as=e=>({x:e,y:e}),ZC={left:"right",right:"left",bottom:"top",top:"bottom"},WC={start:"end",end:"start"};function Bh(e,n,r){return vn(e,kr(n,r))}function Us(e,n){return typeof e=="function"?e(n):e}function Vs(e){return e.split("-")[0]}function za(e){return e.split("-")[1]}function Cp(e){return e==="x"?"y":"x"}function kp(e){return e==="y"?"height":"width"}const KC=new Set(["top","bottom"]);function rs(e){return KC.has(Vs(e))?"y":"x"}function Ap(e){return Cp(rs(e))}function QC(e,n,r){r===void 0&&(r=!1);const a=za(e),l=Ap(e),c=kp(l);let d=l==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(d=ku(d)),[d,ku(d)]}function JC(e){const n=ku(e);return[Uh(e),n,Uh(n)]}function Uh(e){return e.replace(/start|end/g,n=>WC[n])}const Sv=["left","right"],_v=["right","left"],ek=["top","bottom"],tk=["bottom","top"];function nk(e,n,r){switch(e){case"top":case"bottom":return r?n?_v:Sv:n?Sv:_v;case"left":case"right":return n?ek:tk;default:return[]}}function sk(e,n,r,a){const l=za(e);let c=nk(Vs(e),r==="start",a);return l&&(c=c.map(d=>d+"-"+l),n&&(c=c.concat(c.map(Uh)))),c}function ku(e){return e.replace(/left|right|bottom|top/g,n=>ZC[n])}function rk(e){return{top:0,right:0,bottom:0,left:0,...e}}function jw(e){return typeof e!="number"?rk(e):{top:e,right:e,bottom:e,left:e}}function Au(e){const{x:n,y:r,width:a,height:l}=e;return{width:a,height:l,top:r,left:n,right:n+a,bottom:r+l,x:n,y:r}}function Ev(e,n,r){let{reference:a,floating:l}=e;const c=rs(n),d=Ap(n),f=kp(d),m=Vs(n),h=c==="y",g=a.x+a.width/2-l.width/2,y=a.y+a.height/2-l.height/2,x=a[f]/2-l[f]/2;let b;switch(m){case"top":b={x:g,y:a.y-l.height};break;case"bottom":b={x:g,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y};break;case"left":b={x:a.x-l.width,y};break;default:b={x:a.x,y:a.y}}switch(za(n)){case"start":b[d]-=x*(r&&h?-1:1);break;case"end":b[d]+=x*(r&&h?-1:1);break}return b}const ok=async(e,n,r)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:d}=r,f=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(n));let h=await d.getElementRects({reference:e,floating:n,strategy:l}),{x:g,y}=Ev(h,a,m),x=a,b={},j=0;for(let N=0;N<f.length;N++){const{name:S,fn:_}=f[N],{x:M,y:E,data:T,reset:R}=await _({x:g,y,initialPlacement:a,placement:x,strategy:l,middlewareData:b,rects:h,platform:d,elements:{reference:e,floating:n}});g=M??g,y=E??y,b={...b,[S]:{...b[S],...T}},R&&j<=50&&(j++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(h=R.rects===!0?await d.getElementRects({reference:e,floating:n,strategy:l}):R.rects),{x:g,y}=Ev(h,x,m)),N=-1)}return{x:g,y,placement:x,strategy:l,middlewareData:b}};async function nl(e,n){var r;n===void 0&&(n={});const{x:a,y:l,platform:c,rects:d,elements:f,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:b=0}=Us(n,e),j=jw(b),S=f[x?y==="floating"?"reference":"floating":y],_=Au(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(S)))==null||r?S:S.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:g,strategy:m})),M=y==="floating"?{x:a,y:l,width:d.floating.width,height:d.floating.height}:d.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),T=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},R=Au(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:M,offsetParent:E,strategy:m}):M);return{top:(_.top-R.top+j.top)/T.y,bottom:(R.bottom-_.bottom+j.bottom)/T.y,left:(_.left-R.left+j.left)/T.x,right:(R.right-_.right+j.right)/T.x}}const ak=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:a,placement:l,rects:c,platform:d,elements:f,middlewareData:m}=n,{element:h,padding:g=0}=Us(e,n)||{};if(h==null)return{};const y=jw(g),x={x:r,y:a},b=Ap(l),j=kp(b),N=await d.getDimensions(h),S=b==="y",_=S?"top":"left",M=S?"bottom":"right",E=S?"clientHeight":"clientWidth",T=c.reference[j]+c.reference[b]-x[b]-c.floating[j],R=x[b]-c.reference[b],D=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let O=D?D[E]:0;(!O||!await(d.isElement==null?void 0:d.isElement(D)))&&(O=f.floating[E]||c.floating[j]);const P=T/2-R/2,q=O/2-N[j]/2-1,K=kr(y[_],q),J=kr(y[M],q),G=K,Z=O-N[j]-J,B=O/2-N[j]/2+P,U=Bh(G,B,Z),k=!m.arrow&&za(l)!=null&&B!==U&&c.reference[j]/2-(B<G?K:J)-N[j]/2<0,L=k?B<G?B-G:B-Z:0;return{[b]:x[b]+L,data:{[b]:U,centerOffset:B-U-L,...k&&{alignmentOffset:L}},reset:k}}}),ik=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,a;const{placement:l,middlewareData:c,rects:d,initialPlacement:f,platform:m,elements:h}=n,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...S}=Us(e,n);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const _=Vs(l),M=rs(f),E=Vs(f)===f,T=await(m.isRTL==null?void 0:m.isRTL(h.floating)),R=x||(E||!N?[ku(f)]:JC(f)),D=j!=="none";!x&&D&&R.push(...sk(f,N,j,T));const O=[f,...R],P=await nl(n,S),q=[];let K=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&q.push(P[_]),y){const B=QC(l,d,T);q.push(P[B[0]],P[B[1]])}if(K=[...K,{placement:l,overflows:q}],!q.every(B=>B<=0)){var J,G;const B=(((J=c.flip)==null?void 0:J.index)||0)+1,U=O[B];if(U&&(!(y==="alignment"?M!==rs(U):!1)||K.every(I=>rs(I.placement)===M?I.overflows[0]>0:!0)))return{data:{index:B,overflows:K},reset:{placement:U}};let k=(G=K.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!k)switch(b){case"bestFit":{var Z;const L=(Z=K.filter(I=>{if(D){const H=rs(I.placement);return H===M||H==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(H=>H>0).reduce((H,C)=>H+C,0)]).sort((I,H)=>I[1]-H[1])[0])==null?void 0:Z[0];L&&(k=L);break}case"initialPlacement":k=f;break}if(l!==k)return{reset:{placement:k}}}return{}}}};function Cv(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function kv(e){return XC.some(n=>e[n]>=0)}const lk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:a="referenceHidden",...l}=Us(e,n);switch(a){case"referenceHidden":{const c=await nl(n,{...l,elementContext:"reference"}),d=Cv(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:kv(d)}}}case"escaped":{const c=await nl(n,{...l,altBoundary:!0}),d=Cv(c,r.floating);return{data:{escapedOffsets:d,escaped:kv(d)}}}default:return{}}}}},Sw=new Set(["left","top"]);async function ck(e,n){const{placement:r,platform:a,elements:l}=e,c=await(a.isRTL==null?void 0:a.isRTL(l.floating)),d=Vs(r),f=za(r),m=rs(r)==="y",h=Sw.has(d)?-1:1,g=c&&m?-1:1,y=Us(n,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof j=="number"&&(b=f==="end"?j*-1:j),m?{x:b*g,y:x*h}:{x:x*h,y:b*g}}const uk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,a;const{x:l,y:c,placement:d,middlewareData:f}=n,m=await ck(n,e);return d===((r=f.offset)==null?void 0:r.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:l+m.x,y:c+m.y,data:{...m,placement:d}}}}},dk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:a,placement:l}=n,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:S=>{let{x:_,y:M}=S;return{x:_,y:M}}},...m}=Us(e,n),h={x:r,y:a},g=await nl(n,m),y=rs(Vs(l)),x=Cp(y);let b=h[x],j=h[y];if(c){const S=x==="y"?"top":"left",_=x==="y"?"bottom":"right",M=b+g[S],E=b-g[_];b=Bh(M,b,E)}if(d){const S=y==="y"?"top":"left",_=y==="y"?"bottom":"right",M=j+g[S],E=j-g[_];j=Bh(M,j,E)}const N=f.fn({...n,[x]:b,[y]:j});return{...N,data:{x:N.x-r,y:N.y-a,enabled:{[x]:c,[y]:d}}}}}},fk=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:a,placement:l,rects:c,middlewareData:d}=n,{offset:f=0,mainAxis:m=!0,crossAxis:h=!0}=Us(e,n),g={x:r,y:a},y=rs(l),x=Cp(y);let b=g[x],j=g[y];const N=Us(f,n),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const E=x==="y"?"height":"width",T=c.reference[x]-c.floating[E]+S.mainAxis,R=c.reference[x]+c.reference[E]-S.mainAxis;b<T?b=T:b>R&&(b=R)}if(h){var _,M;const E=x==="y"?"width":"height",T=Sw.has(Vs(l)),R=c.reference[y]-c.floating[E]+(T&&((_=d.offset)==null?void 0:_[y])||0)+(T?0:S.crossAxis),D=c.reference[y]+c.reference[E]+(T?0:((M=d.offset)==null?void 0:M[y])||0)-(T?S.crossAxis:0);j<R?j=R:j>D&&(j=D)}return{[x]:b,[y]:j}}}},mk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,a;const{placement:l,rects:c,platform:d,elements:f}=n,{apply:m=()=>{},...h}=Us(e,n),g=await nl(n,h),y=Vs(l),x=za(l),b=rs(l)==="y",{width:j,height:N}=c.floating;let S,_;y==="top"||y==="bottom"?(S=y,_=x===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(_=y,S=x==="end"?"top":"bottom");const M=N-g.top-g.bottom,E=j-g.left-g.right,T=kr(N-g[S],M),R=kr(j-g[_],E),D=!n.middlewareData.shift;let O=T,P=R;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(P=E),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(O=M),D&&!x){const K=vn(g.left,0),J=vn(g.right,0),G=vn(g.top,0),Z=vn(g.bottom,0);b?P=j-2*(K!==0||J!==0?K+J:vn(g.left,g.right)):O=N-2*(G!==0||Z!==0?G+Z:vn(g.top,g.bottom))}await m({...n,availableWidth:P,availableHeight:O});const q=await d.getDimensions(f.floating);return j!==q.width||N!==q.height?{reset:{rects:!0}}:{}}}};function td(){return typeof window<"u"}function Ia(e){return _w(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function fs(e){var n;return(n=(_w(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function _w(e){return td()?e instanceof Node||e instanceof wn(e).Node:!1}function qn(e){return td()?e instanceof Element||e instanceof wn(e).Element:!1}function ls(e){return td()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function Av(e){return!td()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}const hk=new Set(["inline","contents"]);function bl(e){const{overflow:n,overflowX:r,overflowY:a,display:l}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(n+a+r)&&!hk.has(l)}const pk=new Set(["table","td","th"]);function gk(e){return pk.has(Ia(e))}const xk=[":popover-open",":modal"];function nd(e){return xk.some(n=>{try{return e.matches(n)}catch{return!1}})}const yk=["transform","translate","scale","rotate","perspective"],vk=["transform","translate","scale","rotate","perspective","filter"],bk=["paint","layout","strict","content"];function Mp(e){const n=Tp(),r=qn(e)?Fn(e):e;return yk.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||vk.some(a=>(r.willChange||"").includes(a))||bk.some(a=>(r.contain||"").includes(a))}function wk(e){let n=Ar(e);for(;ls(n)&&!wa(n);){if(Mp(n))return n;if(nd(n))return null;n=Ar(n)}return null}function Tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nk=new Set(["html","body","#document"]);function wa(e){return Nk.has(Ia(e))}function Fn(e){return wn(e).getComputedStyle(e)}function sd(e){return qn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ar(e){if(Ia(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Av(e)&&e.host||fs(e);return Av(n)?n.host:n}function Ew(e){const n=Ar(e);return wa(n)?e.ownerDocument?e.ownerDocument.body:e.body:ls(n)&&bl(n)?n:Ew(n)}function sl(e,n,r){var a;n===void 0&&(n=[]),r===void 0&&(r=!0);const l=Ew(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),d=wn(l);if(c){const f=Vh(d);return n.concat(d,d.visualViewport||[],bl(l)?l:[],f&&r?sl(f):[])}return n.concat(l,sl(l,[],r))}function Vh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cw(e){const n=Fn(e);let r=parseFloat(n.width)||0,a=parseFloat(n.height)||0;const l=ls(e),c=l?e.offsetWidth:r,d=l?e.offsetHeight:a,f=Cu(r)!==c||Cu(a)!==d;return f&&(r=c,a=d),{width:r,height:a,$:f}}function Rp(e){return qn(e)?e:e.contextElement}function ha(e){const n=Rp(e);if(!ls(n))return as(1);const r=n.getBoundingClientRect(),{width:a,height:l,$:c}=Cw(n);let d=(c?Cu(r.width):r.width)/a,f=(c?Cu(r.height):r.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const jk=as(0);function kw(e){const n=wn(e);return!Tp()||!n.visualViewport?jk:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Sk(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==wn(e)?!1:n}function mo(e,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),c=Rp(e);let d=as(1);n&&(a?qn(a)&&(d=ha(a)):d=ha(e));const f=Sk(c,r,a)?kw(c):as(0);let m=(l.left+f.x)/d.x,h=(l.top+f.y)/d.y,g=l.width/d.x,y=l.height/d.y;if(c){const x=wn(c),b=a&&qn(a)?wn(a):a;let j=x,N=Vh(j);for(;N&&a&&b!==j;){const S=ha(N),_=N.getBoundingClientRect(),M=Fn(N),E=_.left+(N.clientLeft+parseFloat(M.paddingLeft))*S.x,T=_.top+(N.clientTop+parseFloat(M.paddingTop))*S.y;m*=S.x,h*=S.y,g*=S.x,y*=S.y,m+=E,h+=T,j=wn(N),N=Vh(j)}}return Au({width:g,height:y,x:m,y:h})}function rd(e,n){const r=sd(e).scrollLeft;return n?n.left+r:mo(fs(e)).left+r}function Aw(e,n){const r=e.getBoundingClientRect(),a=r.left+n.scrollLeft-rd(e,r),l=r.top+n.scrollTop;return{x:a,y:l}}function _k(e){let{elements:n,rect:r,offsetParent:a,strategy:l}=e;const c=l==="fixed",d=fs(a),f=n?nd(n.floating):!1;if(a===d||f&&c)return r;let m={scrollLeft:0,scrollTop:0},h=as(1);const g=as(0),y=ls(a);if((y||!y&&!c)&&((Ia(a)!=="body"||bl(d))&&(m=sd(a)),ls(a))){const b=mo(a);h=ha(a),g.x=b.x+a.clientLeft,g.y=b.y+a.clientTop}const x=d&&!y&&!c?Aw(d,m):as(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-m.scrollLeft*h.x+g.x+x.x,y:r.y*h.y-m.scrollTop*h.y+g.y+x.y}}function Ek(e){return Array.from(e.getClientRects())}function Ck(e){const n=fs(e),r=sd(e),a=e.ownerDocument.body,l=vn(n.scrollWidth,n.clientWidth,a.scrollWidth,a.clientWidth),c=vn(n.scrollHeight,n.clientHeight,a.scrollHeight,a.clientHeight);let d=-r.scrollLeft+rd(e);const f=-r.scrollTop;return Fn(a).direction==="rtl"&&(d+=vn(n.clientWidth,a.clientWidth)-l),{width:l,height:c,x:d,y:f}}const Mv=25;function kk(e,n){const r=wn(e),a=fs(e),l=r.visualViewport;let c=a.clientWidth,d=a.clientHeight,f=0,m=0;if(l){c=l.width,d=l.height;const g=Tp();(!g||g&&n==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}const h=rd(a);if(h<=0){const g=a.ownerDocument,y=g.body,x=getComputedStyle(y),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(a.clientWidth-y.clientWidth-b);j<=Mv&&(c-=j)}else h<=Mv&&(c+=h);return{width:c,height:d,x:f,y:m}}const Ak=new Set(["absolute","fixed"]);function Mk(e,n){const r=mo(e,!0,n==="fixed"),a=r.top+e.clientTop,l=r.left+e.clientLeft,c=ls(e)?ha(e):as(1),d=e.clientWidth*c.x,f=e.clientHeight*c.y,m=l*c.x,h=a*c.y;return{width:d,height:f,x:m,y:h}}function Tv(e,n,r){let a;if(n==="viewport")a=kk(e,r);else if(n==="document")a=Ck(fs(e));else if(qn(n))a=Mk(n,r);else{const l=kw(e);a={x:n.x-l.x,y:n.y-l.y,width:n.width,height:n.height}}return Au(a)}function Mw(e,n){const r=Ar(e);return r===n||!qn(r)||wa(r)?!1:Fn(r).position==="fixed"||Mw(r,n)}function Tk(e,n){const r=n.get(e);if(r)return r;let a=sl(e,[],!1).filter(f=>qn(f)&&Ia(f)!=="body"),l=null;const c=Fn(e).position==="fixed";let d=c?Ar(e):e;for(;qn(d)&&!wa(d);){const f=Fn(d),m=Mp(d);!m&&f.position==="fixed"&&(l=null),(c?!m&&!l:!m&&f.position==="static"&&!!l&&Ak.has(l.position)||bl(d)&&!m&&Mw(e,d))?a=a.filter(g=>g!==d):l=f,d=Ar(d)}return n.set(e,a),a}function Rk(e){let{element:n,boundary:r,rootBoundary:a,strategy:l}=e;const d=[...r==="clippingAncestors"?nd(n)?[]:Tk(n,this._c):[].concat(r),a],f=d[0],m=d.reduce((h,g)=>{const y=Tv(n,g,l);return h.top=vn(y.top,h.top),h.right=kr(y.right,h.right),h.bottom=kr(y.bottom,h.bottom),h.left=vn(y.left,h.left),h},Tv(n,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Dk(e){const{width:n,height:r}=Cw(e);return{width:n,height:r}}function Ok(e,n,r){const a=ls(n),l=fs(n),c=r==="fixed",d=mo(e,!0,c,n);let f={scrollLeft:0,scrollTop:0};const m=as(0);function h(){m.x=rd(l)}if(a||!a&&!c)if((Ia(n)!=="body"||bl(l))&&(f=sd(n)),a){const b=mo(n,!0,c,n);m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}else l&&h();c&&!a&&l&&h();const g=l&&!a&&!c?Aw(l,f):as(0),y=d.left+f.scrollLeft-m.x-g.x,x=d.top+f.scrollTop-m.y-g.y;return{x:y,y:x,width:d.width,height:d.height}}function ih(e){return Fn(e).position==="static"}function Rv(e,n){if(!ls(e)||Fn(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return fs(e)===r&&(r=r.ownerDocument.body),r}function Tw(e,n){const r=wn(e);if(nd(e))return r;if(!ls(e)){let l=Ar(e);for(;l&&!wa(l);){if(qn(l)&&!ih(l))return l;l=Ar(l)}return r}let a=Rv(e,n);for(;a&&gk(a)&&ih(a);)a=Rv(a,n);return a&&wa(a)&&ih(a)&&!Mp(a)?r:a||wk(e)||r}const zk=async function(e){const n=this.getOffsetParent||Tw,r=this.getDimensions,a=await r(e.floating);return{reference:Ok(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Ik(e){return Fn(e).direction==="rtl"}const Lk={convertOffsetParentRelativeRectToViewportRelativeRect:_k,getDocumentElement:fs,getClippingRect:Rk,getOffsetParent:Tw,getElementRects:zk,getClientRects:Ek,getDimensions:Dk,getScale:ha,isElement:qn,isRTL:Ik};function Rw(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function $k(e,n){let r=null,a;const l=fs(e);function c(){var f;clearTimeout(a),(f=r)==null||f.disconnect(),r=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),c();const h=e.getBoundingClientRect(),{left:g,top:y,width:x,height:b}=h;if(f||n(),!x||!b)return;const j=Zc(y),N=Zc(l.clientWidth-(g+x)),S=Zc(l.clientHeight-(y+b)),_=Zc(g),E={rootMargin:-j+"px "+-N+"px "+-S+"px "+-_+"px",threshold:vn(0,kr(1,m))||1};let T=!0;function R(D){const O=D[0].intersectionRatio;if(O!==m){if(!T)return d();O?d(!1,O):a=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!Rw(h,e.getBoundingClientRect())&&d(),T=!1}try{r=new IntersectionObserver(R,{...E,root:l.ownerDocument})}catch{r=new IntersectionObserver(R,E)}r.observe(e)}return d(!0),c}function Hk(e,n,r,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,h=Rp(e),g=l||c?[...h?sl(h):[],...sl(n)]:[];g.forEach(_=>{l&&_.addEventListener("scroll",r,{passive:!0}),c&&_.addEventListener("resize",r)});const y=h&&f?$k(h,r):null;let x=-1,b=null;d&&(b=new ResizeObserver(_=>{let[M]=_;M&&M.target===h&&b&&(b.unobserve(n),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(n)})),r()}),h&&!m&&b.observe(h),b.observe(n));let j,N=m?mo(e):null;m&&S();function S(){const _=mo(e);N&&!Rw(N,_)&&r(),N=_,j=requestAnimationFrame(S)}return r(),()=>{var _;g.forEach(M=>{l&&M.removeEventListener("scroll",r),c&&M.removeEventListener("resize",r)}),y?.(),(_=b)==null||_.disconnect(),b=null,m&&cancelAnimationFrame(j)}}const Pk=uk,Bk=dk,Uk=ik,Vk=mk,qk=lk,Dv=ak,Fk=fk,Yk=(e,n,r)=>{const a=new Map,l={platform:Lk,...r},c={...l.platform,_c:a};return ok(e,n,{...l,platform:c})};var Gk=typeof document<"u",Xk=function(){},mu=Gk?w.useLayoutEffect:Xk;function Mu(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,a,l;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(a=r;a--!==0;)if(!Mu(e[a],n[a]))return!1;return!0}if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(n,l[a]))return!1;for(a=r;a--!==0;){const c=l[a];if(!(c==="_owner"&&e.$$typeof)&&!Mu(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}function Dw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ov(e,n){const r=Dw(e);return Math.round(n*r)/r}function lh(e){const n=w.useRef(e);return mu(()=>{n.current=e}),n}function Zk(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:l,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:m,open:h}=e,[g,y]=w.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(a);Mu(x,a)||b(a);const[j,N]=w.useState(null),[S,_]=w.useState(null),M=w.useCallback(I=>{I!==D.current&&(D.current=I,N(I))},[]),E=w.useCallback(I=>{I!==O.current&&(O.current=I,_(I))},[]),T=c||j,R=d||S,D=w.useRef(null),O=w.useRef(null),P=w.useRef(g),q=m!=null,K=lh(m),J=lh(l),G=lh(h),Z=w.useCallback(()=>{if(!D.current||!O.current)return;const I={placement:n,strategy:r,middleware:x};J.current&&(I.platform=J.current),Yk(D.current,O.current,I).then(H=>{const C={...H,isPositioned:G.current!==!1};B.current&&!Mu(P.current,C)&&(P.current=C,yl.flushSync(()=>{y(C)}))})},[x,n,r,J,G]);mu(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,y(I=>({...I,isPositioned:!1})))},[h]);const B=w.useRef(!1);mu(()=>(B.current=!0,()=>{B.current=!1}),[]),mu(()=>{if(T&&(D.current=T),R&&(O.current=R),T&&R){if(K.current)return K.current(T,R,Z);Z()}},[T,R,Z,K,q]);const U=w.useMemo(()=>({reference:D,floating:O,setReference:M,setFloating:E}),[M,E]),k=w.useMemo(()=>({reference:T,floating:R}),[T,R]),L=w.useMemo(()=>{const I={position:r,left:0,top:0};if(!k.floating)return I;const H=Ov(k.floating,g.x),C=Ov(k.floating,g.y);return f?{...I,transform:"translate("+H+"px, "+C+"px)",...Dw(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:C}},[r,f,k.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:Z,refs:U,elements:k,floatingStyles:L}),[g,Z,U,k,L])}const Wk=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:l}=typeof e=="function"?e(r):e;return a&&n(a)?a.current!=null?Dv({element:a.current,padding:l}).fn(r):{}:a?Dv({element:a,padding:l}).fn(r):{}}}},Kk=(e,n)=>({...Pk(e),options:[e,n]}),Qk=(e,n)=>({...Bk(e),options:[e,n]}),Jk=(e,n)=>({...Fk(e),options:[e,n]}),e4=(e,n)=>({...Uk(e),options:[e,n]}),t4=(e,n)=>({...Vk(e),options:[e,n]}),n4=(e,n)=>({...qk(e),options:[e,n]}),s4=(e,n)=>({...Wk(e),options:[e,n]});var r4="Arrow",Ow=w.forwardRef((e,n)=>{const{children:r,width:a=10,height:l=5,...c}=e;return o.jsx(Ye.svg,{...c,ref:n,width:a,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ow.displayName=r4;var o4=Ow;function Dp(e){const[n,r]=w.useState(void 0);return Gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const m=c.borderBoxSize,h=Array.isArray(m)?m[0]:m;d=h.inlineSize,f=h.blockSize}else d=e.offsetWidth,f=e.offsetHeight;r({width:d,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),n}var Op="Popper",[zw,od]=ds(Op),[a4,Iw]=zw(Op),Lw=e=>{const{__scopePopper:n,children:r}=e,[a,l]=w.useState(null);return o.jsx(a4,{scope:n,anchor:a,onAnchorChange:l,children:r})};Lw.displayName=Op;var $w="PopperAnchor",Hw=w.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:a,...l}=e,c=Iw($w,r),d=w.useRef(null),f=rt(n,d),m=w.useRef(null);return w.useEffect(()=>{const h=m.current;m.current=a?.current||d.current,h!==m.current&&c.onAnchorChange(m.current)}),a?null:o.jsx(Ye.div,{...l,ref:f})});Hw.displayName=$w;var zp="PopperContent",[i4,l4]=zw(zp),Pw=w.forwardRef((e,n)=>{const{__scopePopper:r,side:a="bottom",sideOffset:l=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j,...N}=e,S=Iw(zp,r),[_,M]=w.useState(null),E=rt(n,te=>M(te)),[T,R]=w.useState(null),D=Dp(T),O=D?.width??0,P=D?.height??0,q=a+(c!=="center"?"-"+c:""),K=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},J=Array.isArray(h)?h:[h],G=J.length>0,Z={padding:K,boundary:J.filter(u4),altBoundary:G},{refs:B,floatingStyles:U,placement:k,isPositioned:L,middlewareData:I}=Zk({strategy:"fixed",placement:q,whileElementsMounted:(...te)=>Hk(...te,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[Kk({mainAxis:l+P,alignmentAxis:d}),m&&Qk({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Jk():void 0,...Z}),m&&e4({...Z}),t4({...Z,apply:({elements:te,rects:ie,availableWidth:ge,availableHeight:we})=>{const{width:Ne,height:ne}=ie.reference,pe=te.floating.style;pe.setProperty("--radix-popper-available-width",`${ge}px`),pe.setProperty("--radix-popper-available-height",`${we}px`),pe.setProperty("--radix-popper-anchor-width",`${Ne}px`),pe.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),T&&s4({element:T,padding:f}),d4({arrowWidth:O,arrowHeight:P}),x&&n4({strategy:"referenceHidden",...Z})]}),[H,C]=Vw(k),$=Yt(j);Gt(()=>{L&&$?.()},[L,$]);const Y=I.arrow?.x,V=I.arrow?.y,W=I.arrow?.centerOffset!==0,[fe,ue]=w.useState();return Gt(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:L?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(i4,{scope:r,placedSide:H,onArrowChange:R,arrowX:Y,arrowY:V,shouldHideArrow:W,children:o.jsx(Ye.div,{"data-side":H,"data-align":C,...N,ref:E,style:{...N.style,animation:L?void 0:"none"}})})})});Pw.displayName=zp;var Bw="PopperArrow",c4={top:"bottom",right:"left",bottom:"top",left:"right"},Uw=w.forwardRef(function(n,r){const{__scopePopper:a,...l}=n,c=l4(Bw,a),d=c4[c.placedSide];return o.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:o.jsx(o4,{...l,ref:r,style:{...l.style,display:"block"}})})});Uw.displayName=Bw;function u4(e){return e!==null}var d4=e=>({name:"transformOrigin",options:e,fn(n){const{placement:r,rects:a,middlewareData:l}=n,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[h,g]=Vw(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(l.arrow?.x??0)+f/2,b=(l.arrow?.y??0)+m/2;let j="",N="";return h==="bottom"?(j=d?y:`${x}px`,N=`${-m}px`):h==="top"?(j=d?y:`${x}px`,N=`${a.floating.height+m}px`):h==="right"?(j=`${-m}px`,N=d?y:`${b}px`):h==="left"&&(j=`${a.floating.width+m}px`,N=d?y:`${b}px`),{data:{x:j,y:N}}}});function Vw(e){const[n,r="center"]=e.split("-");return[n,r]}var qw=Lw,Fw=Hw,Yw=Pw,Gw=Uw,f4="Portal",Ip=w.forwardRef((e,n)=>{const{container:r,...a}=e,[l,c]=w.useState(!1);Gt(()=>c(!0),[]);const d=r||l&&globalThis?.document?.body;return d?kC.createPortal(o.jsx(Ye.div,{...a,ref:n}),d):null});Ip.displayName=f4;function m4(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var Gn=e=>{const{present:n,children:r}=e,a=h4(n),l=typeof r=="function"?r({present:a.isPresent}):w.Children.only(r),c=rt(a.ref,p4(l));return typeof r=="function"||a.isPresent?w.cloneElement(l,{ref:c}):null};Gn.displayName="Presence";function h4(e){const[n,r]=w.useState(),a=w.useRef(null),l=w.useRef(e),c=w.useRef("none"),d=e?"mounted":"unmounted",[f,m]=m4(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=Wc(a.current);c.current=f==="mounted"?h:"none"},[f]),Gt(()=>{const h=a.current,g=l.current;if(g!==e){const x=c.current,b=Wc(h);e?m("MOUNT"):b==="none"||h?.display==="none"?m("UNMOUNT"):m(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),Gt(()=>{if(n){let h;const g=n.ownerDocument.defaultView??window,y=b=>{const N=Wc(a.current).includes(CSS.escape(b.animationName));if(b.target===n&&N&&(m("ANIMATION_END"),!l.current)){const S=n.style.animationFillMode;n.style.animationFillMode="forwards",h=g.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=S)})}},x=b=>{b.target===n&&(c.current=Wc(a.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",y),n.addEventListener("animationend",y),()=>{g.clearTimeout(h),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",y),n.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(h=>{a.current=h?getComputedStyle(h):null,r(h)},[])}}function Wc(e){return e?.animationName||"none"}function p4(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ch="rovingFocusGroup.onEntryFocus",g4={bubbles:!1,cancelable:!0},wl="RovingFocusGroup",[qh,Xw,x4]=Sp(wl),[y4,ad]=ds(wl,[x4]),[v4,b4]=y4(wl),Zw=w.forwardRef((e,n)=>o.jsx(qh.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(qh.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(w4,{...e,ref:n})})}));Zw.displayName=wl;var w4=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...y}=e,x=w.useRef(null),b=rt(n,x),j=vl(c),[N,S]=uo({prop:d,defaultProp:f??null,onChange:m,caller:wl}),[_,M]=w.useState(!1),E=Yt(h),T=Xw(r),R=w.useRef(!1),[D,O]=w.useState(0);return w.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(ch,E),()=>P.removeEventListener(ch,E)},[E]),o.jsx(v4,{scope:r,orientation:a,dir:j,loop:l,currentTabStopId:N,onItemFocus:w.useCallback(P=>S(P),[S]),onItemShiftTab:w.useCallback(()=>M(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>O(P=>P-1),[]),children:o.jsx(Ye.div,{tabIndex:_||D===0?-1:0,"data-orientation":a,...y,ref:b,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{R.current=!0}),onFocus:Me(e.onFocus,P=>{const q=!R.current;if(P.target===P.currentTarget&&q&&!_){const K=new CustomEvent(ch,g4);if(P.currentTarget.dispatchEvent(K),!K.defaultPrevented){const J=T().filter(k=>k.focusable),G=J.find(k=>k.active),Z=J.find(k=>k.id===N),U=[G,Z,...J].filter(Boolean).map(k=>k.ref.current);Qw(U,g)}}R.current=!1}),onBlur:Me(e.onBlur,()=>M(!1))})})}),Ww="RovingFocusGroupItem",Kw=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:c,children:d,...f}=e,m=fo(),h=c||m,g=b4(Ww,r),y=g.currentTabStopId===h,x=Xw(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:N}=g;return w.useEffect(()=>{if(a)return b(),()=>j()},[a,b,j]),o.jsx(qh.ItemSlot,{scope:r,id:h,focusable:a,active:l,children:o.jsx(Ye.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...f,ref:n,onMouseDown:Me(e.onMouseDown,S=>{a?g.onItemFocus(h):S.preventDefault()}),onFocus:Me(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:Me(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=S4(S,g.orientation,g.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=x().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const T=E.indexOf(S.currentTarget);E=g.loop?_4(E,T+1):E.slice(T+1)}setTimeout(()=>Qw(E))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:N!=null}):d})})});Kw.displayName=Ww;var N4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j4(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S4(e,n,r){const a=j4(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return N4[a]}function Qw(e,n=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:n}),document.activeElement!==r))return}function _4(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var Jw=Zw,e1=Kw,E4=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},ia=new WeakMap,Kc=new WeakMap,Qc={},uh=0,t1=function(e){return e&&(e.host||t1(e.parentNode))},C4=function(e,n){return n.map(function(r){if(e.contains(r))return r;var a=t1(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},k4=function(e,n,r,a){var l=C4(n,Array.isArray(e)?e:[e]);Qc[r]||(Qc[r]=new WeakMap);var c=Qc[r],d=[],f=new Set,m=new Set(l),h=function(y){!y||f.has(y)||(f.add(y),h(y.parentNode))};l.forEach(h);var g=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(x){if(f.has(x))g(x);else try{var b=x.getAttribute(a),j=b!==null&&b!=="false",N=(ia.get(x)||0)+1,S=(c.get(x)||0)+1;ia.set(x,N),c.set(x,S),d.push(x),N===1&&j&&Kc.set(x,!0),S===1&&x.setAttribute(r,"true"),j||x.setAttribute(a,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return g(n),f.clear(),uh++,function(){d.forEach(function(y){var x=ia.get(y)-1,b=c.get(y)-1;ia.set(y,x),c.set(y,b),x||(Kc.has(y)||y.removeAttribute(a),Kc.delete(y)),b||y.removeAttribute(r)}),uh--,uh||(ia=new WeakMap,ia=new WeakMap,Kc=new WeakMap,Qc={})}},n1=function(e,n,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=E4(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live], script"))),k4(a,l,r,"aria-hidden")):function(){return null}},ss=function(){return ss=Object.assign||function(n){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},ss.apply(this,arguments)};function s1(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r}function A4(e,n,r){if(r||arguments.length===2)for(var a=0,l=n.length,c;a<l;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return e.concat(c||Array.prototype.slice.call(n))}var hu="right-scroll-bar-position",pu="width-before-scroll-bar",M4="with-scroll-bars-hidden",T4="--removed-body-scroll-bar-size";function dh(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function R4(e,n){var r=w.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(a){var l=r.value;l!==a&&(r.value=a,r.callback(a,l))}}}})[0];return r.callback=n,r.facade}var D4=typeof window<"u"?w.useLayoutEffect:w.useEffect,zv=new WeakMap;function O4(e,n){var r=R4(null,function(a){return e.forEach(function(l){return dh(l,a)})});return D4(function(){var a=zv.get(r);if(a){var l=new Set(a),c=new Set(e),d=r.current;l.forEach(function(f){c.has(f)||dh(f,null)}),c.forEach(function(f){l.has(f)||dh(f,d)})}zv.set(r,e)},[e]),r}function z4(e){return e}function I4(e,n){n===void 0&&(n=z4);var r=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var d=n(c,a);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(a=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){a=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(c),d=r}var m=function(){var g=d;d=[],g.forEach(c)},h=function(){return Promise.resolve().then(m)};h(),r={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),r}}}};return l}function L4(e){e===void 0&&(e={});var n=I4(null);return n.options=ss({async:!0,ssr:!1},e),n}var r1=function(e){var n=e.sideCar,r=s1(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,ss({},r))};r1.isSideCarExport=!0;function $4(e,n){return e.useMedium(n),r1}var o1=L4(),fh=function(){},id=w.forwardRef(function(e,n){var r=w.useRef(null),a=w.useState({onScrollCapture:fh,onWheelCapture:fh,onTouchMoveCapture:fh}),l=a[0],c=a[1],d=e.forwardProps,f=e.children,m=e.className,h=e.removeScrollBar,g=e.enabled,y=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,N=e.inert,S=e.allowPinchZoom,_=e.as,M=_===void 0?"div":_,E=e.gapMode,T=s1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,D=O4([r,n]),O=ss(ss({},T),l);return w.createElement(w.Fragment,null,g&&w.createElement(R,{sideCar:o1,removeScrollBar:h,shards:y,noRelative:b,noIsolation:j,inert:N,setCallbacks:c,allowPinchZoom:!!S,lockRef:r,gapMode:E}),d?w.cloneElement(w.Children.only(f),ss(ss({},O),{ref:D})):w.createElement(M,ss({},O,{className:m,ref:D}),f))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:pu,zeroRight:hu};var H4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=H4();return n&&e.setAttribute("nonce",n),e}function B4(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function U4(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var V4=function(){var e=0,n=null;return{add:function(r){e==0&&(n=P4())&&(B4(n,r),U4(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},q4=function(){var e=V4();return function(n,r){w.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},a1=function(){var e=q4(),n=function(r){var a=r.styles,l=r.dynamic;return e(a,l),null};return n},F4={left:0,top:0,right:0,gap:0},mh=function(e){return parseInt(e||"",10)||0},Y4=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],l=n[e==="padding"?"paddingRight":"marginRight"];return[mh(r),mh(a),mh(l)]},G4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F4;var n=Y4(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-r+n[2]-n[0])}},X4=a1(),pa="data-scroll-locked",Z4=function(e,n,r,a){var l=e.left,c=e.top,d=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(M4,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hu,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(pu,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(hu," .").concat(hu,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(T4,": ").concat(f,`px;
  }
`)},Iv=function(){var e=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(e)?e:0},W4=function(){w.useEffect(function(){return document.body.setAttribute(pa,(Iv()+1).toString()),function(){var e=Iv()-1;e<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,e.toString())}},[])},K4=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;W4();var c=w.useMemo(function(){return G4(l)},[l]);return w.createElement(X4,{styles:Z4(c,!n,l,r?"":"!important")})},Fh=!1;if(typeof window<"u")try{var Jc=Object.defineProperty({},"passive",{get:function(){return Fh=!0,!0}});window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Fh=!1}var la=Fh?{passive:!1}:!1,Q4=function(e){return e.tagName==="TEXTAREA"},i1=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!Q4(e)&&r[n]==="visible")},J4=function(e){return i1(e,"overflowY")},e3=function(e){return i1(e,"overflowX")},Lv=function(e,n){var r=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=l1(e,a);if(l){var c=c1(e,a),d=c[1],f=c[2];if(d>f)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},t3=function(e){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[n,r,a]},n3=function(e){var n=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[n,r,a]},l1=function(e,n){return e==="v"?J4(n):e3(n)},c1=function(e,n){return e==="v"?t3(n):n3(n)},s3=function(e,n){return e==="h"&&n==="rtl"?-1:1},r3=function(e,n,r,a,l){var c=s3(e,window.getComputedStyle(n).direction),d=c*a,f=r.target,m=n.contains(f),h=!1,g=d>0,y=0,x=0;do{if(!f)break;var b=c1(e,f),j=b[0],N=b[1],S=b[2],_=N-S-c*j;(j||_)&&l1(e,f)&&(y+=_,x+=j);var M=f.parentNode;f=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!m&&f!==document.body||m&&(n.contains(f)||n===f));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(h=!0),h},eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$v=function(e){return[e.deltaX,e.deltaY]},Hv=function(e){return e&&"current"in e?e.current:e},o3=function(e,n){return e[0]===n[0]&&e[1]===n[1]},a3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},i3=0,ca=[];function l3(e){var n=w.useRef([]),r=w.useRef([0,0]),a=w.useRef(),l=w.useState(i3++)[0],c=w.useState(a1)[0],d=w.useRef(e);w.useEffect(function(){d.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=A4([e.lockRef.current],(e.shards||[]).map(Hv),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=w.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var _=eu(N),M=r.current,E="deltaX"in N?N.deltaX:M[0]-_[0],T="deltaY"in N?N.deltaY:M[1]-_[1],R,D=N.target,O=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in N&&O==="h"&&D.type==="range")return!1;var P=Lv(O,D);if(!P)return!0;if(P?R=O:(R=O==="v"?"h":"v",P=Lv(O,D)),!P)return!1;if(!a.current&&"changedTouches"in N&&(E||T)&&(a.current=R),!R)return!0;var q=a.current||R;return r3(q,S,N,q==="h"?E:T)},[]),m=w.useCallback(function(N){var S=N;if(!(!ca.length||ca[ca.length-1]!==c)){var _="deltaY"in S?$v(S):eu(S),M=n.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&o3(R.delta,_)})[0];if(M&&M.should){S.cancelable&&S.preventDefault();return}if(!M){var E=(d.current.shards||[]).map(Hv).filter(Boolean).filter(function(R){return R.contains(S.target)}),T=E.length>0?f(S,E[0]):!d.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),h=w.useCallback(function(N,S,_,M){var E={name:N,delta:S,target:_,should:M,shadowParent:c3(_)};n.current.push(E),setTimeout(function(){n.current=n.current.filter(function(T){return T!==E})},1)},[]),g=w.useCallback(function(N){r.current=eu(N),a.current=void 0},[]),y=w.useCallback(function(N){h(N.type,$v(N),N.target,f(N,e.lockRef.current))},[]),x=w.useCallback(function(N){h(N.type,eu(N),N.target,f(N,e.lockRef.current))},[]);w.useEffect(function(){return ca.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",m,la),document.addEventListener("touchmove",m,la),document.addEventListener("touchstart",g,la),function(){ca=ca.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,la),document.removeEventListener("touchmove",m,la),document.removeEventListener("touchstart",g,la)}},[]);var b=e.removeScrollBar,j=e.inert;return w.createElement(w.Fragment,null,j?w.createElement(c,{styles:a3(l)}):null,b?w.createElement(K4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function c3(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const u3=$4(o1,l3);var Lp=w.forwardRef(function(e,n){return w.createElement(id,ss({},e,{ref:n,sideCar:u3}))});Lp.classNames=id.classNames;var Yh=["Enter"," "],d3=["ArrowDown","PageUp","Home"],u1=["ArrowUp","PageDown","End"],f3=[...d3,...u1],m3={ltr:[...Yh,"ArrowRight"],rtl:[...Yh,"ArrowLeft"]},h3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nl="Menu",[rl,p3,g3]=Sp(Nl),[vo,d1]=ds(Nl,[g3,od,ad]),ld=od(),f1=ad(),[x3,bo]=vo(Nl),[y3,jl]=vo(Nl),m1=e=>{const{__scopeMenu:n,open:r=!1,children:a,dir:l,onOpenChange:c,modal:d=!0}=e,f=ld(n),[m,h]=w.useState(null),g=w.useRef(!1),y=Yt(c),x=vl(l);return w.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),o.jsx(qw,{...f,children:o.jsx(x3,{scope:n,open:r,onOpenChange:y,content:m,onContentChange:h,children:o.jsx(y3,{scope:n,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:g,dir:x,modal:d,children:a})})})};m1.displayName=Nl;var v3="MenuAnchor",$p=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,l=ld(r);return o.jsx(Fw,{...l,...a,ref:n})});$p.displayName=v3;var Hp="MenuPortal",[b3,h1]=vo(Hp,{forceMount:void 0}),p1=e=>{const{__scopeMenu:n,forceMount:r,children:a,container:l}=e,c=bo(Hp,n);return o.jsx(b3,{scope:n,forceMount:r,children:o.jsx(Gn,{present:r||c.open,children:o.jsx(Ip,{asChild:!0,container:l,children:a})})})};p1.displayName=Hp;var Rn="MenuContent",[w3,Pp]=vo(Rn),g1=w.forwardRef((e,n)=>{const r=h1(Rn,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=bo(Rn,e.__scopeMenu),d=jl(Rn,e.__scopeMenu);return o.jsx(rl.Provider,{scope:e.__scopeMenu,children:o.jsx(Gn,{present:a||c.open,children:o.jsx(rl.Slot,{scope:e.__scopeMenu,children:d.modal?o.jsx(N3,{...l,ref:n}):o.jsx(j3,{...l,ref:n})})})})}),N3=w.forwardRef((e,n)=>{const r=bo(Rn,e.__scopeMenu),a=w.useRef(null),l=rt(n,a);return w.useEffect(()=>{const c=a.current;if(c)return n1(c)},[]),o.jsx(Bp,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),j3=w.forwardRef((e,n)=>{const r=bo(Rn,e.__scopeMenu);return o.jsx(Bp,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),S3=ba("MenuContent.ScrollLock"),Bp=w.forwardRef((e,n)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:b,disableOutsideScroll:j,...N}=e,S=bo(Rn,r),_=jl(Rn,r),M=ld(r),E=f1(r),T=p3(r),[R,D]=w.useState(null),O=w.useRef(null),P=rt(n,O,S.onContentChange),q=w.useRef(0),K=w.useRef(""),J=w.useRef(0),G=w.useRef(null),Z=w.useRef("right"),B=w.useRef(0),U=j?Lp:w.Fragment,k=j?{as:S3,allowPinchZoom:!0}:void 0,L=H=>{const C=K.current+H,$=T().filter(te=>!te.disabled),Y=document.activeElement,V=$.find(te=>te.ref.current===Y)?.textValue,W=$.map(te=>te.textValue),fe=I3(W,C,V),ue=$.find(te=>te.textValue===fe)?.ref.current;(function te(ie){K.current=ie,window.clearTimeout(q.current),ie!==""&&(q.current=window.setTimeout(()=>te(""),1e3))})(C),ue&&setTimeout(()=>ue.focus())};w.useEffect(()=>()=>window.clearTimeout(q.current),[]),ww();const I=w.useCallback(H=>Z.current===G.current?.side&&$3(H,G.current?.area),[]);return o.jsx(w3,{scope:r,searchRef:K,onItemEnter:w.useCallback(H=>{I(H)&&H.preventDefault()},[I]),onItemLeave:w.useCallback(H=>{I(H)||(O.current?.focus(),D(null))},[I]),onTriggerLeave:w.useCallback(H=>{I(H)&&H.preventDefault()},[I]),pointerGraceTimerRef:J,onPointerGraceIntentChange:w.useCallback(H=>{G.current=H},[]),children:o.jsx(U,{...k,children:o.jsx(Ep,{asChild:!0,trapped:l,onMountAutoFocus:Me(c,H=>{H.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:o.jsx(_p,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:b,children:o.jsx(Jw,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:a,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:Me(m,H=>{_.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Yw,{role:"menu","aria-orientation":"vertical","data-state":R1(S.open),"data-radix-menu-content":"",dir:_.dir,...M,...N,ref:P,style:{outline:"none",...N.style},onKeyDown:Me(N.onKeyDown,H=>{const $=H.target.closest("[data-radix-menu-content]")===H.currentTarget,Y=H.ctrlKey||H.altKey||H.metaKey,V=H.key.length===1;$&&(H.key==="Tab"&&H.preventDefault(),!Y&&V&&L(H.key));const W=O.current;if(H.target!==W||!f3.includes(H.key))return;H.preventDefault();const ue=T().filter(te=>!te.disabled).map(te=>te.ref.current);u1.includes(H.key)&&ue.reverse(),O3(ue)}),onBlur:Me(e.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(q.current),K.current="")}),onPointerMove:Me(e.onPointerMove,ol(H=>{const C=H.target,$=B.current!==H.clientX;if(H.currentTarget.contains(C)&&$){const Y=H.clientX>B.current?"right":"left";Z.current=Y,B.current=H.clientX}}))})})})})})})});g1.displayName=Rn;var _3="MenuGroup",Up=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{role:"group",...a,ref:n})});Up.displayName=_3;var E3="MenuLabel",x1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{...a,ref:n})});x1.displayName=E3;var Tu="MenuItem",Pv="menu.itemSelect",cd=w.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:a,...l}=e,c=w.useRef(null),d=jl(Tu,e.__scopeMenu),f=Pp(Tu,e.__scopeMenu),m=rt(n,c),h=w.useRef(!1),g=()=>{const y=c.current;if(!r&&y){const x=new CustomEvent(Pv,{bubbles:!0,cancelable:!0});y.addEventListener(Pv,b=>a?.(b),{once:!0}),yw(y,x),x.defaultPrevented?h.current=!1:d.onClose()}};return o.jsx(y1,{...l,ref:m,disabled:r,onClick:Me(e.onClick,g),onPointerDown:y=>{e.onPointerDown?.(y),h.current=!0},onPointerUp:Me(e.onPointerUp,y=>{h.current||y.currentTarget?.click()}),onKeyDown:Me(e.onKeyDown,y=>{const x=f.searchRef.current!=="";r||x&&y.key===" "||Yh.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});cd.displayName=Tu;var y1=w.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:a=!1,textValue:l,...c}=e,d=Pp(Tu,r),f=f1(r),m=w.useRef(null),h=rt(n,m),[g,y]=w.useState(!1),[x,b]=w.useState("");return w.useEffect(()=>{const j=m.current;j&&b((j.textContent??"").trim())},[c.children]),o.jsx(rl.ItemSlot,{scope:r,disabled:a,textValue:l??x,children:o.jsx(e1,{asChild:!0,...f,focusable:!a,children:o.jsx(Ye.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...c,ref:h,onPointerMove:Me(e.onPointerMove,ol(j=>{a?d.onItemLeave(j):(d.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(e.onPointerLeave,ol(j=>d.onItemLeave(j))),onFocus:Me(e.onFocus,()=>y(!0)),onBlur:Me(e.onBlur,()=>y(!1))})})})}),C3="MenuCheckboxItem",v1=w.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:a,...l}=e;return o.jsx(S1,{scope:e.__scopeMenu,checked:r,children:o.jsx(cd,{role:"menuitemcheckbox","aria-checked":Ru(r)?"mixed":r,...l,ref:n,"data-state":qp(r),onSelect:Me(l.onSelect,()=>a?.(Ru(r)?!0:!r),{checkForDefaultPrevented:!1})})})});v1.displayName=C3;var b1="MenuRadioGroup",[k3,A3]=vo(b1,{value:void 0,onValueChange:()=>{}}),w1=w.forwardRef((e,n)=>{const{value:r,onValueChange:a,...l}=e,c=Yt(a);return o.jsx(k3,{scope:e.__scopeMenu,value:r,onValueChange:c,children:o.jsx(Up,{...l,ref:n})})});w1.displayName=b1;var N1="MenuRadioItem",j1=w.forwardRef((e,n)=>{const{value:r,...a}=e,l=A3(N1,e.__scopeMenu),c=r===l.value;return o.jsx(S1,{scope:e.__scopeMenu,checked:c,children:o.jsx(cd,{role:"menuitemradio","aria-checked":c,...a,ref:n,"data-state":qp(c),onSelect:Me(a.onSelect,()=>l.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});j1.displayName=N1;var Vp="MenuItemIndicator",[S1,M3]=vo(Vp,{checked:!1}),_1=w.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:a,...l}=e,c=M3(Vp,r);return o.jsx(Gn,{present:a||Ru(c.checked)||c.checked===!0,children:o.jsx(Ye.span,{...l,ref:n,"data-state":qp(c.checked)})})});_1.displayName=Vp;var T3="MenuSeparator",E1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...a,ref:n})});E1.displayName=T3;var R3="MenuArrow",C1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,l=ld(r);return o.jsx(Gw,{...l,...a,ref:n})});C1.displayName=R3;var D3="MenuSub",[nL,k1]=vo(D3),Gi="MenuSubTrigger",A1=w.forwardRef((e,n)=>{const r=bo(Gi,e.__scopeMenu),a=jl(Gi,e.__scopeMenu),l=k1(Gi,e.__scopeMenu),c=Pp(Gi,e.__scopeMenu),d=w.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=c,h={__scopeMenu:e.__scopeMenu},g=w.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return w.useEffect(()=>g,[g]),w.useEffect(()=>{const y=f.current;return()=>{window.clearTimeout(y),m(null)}},[f,m]),o.jsx($p,{asChild:!0,...h,children:o.jsx(y1,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":R1(r.open),...e,ref:ed(n,l.onTriggerChange),onClick:y=>{e.onClick?.(y),!(e.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Me(e.onPointerMove,ol(y=>{c.onItemEnter(y),!y.defaultPrevented&&!e.disabled&&!r.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:Me(e.onPointerLeave,ol(y=>{g();const x=r.content?.getBoundingClientRect();if(x){const b=r.content?.dataset.side,j=b==="right",N=j?-5:5,S=x[j?"left":"right"],_=x[j?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+N,y:y.clientY},{x:S,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:S,y:x.bottom}],side:b}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Me(e.onKeyDown,y=>{const x=c.searchRef.current!=="";e.disabled||x&&y.key===" "||m3[a.dir].includes(y.key)&&(r.onOpenChange(!0),r.content?.focus(),y.preventDefault())})})})});A1.displayName=Gi;var M1="MenuSubContent",T1=w.forwardRef((e,n)=>{const r=h1(Rn,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=bo(Rn,e.__scopeMenu),d=jl(Rn,e.__scopeMenu),f=k1(M1,e.__scopeMenu),m=w.useRef(null),h=rt(n,m);return o.jsx(rl.Provider,{scope:e.__scopeMenu,children:o.jsx(Gn,{present:a||c.open,children:o.jsx(rl.Slot,{scope:e.__scopeMenu,children:o.jsx(Bp,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{d.isUsingKeyboardRef.current&&m.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:Me(e.onFocusOutside,g=>{g.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Me(e.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:Me(e.onKeyDown,g=>{const y=g.currentTarget.contains(g.target),x=h3[d.dir].includes(g.key);y&&x&&(c.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});T1.displayName=M1;function R1(e){return e?"open":"closed"}function Ru(e){return e==="indeterminate"}function qp(e){return Ru(e)?"indeterminate":e?"checked":"unchecked"}function O3(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function z3(e,n){return e.map((r,a)=>e[(n+a)%e.length])}function I3(e,n,r){const l=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=r?e.indexOf(r):-1;let d=z3(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==r));const m=d.find(h=>h.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function L3(e,n){const{x:r,y:a}=e;let l=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const f=n[c],m=n[d],h=f.x,g=f.y,y=m.x,x=m.y;g>a!=x>a&&r<(y-h)*(a-g)/(x-g)+h&&(l=!l)}return l}function $3(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return L3(r,n)}function ol(e){return n=>n.pointerType==="mouse"?e(n):void 0}var H3=m1,P3=$p,B3=p1,U3=g1,V3=Up,q3=x1,F3=cd,Y3=v1,G3=w1,X3=j1,Z3=_1,W3=E1,K3=C1,Q3=A1,J3=T1,ud="DropdownMenu",[eA,sL]=ds(ud,[d1]),en=d1(),[tA,D1]=eA(ud),O1=e=>{const{__scopeDropdownMenu:n,children:r,dir:a,open:l,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,m=en(n),h=w.useRef(null),[g,y]=uo({prop:l,defaultProp:c??!1,onChange:d,caller:ud});return o.jsx(tA,{scope:n,triggerId:fo(),triggerRef:h,contentId:fo(),open:g,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(x=>!x),[y]),modal:f,children:o.jsx(H3,{...m,open:g,onOpenChange:y,dir:a,modal:f,children:r})})};O1.displayName=ud;var z1="DropdownMenuTrigger",I1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...l}=e,c=D1(z1,r),d=en(r);return o.jsx(P3,{asChild:!0,...d,children:o.jsx(Ye.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...l,ref:ed(n,c.triggerRef),onPointerDown:Me(e.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:Me(e.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});I1.displayName=z1;var nA="DropdownMenuPortal",L1=e=>{const{__scopeDropdownMenu:n,...r}=e,a=en(n);return o.jsx(B3,{...a,...r})};L1.displayName=nA;var $1="DropdownMenuContent",H1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=D1($1,r),c=en(r),d=w.useRef(!1);return o.jsx(U3,{id:l.contentId,"aria-labelledby":l.triggerId,...c,...a,ref:n,onCloseAutoFocus:Me(e.onCloseAutoFocus,f=>{d.current||l.triggerRef.current?.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:Me(e.onInteractOutside,f=>{const m=f.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,g=m.button===2||h;(!l.modal||g)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});H1.displayName=$1;var sA="DropdownMenuGroup",rA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(V3,{...l,...a,ref:n})});rA.displayName=sA;var oA="DropdownMenuLabel",P1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(q3,{...l,...a,ref:n})});P1.displayName=oA;var aA="DropdownMenuItem",B1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(F3,{...l,...a,ref:n})});B1.displayName=aA;var iA="DropdownMenuCheckboxItem",lA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(Y3,{...l,...a,ref:n})});lA.displayName=iA;var cA="DropdownMenuRadioGroup",uA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(G3,{...l,...a,ref:n})});uA.displayName=cA;var dA="DropdownMenuRadioItem",fA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(X3,{...l,...a,ref:n})});fA.displayName=dA;var mA="DropdownMenuItemIndicator",hA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(Z3,{...l,...a,ref:n})});hA.displayName=mA;var pA="DropdownMenuSeparator",U1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(W3,{...l,...a,ref:n})});U1.displayName=pA;var gA="DropdownMenuArrow",xA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(K3,{...l,...a,ref:n})});xA.displayName=gA;var yA="DropdownMenuSubTrigger",vA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(Q3,{...l,...a,ref:n})});vA.displayName=yA;var bA="DropdownMenuSubContent",wA=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=en(r);return o.jsx(J3,{...l,...a,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wA.displayName=bA;var NA=O1,jA=I1,SA=L1,_A=H1,EA=P1,CA=B1,kA=U1;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,a)=>a?a.toUpperCase():r.toLowerCase()),Bv=e=>{const n=MA(e);return n.charAt(0).toUpperCase()+n.slice(1)},V1=(...e)=>e.filter((n,r,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===r).join(" ").trim(),TA=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=w.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...f},m)=>w.createElement("svg",{ref:m,...RA,width:n,height:n,stroke:e,strokeWidth:a?Number(r)*24/Number(n):r,className:V1("lucide",l),...!c&&!TA(f)&&{"aria-hidden":"true"},...f},[...d.map(([h,g])=>w.createElement(h,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,n)=>{const r=w.forwardRef(({className:a,...l},c)=>w.createElement(DA,{ref:c,iconNode:n,className:V1(`lucide-${AA(Bv(e))}`,`lucide-${e}`,a),...l}));return r.displayName=Bv(e),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fp=Se("activity",OA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],IA=Se("arrow-down",zA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],$A=Se("arrow-left-right",LA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],PA=Se("arrow-left",HA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],q1=Se("book-open",BA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Hs=Se("bot",UA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xi=Se("chart-column",VA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],FA=Se("check-check",qA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wo=Se("check",YA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mt=Se("chevron-down",GA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F1=Se("chevron-left",XA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jt=Se("chevron-right",ZA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Du=Se("chevron-up",WA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cs=Se("circle-alert",KA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dd=Se("circle-check-big",QA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qt=Se("circle-check",JA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tM=Se("circle-play",eM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Sl=Se("circle-x",nM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yp=Se("clock",sM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],oM=Se("cloud",rM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Y1=Se("code",aM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],lM=Se("container",iM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oo=Se("copy",cM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Gh=Se("database",uM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ou=Se("download",dM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],mM=Se("ellipsis-vertical",fM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zu=Se("external-link",hM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ps=Se("file-text",pM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],G1=Se("folder-open",gM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],X1=Se("globe",xM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],vM=Se("grid-3x3",yM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wM=Se("house",bM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jM=Se("image",NM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qs=Se("info",SM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],EM=Se("key",_M);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],kM=Se("layers",CM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],MM=Se("lightbulb",AM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mr=Se("loader-circle",TM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DM=Se("lock",RM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],zM=Se("map",OM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],LM=Se("maximize",IM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Gp=Se("message-square",$M);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PM=Se("moon",HM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Z1=Se("music",BM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Iu=Se("package",UM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],qM=Se("panel-right-open",VM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],YM=Se("paperclip",FM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Uv=Se("play",GM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=Se("plus",XM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zp=Se("refresh-cw",ZM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Xh=Se("rocket",WM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Wp=Se("rotate-ccw",KM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kp=Se("search",QM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],eT=Se("send-horizontal",JM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qi=Se("send",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5",key:"bt2siv"}],["path",{d:"M10 10 2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2h6z",key:"1hjrv1"}],["path",{d:"M22 17v-1a2 2 0 0 0-2-2h-1",key:"1iynyr"}],["path",{d:"M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5.5.5-8-8H4z",key:"161ggg"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sT=Se("server-off",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zh=Se("settings",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],aT=Se("shuffle",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],fd=Se("square",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cT=Se("sun",lT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qp=Se("trash-2",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fT=Se("triangle-alert",dT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hT=Se("upload",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W1=Se("user",pT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Ls=Se("workflow",gT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Na=Se("wrench",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ja=Se("x",yT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jp=Se("zap",vT);function md({...e}){return o.jsx(NA,{"data-slot":"dropdown-menu",...e})}function hd({...e}){return o.jsx(jA,{"data-slot":"dropdown-menu-trigger",...e})}function pd({className:e,sideOffset:n=4,...r}){return o.jsx(SA,{children:o.jsx(_A,{"data-slot":"dropdown-menu-content",sideOffset:n,className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function $t({className:e,inset:n,variant:r="default",...a}){return o.jsx(CA,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:Xe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function hh({className:e,inset:n,...r}){return o.jsx(EA,{"data-slot":"dropdown-menu-label","data-inset":n,className:Xe("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function ga({className:e,...n}){return o.jsx(kA,{"data-slot":"dropdown-menu-separator",className:Xe("bg-border -mx-1 my-1 h-px",e),...n})}function Lu({size:e="md",className:n}){return o.jsx(Mr,{className:Xe("animate-spin",{"h-4 w-4":e==="sm","h-6 w-6":e==="md","h-8 w-8":e==="lg"},n)})}const bT=e=>e==="workflow"?Ls:Hs;function wT({agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d=!1}){const[f,m]=w.useState(!1),h=r||[...e,...n],g=j=>{l(j),m(!1)},y=a?bT(a.type):Hs,x=a?.name||a?.id||"Select Agent or Workflow",b=a?.metadata?.lazy_loaded!==!1;return o.jsxs(md,{open:f,onOpenChange:m,children:[o.jsx(hd,{asChild:!0,children:o.jsx(Oe,{variant:"outline",className:"w-64 justify-between font-mono text-sm",disabled:d,children:d?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lu,{size:"sm"}),o.jsx("span",{className:"text-muted-foreground",children:"Loading..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(y,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:x}),a&&!b&&o.jsx(Mr,{className:"h-3 w-3 text-muted-foreground animate-spin ml-auto flex-shrink-0"})]}),o.jsx(Mt,{className:"h-4 w-4 opacity-50"})]})})}),o.jsxs(pd,{className:"w-80 font-mono",children:[(()=>{const j=h.filter(_=>_.type==="workflow"),N=h.filter(_=>_.type==="agent"),S=h[0]?.type;return o.jsxs(o.Fragment,{children:[S==="workflow"&&j.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(hh,{className:"flex items-center gap-2",children:[o.jsx(Ls,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(_=>{const M=_.metadata?.lazy_loaded!==!1;return o.jsx($t,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Ls,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),M&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),j.length>0&&N.length>0&&o.jsx(ga,{}),N.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(hh,{className:"flex items-center gap-2",children:[o.jsx(Hs,{className:"h-4 w-4"}),"Agents (",N.length,")"]}),N.map(_=>{const M=_.metadata?.lazy_loaded!==!1;return o.jsx($t,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Hs,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),M&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),S==="agent"&&j.length>0&&o.jsxs(o.Fragment,{children:[N.length>0&&o.jsx(ga,{}),o.jsxs(hh,{className:"flex items-center gap-2",children:[o.jsx(Ls,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(_=>{const M=_.metadata?.lazy_loaded!==!1;return o.jsx($t,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Ls,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),M&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]})]})})(),h.length===0&&o.jsx($t,{disabled:!0,children:o.jsx("div",{className:"text-center text-muted-foreground py-2",children:d?"Loading agents and workflows...":"No agents or workflows found"})}),o.jsx(ga,{}),o.jsxs($t,{className:"cursor-pointer text-primary",onClick:()=>{c?.(),m(!1)},children:[o.jsx(Xp,{className:"h-4 w-4 mr-2"}),"Browse Gallery"]})]})]})}var NT=(e,n,r,a,l,c,d,f)=>{let m=document.documentElement,h=["light","dark"];function g(b){(Array.isArray(e)?e:[e]).forEach(j=>{let N=j==="class",S=N&&c?l.map(_=>c[_]||_):l;N?(m.classList.remove(...S),m.classList.add(c&&c[b]?c[b]:b)):m.setAttribute(j,b)}),y(b)}function y(b){f&&h.includes(b)&&(m.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)g(a);else try{let b=localStorage.getItem(n)||r,j=d&&b==="system"?x():b;g(j)}catch{}},Vv=["light","dark"],K1="(prefers-color-scheme: dark)",jT=typeof window>"u",eg=w.createContext(void 0),ST={setTheme:e=>{},themes:[]},_T=()=>{var e;return(e=w.useContext(eg))!=null?e:ST},ET=e=>w.useContext(eg)?w.createElement(w.Fragment,null,e.children):w.createElement(kT,{...e}),CT=["light","dark"],kT=({forcedTheme:e,disableTransitionOnChange:n=!1,enableSystem:r=!0,enableColorScheme:a=!0,storageKey:l="theme",themes:c=CT,defaultTheme:d=r?"system":"light",attribute:f="data-theme",value:m,children:h,nonce:g,scriptProps:y})=>{let[x,b]=w.useState(()=>MT(l,d)),[j,N]=w.useState(()=>x==="system"?ph():x),S=m?Object.values(m):c,_=w.useCallback(R=>{let D=R;if(!D)return;R==="system"&&r&&(D=ph());let O=m?m[D]:D,P=n?TT(g):null,q=document.documentElement,K=J=>{J==="class"?(q.classList.remove(...S),O&&q.classList.add(O)):J.startsWith("data-")&&(O?q.setAttribute(J,O):q.removeAttribute(J))};if(Array.isArray(f)?f.forEach(K):K(f),a){let J=Vv.includes(d)?d:null,G=Vv.includes(D)?D:J;q.style.colorScheme=G}P?.()},[g]),M=w.useCallback(R=>{let D=typeof R=="function"?R(x):R;b(D);try{localStorage.setItem(l,D)}catch{}},[x]),E=w.useCallback(R=>{let D=ph(R);N(D),x==="system"&&r&&!e&&_("system")},[x,e]);w.useEffect(()=>{let R=window.matchMedia(K1);return R.addListener(E),E(R),()=>R.removeListener(E)},[E]),w.useEffect(()=>{let R=D=>{D.key===l&&(D.newValue?b(D.newValue):M(d))};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)},[M]),w.useEffect(()=>{_(e??x)},[e,x]);let T=w.useMemo(()=>({theme:x,setTheme:M,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:r?[...c,"system"]:c,systemTheme:r?j:void 0}),[x,M,e,j,r,c]);return w.createElement(eg.Provider,{value:T},w.createElement(AT,{forcedTheme:e,storageKey:l,attribute:f,enableSystem:r,enableColorScheme:a,defaultTheme:d,value:m,themes:c,nonce:g,scriptProps:y}),h)},AT=w.memo(({forcedTheme:e,storageKey:n,attribute:r,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:d,themes:f,nonce:m,scriptProps:h})=>{let g=JSON.stringify([r,n,c,e,f,d,a,l]).slice(1,-1);return w.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${NT.toString()})(${g})`}})}),MT=(e,n)=>{if(jT)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||n},TT=e=>{let n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},ph=e=>(e||(e=window.matchMedia(K1)),e.matches?"dark":"light");function RT(){const{setTheme:e}=_T();return o.jsxs(md,{children:[o.jsx(hd,{asChild:!0,children:o.jsxs(Oe,{variant:"ghost",size:"sm",children:[o.jsx(cT,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(PM,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(pd,{align:"end",children:[o.jsx($t,{onClick:()=>e("light"),children:"Light"}),o.jsx($t,{onClick:()=>e("dark"),children:"Dark"}),o.jsx($t,{onClick:()=>e("system"),children:"System"})]})]})}const qv=e=>{let n;const r=new Set,a=(h,g)=>{const y=typeof h=="function"?h(n):h;if(!Object.is(y,n)){const x=n;n=g??(typeof y!="object"||y===null)?y:Object.assign({},n,y),r.forEach(b=>b(n,x))}},l=()=>n,f={setState:a,getState:l,getInitialState:()=>m,subscribe:h=>(r.add(h),()=>r.delete(h))},m=n=e(a,l,f);return f},DT=(e=>e?qv(e):qv),OT=e=>e;function zT(e,n=OT){const r=yn.useSyncExternalStore(e.subscribe,yn.useCallback(()=>n(e.getState()),[e,n]),yn.useCallback(()=>n(e.getInitialState()),[e,n]));return yn.useDebugValue(r),r}const IT=e=>{const n=DT(e),r=a=>zT(n,a);return Object.assign(r,n),r},LT=(e=>IT),Fv={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:""},al=new Map,tu=e=>{const n=al.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([r,a])=>[r,a.getState()])):{}},$T=(e,n,r)=>{if(e===void 0)return{type:"untracked",connection:n.connect(r)};const a=al.get(r.name);if(a)return{type:"tracked",store:e,...a};const l={connection:n.connect(r),stores:{}};return al.set(r.name,l),{type:"tracked",store:e,...l}},HT=(e,n)=>{if(n===void 0)return;const r=al.get(e);r&&(delete r.stores[n],Object.keys(r.stores).length===0&&al.delete(e))},PT=e=>{var n,r;if(!e)return;const a=e.split(`
`),l=a.findIndex(d=>d.includes("api.setState"));if(l<0)return;const c=((n=a[l+1])==null?void 0:n.trim())||"";return(r=/.+ (.+) .+/.exec(c))==null?void 0:r[1]},BT=(e,n={})=>(r,a,l)=>{const{enabled:c,anonymousActionType:d,store:f,...m}=n;let h;try{h=(c??(Fv?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return e(r,a,l);const{connection:g,...y}=$T(f,h,m);let x=!0;l.setState=((N,S,_)=>{const M=r(N,S);if(!x)return M;const E=_===void 0?{type:d||PT(new Error().stack)||"anonymous"}:typeof _=="string"?{type:_}:_;return f===void 0?(g?.send(E,a()),M):(g?.send({...E,type:`${f}/${E.type}`},{...tu(m.name),[f]:l.getState()}),M)}),l.devtools={cleanup:()=>{g&&typeof g.unsubscribe=="function"&&g.unsubscribe(),HT(m.name,f)}};const b=(...N)=>{const S=x;x=!1,r(...N),x=S},j=e(l.setState,a,l);if(y.type==="untracked"?g?.init(j):(y.stores[y.store]=l,g?.init(Object.fromEntries(Object.entries(y.stores).map(([N,S])=>[N,N===y.store?j:S.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let N=!1;const S=l.dispatch;l.dispatch=(..._)=>{(Fv?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),S(..._)}}return g.subscribe(N=>{var S;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return gh(N.payload,_=>{if(_.type==="__setState"){if(f===void 0){b(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const M=_.state[f];if(M==null)return;JSON.stringify(l.getState())!==JSON.stringify(M)&&b(M);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return b(j),f===void 0?g?.init(l.getState()):g?.init(tu(m.name));case"COMMIT":if(f===void 0){g?.init(l.getState());return}return g?.init(tu(m.name));case"ROLLBACK":return gh(N.state,_=>{if(f===void 0){b(_),g?.init(l.getState());return}b(_[f]),g?.init(tu(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return gh(N.state,_=>{if(f===void 0){b(_);return}JSON.stringify(l.getState())!==JSON.stringify(_[f])&&b(_[f])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,M=(S=_.computedStates.slice(-1)[0])==null?void 0:S.state;if(!M)return;b(f===void 0?M:M[f]),g?.send(null,_);return}case"PAUSE_RECORDING":return x=!x}return}}),j},UT=BT,gh=(e,n)=>{let r;try{r=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}r!==void 0&&n(r)};function VT(e,n){let r;try{r=e()}catch{return}return{getItem:l=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),f=(c=r.getItem(l))!=null?c:null;return f instanceof Promise?f.then(d):d(f)},setItem:(l,c)=>r.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>r.removeItem(l)}}const Wh=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(a){return Wh(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return Wh(a)(r)}}}},qT=(e,n)=>(r,a,l)=>{let c={storage:VT(()=>localStorage),partialize:N=>N,version:0,merge:(N,S)=>({...S,...N}),...n},d=!1;const f=new Set,m=new Set;let h=c.storage;if(!h)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...N)},a,l);const g=()=>{const N=c.partialize({...a()});return h.setItem(c.name,{state:N,version:c.version})},y=l.setState;l.setState=(N,S)=>(y(N,S),g());const x=e((...N)=>(r(...N),g()),a,l);l.getInitialState=()=>x;let b;const j=()=>{var N,S;if(!h)return;d=!1,f.forEach(M=>{var E;return M((E=a())!=null?E:x)});const _=((S=c.onRehydrateStorage)==null?void 0:S.call(c,(N=a())!=null?N:x))||void 0;return Wh(h.getItem.bind(h))(c.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==c.version){if(c.migrate){const E=c.migrate(M.state,M.version);return E instanceof Promise?E.then(T=>[!0,T]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var E;const[T,R]=M;if(b=c.merge(R,(E=a())!=null?E:x),r(b,!0),T)return g()}).then(()=>{_?.(b,void 0),b=a(),d=!0,m.forEach(M=>M(b))}).catch(M=>{_?.(void 0,M)})};return l.persist={setOptions:N=>{c={...c,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>j(),hasHydrated:()=>d,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},c.skipHydration||j(),b||x},FT=qT,de=LT()(UT(FT(e=>({agents:[],workflows:[],entities:[],selectedAgent:void 0,isLoadingEntities:!0,entityError:null,currentConversation:void 0,availableConversations:[],chatItems:[],isStreaming:!1,isSubmitting:!1,loadingConversations:!1,inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],loadingSessions:!1,loadingCheckpoints:!1,showDebugPanel:!0,debugPanelMinimized:!1,debugPanelWidth:320,debugEvents:[],isResizing:!1,showToolCalls:!0,showAboutModal:!1,showGallery:!1,showDeployModal:!1,showEntityNotFoundToast:!1,toasts:[],oaiMode:{enabled:!1,model:"gpt-4o-mini"},uiMode:"developer",runtime:"python",serverCapabilities:{tracing:!1,openai_proxy:!1,deployment:!1},authRequired:!1,serverVersion:null,isDeploying:!1,deploymentLogs:[],lastDeployment:null,azureDeploymentEnabled:!1,setAgents:n=>e({agents:n}),setWorkflows:n=>e({workflows:n}),setEntities:n=>e({entities:n}),setSelectedAgent:n=>e({selectedAgent:n}),addAgent:n=>e(r=>({agents:[...r.agents,n]})),addWorkflow:n=>e(r=>({workflows:[...r.workflows,n]})),updateAgent:n=>e(r=>({agents:r.agents.map(a=>a.id===n.id?n:a),selectedAgent:r.selectedAgent?.id===n.id&&r.selectedAgent.type==="agent"?n:r.selectedAgent})),updateWorkflow:n=>e(r=>({workflows:r.workflows.map(a=>a.id===n.id?n:a),selectedAgent:r.selectedAgent?.id===n.id&&r.selectedAgent.type==="workflow"?n:r.selectedAgent})),removeEntity:n=>e(r=>({agents:r.agents.filter(a=>a.id!==n),workflows:r.workflows.filter(a=>a.id!==n),selectedAgent:r.selectedAgent?.id===n?void 0:r.selectedAgent})),setEntityError:n=>e({entityError:n}),setIsLoadingEntities:n=>e({isLoadingEntities:n}),setCurrentConversation:n=>e({currentConversation:n}),setAvailableConversations:n=>e({availableConversations:n}),setChatItems:n=>e({chatItems:n}),setIsStreaming:n=>e({isStreaming:n}),setIsSubmitting:n=>e({isSubmitting:n}),setLoadingConversations:n=>e({loadingConversations:n}),setInputValue:n=>e({inputValue:n}),setAttachments:n=>e({attachments:n}),updateConversationUsage:n=>e(r=>({conversationUsage:{total_tokens:r.conversationUsage.total_tokens+n,message_count:r.conversationUsage.message_count+1}})),setPendingApprovals:n=>e({pendingApprovals:n}),setCurrentSession:n=>e({currentSession:n}),setAvailableSessions:n=>e({availableSessions:n}),setSessionCheckpoints:n=>e({sessionCheckpoints:n}),setLoadingSessions:n=>e({loadingSessions:n}),setLoadingCheckpoints:n=>e({loadingCheckpoints:n}),addSession:n=>e(r=>({availableSessions:[n,...r.availableSessions]})),removeSession:n=>e(r=>({availableSessions:r.availableSessions.filter(a=>a.conversation_id!==n),currentSession:r.currentSession?.conversation_id===n?void 0:r.currentSession,sessionCheckpoints:r.currentSession?.conversation_id===n?[]:r.sessionCheckpoints})),setShowDebugPanel:n=>e({showDebugPanel:n}),setDebugPanelMinimized:n=>e({debugPanelMinimized:n}),setDebugPanelWidth:n=>e({debugPanelWidth:n}),setShowToolCalls:n=>e({showToolCalls:n}),addDebugEvent:n=>e(r=>{const a=Math.floor(Date.now()/1e3),c=(r.debugEvents.length>0?r.debugEvents[r.debugEvents.length-1]:null)?._uiTimestamp??0,d=Math.max(a,c+1);return{debugEvents:[...r.debugEvents,{...n,_uiTimestamp:"created_at"in n&&n.created_at?n.created_at:d}]}}),clearDebugEvents:()=>e({debugEvents:[]}),setIsResizing:n=>e({isResizing:n}),setShowAboutModal:n=>e({showAboutModal:n}),setShowGallery:n=>e({showGallery:n}),setShowDeployModal:n=>e({showDeployModal:n}),setShowEntityNotFoundToast:n=>e({showEntityNotFoundToast:n}),addToast:n=>e(r=>({toasts:[...r.toasts,{id:`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:n.type||"info",duration:n.duration||4e3,...n}]})),removeToast:n=>e(r=>({toasts:r.toasts.filter(a=>a.id!==n)})),setOAIMode:n=>e(r=>n.enabled&&!r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):!n.enabled&&r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):{oaiMode:n}),toggleOAIMode:()=>e(n=>{const r=!n.oaiMode.enabled;return{oaiMode:{...n.oaiMode,enabled:r},currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}}),setServerMeta:n=>e({uiMode:n.uiMode,runtime:n.runtime,serverCapabilities:n.capabilities,authRequired:n.authRequired,serverVersion:n.version||null}),startDeployment:()=>e({isDeploying:!0,deploymentLogs:[],lastDeployment:null}),addDeploymentLog:n=>e(r=>({deploymentLogs:[...r.deploymentLogs,n]})),setDeploymentResult:n=>e({isDeploying:!1,lastDeployment:n}),stopDeployment:()=>e({isDeploying:!1}),clearDeploymentState:()=>e({isDeploying:!1,deploymentLogs:[],lastDeployment:null}),setAzureDeploymentEnabled:n=>e({azureDeploymentEnabled:n}),selectEntity:n=>{e({selectedAgent:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],debugEvents:[]});const r=new URL(window.location.href);r.searchParams.set("entity_id",n.id),window.history.pushState({},"",r)}}),{name:"devui-storage",partialize:e=>({showDebugPanel:e.showDebugPanel,debugPanelMinimized:e.debugPanelMinimized,debugPanelWidth:e.debugPanelWidth,showToolCalls:e.showToolCalls,oaiMode:e.oaiMode,azureDeploymentEnabled:e.azureDeploymentEnabled})}),{name:"DevUI Store"})),Kh=Object.freeze(Object.defineProperty({__proto__:null,useDevUIStore:de},Symbol.toStringTag,{value:"Module"}));function Yv({agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d=!1,onSettingsClick:f}){const{oaiMode:m,serverVersion:h}=de();return o.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 805 805",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[o.jsx("path",{d:"M402.488 119.713C439.197 119.713 468.955 149.472 468.955 186.18C468.955 192.086 471.708 197.849 476.915 200.635L546.702 237.977C555.862 242.879 566.95 240.96 576.092 236.023C585.476 230.955 596.218 228.078 607.632 228.078C644.341 228.078 674.098 257.836 674.099 294.545C674.099 316.95 663.013 336.765 646.028 348.806C637.861 354.595 631.412 363.24 631.412 373.251V430.818C631.412 440.83 637.861 449.475 646.028 455.264C663.013 467.305 674.099 487.121 674.099 509.526C674.099 546.235 644.341 575.994 607.632 575.994C598.598 575.994 589.985 574.191 582.133 570.926C573.644 567.397 563.91 566.393 555.804 570.731L469.581 616.867C469.193 617.074 468.955 617.479 468.955 617.919C468.955 654.628 439.197 684.386 402.488 684.386C365.779 684.386 336.021 654.628 336.021 617.919C336.021 616.802 335.423 615.765 334.439 615.238L249.895 570C241.61 565.567 231.646 566.713 223.034 570.472C214.898 574.024 205.914 575.994 196.47 575.994C159.761 575.994 130.002 546.235 130.002 509.526C130.002 486.66 141.549 466.49 159.13 454.531C167.604 448.766 174.349 439.975 174.349 429.726V372.538C174.349 362.289 167.604 353.498 159.13 347.734C141.549 335.774 130.002 315.604 130.002 292.738C130.002 256.029 159.761 226.271 196.47 226.271C208.223 226.271 219.263 229.322 228.843 234.674C238.065 239.827 249.351 241.894 258.666 236.91L328.655 199.459C333.448 196.895 336.021 191.616 336.021 186.18C336.021 149.471 365.779 119.713 402.488 119.713ZM475.716 394.444C471.337 396.787 468.955 401.586 468.955 406.552C468.955 429.68 457.142 450.048 439.221 461.954C430.571 467.7 423.653 476.574 423.653 486.959V537.511C423.653 547.896 430.746 556.851 439.379 562.622C449 569.053 461.434 572.052 471.637 566.592L527.264 536.826C536.887 531.677 541.164 520.44 541.164 509.526C541.164 485.968 553.42 465.272 571.904 453.468C580.846 447.757 588.054 438.749 588.054 428.139V371.427C588.054 363.494 582.671 356.676 575.716 352.862C569.342 349.366 561.663 348.454 555.253 351.884L475.716 394.444ZM247.992 349.841C241.997 346.633 234.806 347.465 228.873 350.785C222.524 354.337 217.706 360.639 217.706 367.915V429.162C217.706 439.537 224.611 448.404 233.248 454.152C251.144 466.062 262.937 486.417 262.937 509.526C262.937 519.654 267.026 529.991 275.955 534.769L334.852 566.284C344.582 571.49 356.362 568.81 365.528 562.667C373.735 557.166 380.296 548.643 380.296 538.764V486.305C380.296 476.067 373.564 467.282 365.103 461.516C347.548 449.552 336.021 429.398 336.021 406.552C336.021 400.967 333.389 395.536 328.465 392.902L247.992 349.841ZM270.019 280.008C265.421 282.469 262.936 287.522 262.937 292.738C262.937 293.308 262.929 293.876 262.915 294.443C262.615 306.354 266.961 318.871 277.466 324.492L334.017 354.751C344.13 360.163 356.442 357.269 366.027 350.969C376.495 344.088 389.024 340.085 402.488 340.085C416.203 340.085 428.947 344.239 439.532 351.357C449.163 357.834 461.63 360.861 471.864 355.385L526.625 326.083C537.106 320.474 541.458 307.999 541.182 296.115C541.17 295.593 541.164 295.069 541.164 294.545C541.164 288.551 538.376 282.696 533.091 279.868L463.562 242.664C454.384 237.753 443.274 239.688 434.123 244.65C424.716 249.75 413.941 252.647 402.488 252.647C390.83 252.647 379.873 249.646 370.348 244.373C361.148 239.281 349.917 237.256 340.646 242.217L270.019 280.008Z",fill:"url(#paint0_linear_510_1294)"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"paint0_linear_510_1294",x1:"255.628",y1:"-34.3245",x2:"618.483",y2:"632.032",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#D59FFF"}),o.jsx("stop",{offset:"1",stopColor:"#8562C5"})]})})]}),"Dev UI",h&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["v",h]}),m.enabled&&o.jsxs(ut,{variant:"secondary",className:"gap-1 ml-2",children:[o.jsx(Jp,{className:"h-3 w-3"}),"OpenAI: ",m.model]})]}),!m.enabled&&o.jsx(wT,{agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx(RT,{}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),f?.()},children:o.jsx(Zh,{className:"h-4 w-4"})})]})]})}function Qh(e,[n,r]){return Math.min(r,Math.max(n,e))}function YT(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var tg="ScrollArea",[Q1,rL]=ds(tg),[GT,Dn]=Q1(tg),J1=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:a="hover",dir:l,scrollHideDelay:c=600,...d}=e,[f,m]=w.useState(null),[h,g]=w.useState(null),[y,x]=w.useState(null),[b,j]=w.useState(null),[N,S]=w.useState(null),[_,M]=w.useState(0),[E,T]=w.useState(0),[R,D]=w.useState(!1),[O,P]=w.useState(!1),q=rt(n,J=>m(J)),K=vl(l);return o.jsx(GT,{scope:r,type:a,dir:K,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:g,content:y,onContentChange:x,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:R,onScrollbarXEnabledChange:D,scrollbarY:N,onScrollbarYChange:S,scrollbarYEnabled:O,onScrollbarYEnabledChange:P,onCornerWidthChange:M,onCornerHeightChange:T,children:o.jsx(Ye.div,{dir:K,...d,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});J1.displayName=tg;var eN="ScrollAreaViewport",tN=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:a,nonce:l,...c}=e,d=Dn(eN,r),f=w.useRef(null),m=rt(n,f,d.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),o.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...c,ref:m,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});tN.displayName=eN;var ms="ScrollAreaScrollbar",ng=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Dn(ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:d}=l,f=e.orientation==="horizontal";return w.useEffect(()=>(f?c(!0):d(!0),()=>{f?c(!1):d(!1)}),[f,c,d]),l.type==="hover"?o.jsx(XT,{...a,ref:n,forceMount:r}):l.type==="scroll"?o.jsx(ZT,{...a,ref:n,forceMount:r}):l.type==="auto"?o.jsx(nN,{...a,ref:n,forceMount:r}):l.type==="always"?o.jsx(sg,{...a,ref:n}):null});ng.displayName=ms;var XT=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Dn(ms,e.__scopeScrollArea),[c,d]=w.useState(!1);return w.useEffect(()=>{const f=l.scrollArea;let m=0;if(f){const h=()=>{window.clearTimeout(m),d(!0)},g=()=>{m=window.setTimeout(()=>d(!1),l.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",g)}}},[l.scrollArea,l.scrollHideDelay]),o.jsx(Gn,{present:r||c,children:o.jsx(nN,{"data-state":c?"visible":"hidden",...a,ref:n})})}),ZT=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Dn(ms,e.__scopeScrollArea),c=e.orientation==="horizontal",d=xd(()=>m("SCROLL_END"),100),[f,m]=YT("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>m("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,l.scrollHideDelay,m]),w.useEffect(()=>{const h=l.viewport,g=c?"scrollLeft":"scrollTop";if(h){let y=h[g];const x=()=>{const b=h[g];y!==b&&(m("SCROLL"),d()),y=b};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[l.viewport,c,m,d]),o.jsx(Gn,{present:r||f!=="hidden",children:o.jsx(sg,{"data-state":f==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:Me(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Me(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),nN=w.forwardRef((e,n)=>{const r=Dn(ms,e.__scopeScrollArea),{forceMount:a,...l}=e,[c,d]=w.useState(!1),f=e.orientation==="horizontal",m=xd(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;d(f?h:g)}},10);return Sa(r.viewport,m),Sa(r.content,m),o.jsx(Gn,{present:a||c,children:o.jsx(sg,{"data-state":c?"visible":"hidden",...l,ref:n})})}),sg=w.forwardRef((e,n)=>{const{orientation:r="vertical",...a}=e,l=Dn(ms,e.__scopeScrollArea),c=w.useRef(null),d=w.useRef(0),[f,m]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=iN(f.viewport,f.content),g={...a,sizes:f,onSizesChange:m,hasThumb:h>0&&h<1,onThumbChange:x=>c.current=x,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:x=>d.current=x};function y(x,b){return t5(x,d.current,f,b)}return r==="horizontal"?o.jsx(WT,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&c.current){const x=l.viewport.scrollLeft,b=Gv(x,f,l.dir);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollLeft=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollLeft=y(x,l.dir))}}):r==="vertical"?o.jsx(KT,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&c.current){const x=l.viewport.scrollTop,b=Gv(x,f);c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollTop=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollTop=y(x))}}):null}),WT=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...l}=e,c=Dn(ms,e.__scopeScrollArea),[d,f]=w.useState(),m=w.useRef(null),h=rt(n,m,c.onScrollbarXChange);return w.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),o.jsx(rN,{"data-orientation":"horizontal",...l,ref:h,sizes:r,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gd(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(c.viewport){const x=c.viewport.scrollLeft+g.deltaX;e.onWheelScroll(x),cN(x,y)&&g.preventDefault()}},onResize:()=>{m.current&&c.viewport&&d&&a({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Hu(d.paddingLeft),paddingEnd:Hu(d.paddingRight)}})}})}),KT=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...l}=e,c=Dn(ms,e.__scopeScrollArea),[d,f]=w.useState(),m=w.useRef(null),h=rt(n,m,c.onScrollbarYChange);return w.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),o.jsx(rN,{"data-orientation":"vertical",...l,ref:h,sizes:r,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gd(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(c.viewport){const x=c.viewport.scrollTop+g.deltaY;e.onWheelScroll(x),cN(x,y)&&g.preventDefault()}},onResize:()=>{m.current&&c.viewport&&d&&a({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Hu(d.paddingTop),paddingEnd:Hu(d.paddingBottom)}})}})}),[QT,sN]=Q1(ms),rN=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:l,onThumbChange:c,onThumbPointerUp:d,onThumbPointerDown:f,onThumbPositionChange:m,onDragScroll:h,onWheelScroll:g,onResize:y,...x}=e,b=Dn(ms,r),[j,N]=w.useState(null),S=rt(n,q=>N(q)),_=w.useRef(null),M=w.useRef(""),E=b.viewport,T=a.content-a.viewport,R=Yt(g),D=Yt(m),O=xd(y,10);function P(q){if(_.current){const K=q.clientX-_.current.left,J=q.clientY-_.current.top;h({x:K,y:J})}}return w.useEffect(()=>{const q=K=>{const J=K.target;j?.contains(J)&&R(K,T)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[E,j,T,R]),w.useEffect(D,[a,D]),Sa(j,O),Sa(b.content,O),o.jsx(QT,{scope:r,scrollbar:j,hasThumb:l,onThumbChange:Yt(c),onThumbPointerUp:Yt(d),onThumbPositionChange:D,onThumbPointerDown:Yt(f),children:o.jsx(Ye.div,{...x,ref:S,style:{position:"absolute",...x.style},onPointerDown:Me(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),_.current=j.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),P(q))}),onPointerMove:Me(e.onPointerMove,P),onPointerUp:Me(e.onPointerUp,q=>{const K=q.target;K.hasPointerCapture(q.pointerId)&&K.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=M.current,b.viewport&&(b.viewport.style.scrollBehavior=""),_.current=null})})})}),$u="ScrollAreaThumb",oN=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=sN($u,e.__scopeScrollArea);return o.jsx(Gn,{present:r||l.hasThumb,children:o.jsx(JT,{ref:n,...a})})}),JT=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:a,...l}=e,c=Dn($u,r),d=sN($u,r),{onThumbPositionChange:f}=d,m=rt(n,y=>d.onThumbChange(y)),h=w.useRef(void 0),g=xd(()=>{h.current&&(h.current(),h.current=void 0)},100);return w.useEffect(()=>{const y=c.viewport;if(y){const x=()=>{if(g(),!h.current){const b=n5(y,f);h.current=b,f()}};return f(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[c.viewport,g,f]),o.jsx(Ye.div,{"data-state":d.hasThumb?"visible":"hidden",...l,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Me(e.onPointerDownCapture,y=>{const b=y.target.getBoundingClientRect(),j=y.clientX-b.left,N=y.clientY-b.top;d.onThumbPointerDown({x:j,y:N})}),onPointerUp:Me(e.onPointerUp,d.onThumbPointerUp)})});oN.displayName=$u;var rg="ScrollAreaCorner",aN=w.forwardRef((e,n)=>{const r=Dn(rg,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(e5,{...e,ref:n}):null});aN.displayName=rg;var e5=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,...a}=e,l=Dn(rg,r),[c,d]=w.useState(0),[f,m]=w.useState(0),h=!!(c&&f);return Sa(l.scrollbarX,()=>{const g=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(g),m(g)}),Sa(l.scrollbarY,()=>{const g=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(g),d(g)}),h?o.jsx(Ye.div,{...a,ref:n,style:{width:c,height:f,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Hu(e){return e?parseInt(e,10):0}function iN(e,n){const r=e/n;return isNaN(r)?0:r}function gd(e){const n=iN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*n;return Math.max(a,18)}function t5(e,n,r,a="ltr"){const l=gd(r),c=l/2,d=n||c,f=l-d,m=r.scrollbar.paddingStart+d,h=r.scrollbar.size-r.scrollbar.paddingEnd-f,g=r.content-r.viewport,y=a==="ltr"?[0,g]:[g*-1,0];return lN([m,h],y)(e)}function Gv(e,n,r="ltr"){const a=gd(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,c=n.scrollbar.size-l,d=n.content-n.viewport,f=c-a,m=r==="ltr"?[0,d]:[d*-1,0],h=Qh(e,m);return lN([0,d],[0,f])(h)}function lN(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(r-e[0])}}function cN(e,n){return e>0&&e<n}var n5=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function l(){const c={left:e.scrollLeft,top:e.scrollTop},d=r.left!==c.left,f=r.top!==c.top;(d||f)&&n(),r=c,a=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(a)};function xd(e,n){const r=Yt(e),a=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),w.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,n)},[r,n])}function Sa(e,n){const r=Yt(n);Gt(()=>{let a=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return l.observe(e),()=>{window.cancelAnimationFrame(a),l.unobserve(e)}}},[e,r])}var uN=J1,s5=tN,r5=aN;const Yn=w.forwardRef(({className:e,children:n,...r},a)=>o.jsxs(uN,{ref:a,className:Xe("relative overflow-hidden",e),...r,children:[o.jsx(s5,{className:"h-full w-full rounded-[inherit]",children:n}),o.jsx(dN,{}),o.jsx(r5,{})]}));Yn.displayName=uN.displayName;const dN=w.forwardRef(({className:e,orientation:n="vertical",...r},a)=>o.jsx(ng,{ref:a,orientation:n,className:Xe("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(oN,{className:"relative flex-1 rounded-full bg-border"})}));dN.displayName=ng.displayName;var yd="Tabs",[o5,oL]=ds(yd,[ad]),fN=ad(),[a5,og]=o5(yd),mN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,onValueChange:l,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:m="automatic",...h}=e,g=vl(f),[y,x]=uo({prop:a,onChange:l,defaultProp:c??"",caller:yd});return o.jsx(a5,{scope:r,baseId:fo(),value:y,onValueChange:x,orientation:d,dir:g,activationMode:m,children:o.jsx(Ye.div,{dir:g,"data-orientation":d,...h,ref:n})})});mN.displayName=yd;var hN="TabsList",pN=w.forwardRef((e,n)=>{const{__scopeTabs:r,loop:a=!0,...l}=e,c=og(hN,r),d=fN(r);return o.jsx(Jw,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:a,children:o.jsx(Ye.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:n})})});pN.displayName=hN;var gN="TabsTrigger",xN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,disabled:l=!1,...c}=e,d=og(gN,r),f=fN(r),m=bN(d.baseId,a),h=wN(d.baseId,a),g=a===d.value;return o.jsx(e1,{asChild:!0,...f,focusable:!l,active:g,children:o.jsx(Ye.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...c,ref:n,onMouseDown:Me(e.onMouseDown,y=>{!l&&y.button===0&&y.ctrlKey===!1?d.onValueChange(a):y.preventDefault()}),onKeyDown:Me(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(a)}),onFocus:Me(e.onFocus,()=>{const y=d.activationMode!=="manual";!g&&!l&&y&&d.onValueChange(a)})})})});xN.displayName=gN;var yN="TabsContent",vN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,forceMount:l,children:c,...d}=e,f=og(yN,r),m=bN(f.baseId,a),h=wN(f.baseId,a),g=a===f.value,y=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),o.jsx(Gn,{present:l||g,children:({present:x})=>o.jsx(Ye.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!x,id:h,tabIndex:0,...d,ref:n,style:{...e.style,animationDuration:y.current?"0s":void 0},children:x&&c})})});vN.displayName=yN;function bN(e,n){return`${e}-trigger-${n}`}function wN(e,n){return`${e}-content-${n}`}var i5=mN,NN=pN,jN=xN,SN=vN;const l5=i5,_N=w.forwardRef(({className:e,...n},r)=>o.jsx(NN,{ref:r,className:Xe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n}));_N.displayName=NN.displayName;const gu=w.forwardRef(({className:e,...n},r)=>o.jsx(jN,{ref:r,className:Xe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n}));gu.displayName=jN.displayName;const xu=w.forwardRef(({className:e,...n},r)=>o.jsx(SN,{ref:r,className:Xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));xu.displayName=SN.displayName;function ag(e){const n=w.useRef({value:e,previous:e});return w.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var vd="Checkbox",[c5,aL]=ds(vd),[u5,ig]=c5(vd);function d5(e){const{__scopeCheckbox:n,checked:r,children:a,defaultChecked:l,disabled:c,form:d,name:f,onCheckedChange:m,required:h,value:g="on",internal_do_not_use_render:y}=e,[x,b]=uo({prop:r,defaultProp:l??!1,onChange:m,caller:vd}),[j,N]=w.useState(null),[S,_]=w.useState(null),M=w.useRef(!1),E=j?!!d||!!j.closest("form"):!0,T={checked:x,disabled:c,setChecked:b,control:j,setControl:N,name:f,form:d,value:g,hasConsumerStoppedPropagationRef:M,required:h,defaultChecked:Cr(l)?!1:l,isFormControl:E,bubbleInput:S,setBubbleInput:_};return o.jsx(u5,{scope:n,...T,children:f5(y)?y(T):a})}var EN="CheckboxTrigger",CN=w.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:r,...a},l)=>{const{control:c,value:d,disabled:f,checked:m,required:h,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:j}=ig(EN,e),N=rt(l,g),S=w.useRef(m);return w.useEffect(()=>{const _=c?.form;if(_){const M=()=>y(S.current);return _.addEventListener("reset",M),()=>_.removeEventListener("reset",M)}},[c,y]),o.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Cr(m)?"mixed":m,"aria-required":h,"data-state":DN(m),"data-disabled":f?"":void 0,disabled:f,value:d,...a,ref:N,onKeyDown:Me(n,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Me(r,_=>{y(M=>Cr(M)?!0:!M),j&&b&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})})});CN.displayName=EN;var kN=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m,onCheckedChange:h,form:g,...y}=e;return o.jsx(d5,{__scopeCheckbox:r,checked:l,defaultChecked:c,disabled:f,required:d,onCheckedChange:h,name:a,form:g,value:m,internal_do_not_use_render:({isFormControl:x})=>o.jsxs(o.Fragment,{children:[o.jsx(CN,{...y,ref:n,__scopeCheckbox:r}),x&&o.jsx(RN,{__scopeCheckbox:r})]})})});kN.displayName=vd;var AN="CheckboxIndicator",MN=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:a,...l}=e,c=ig(AN,r);return o.jsx(Gn,{present:a||Cr(c.checked)||c.checked===!0,children:o.jsx(Ye.span,{"data-state":DN(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...e.style}})})});MN.displayName=AN;var TN="CheckboxBubbleInput",RN=w.forwardRef(({__scopeCheckbox:e,...n},r)=>{const{control:a,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:d,required:f,disabled:m,name:h,value:g,form:y,bubbleInput:x,setBubbleInput:b}=ig(TN,e),j=rt(r,b),N=ag(c),S=Dp(a);w.useEffect(()=>{const M=x;if(!M)return;const E=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(E,"checked").set,D=!l.current;if(N!==c&&R){const O=new Event("click",{bubbles:D});M.indeterminate=Cr(c),R.call(M,Cr(c)?!1:c),M.dispatchEvent(O)}},[x,N,c,l]);const _=w.useRef(Cr(c)?!1:c);return o.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??_.current,required:f,disabled:m,name:h,value:g,form:y,...n,tabIndex:-1,ref:j,style:{...n.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});RN.displayName=TN;function f5(e){return typeof e=="function"}function Cr(e){return e==="indeterminate"}function DN(e){return Cr(e)?"indeterminate":e?"checked":"unchecked"}function Sr({className:e,...n}){return o.jsx(kN,{"data-slot":"checkbox",className:Xe("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:o.jsx(MN,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(wo,{className:"size-3.5"})})})}const ua={MODEL:"gen_ai.request.model",INPUT_TOKENS:"gen_ai.usage.input_tokens",OUTPUT_TOKENS:"gen_ai.usage.output_tokens",INPUT_MESSAGES:"gen_ai.input.messages",SYSTEM_INSTRUCTIONS:"gen_ai.system_instructions"};function m5(e){return e.type==="text"}function h5(e){return e.type==="tool_call"||e.type==="function_call"}function p5(e){return e.type==="tool_result"||e.type==="function_result"||e.type==="tool_call_response"}function g5(e){if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function x5(e){const n={system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0};try{let r;if(typeof e=="string")r=g5(e);else if(Array.isArray(e))r=e;else return n;for(const a of r){if(!a||typeof a!="object")continue;const l=a.role,c=a.parts;let d=0;if(Array.isArray(c)){for(const f of c)if(!(!f||typeof f!="object")){if(m5(f)){const m=f.content||f.text||"";d+=m.length}else if(h5(f)){const m=f.name||"",h=f.arguments||"";n.toolCalls+=m.length+h.length}else if(p5(f)){const m=f.result||f.response||"";n.toolResults+=m.length}}}l==="system"?n.system+=d:l==="user"?n.user+=d:l==="assistant"?n.assistant+=d:l==="tool"&&(n.toolResults+=d)}n.total=n.system+n.user+n.assistant+n.toolCalls+n.toolResults}catch{}return n}function y5(e){const n=e.filter(l=>l.type==="response.trace.completed"),r=new Map;for(const l of n){if(!("data"in l))continue;const c=l.data,d=c.response_id||"unknown";r.has(d)||r.set(d,[]),r.get(d).push(c)}const a=[];for(const[l,c]of r){let d=0,f=0,m,h=Date.now()/1e3,g,y=0,x={system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0};for(const b of c){const j=b.attributes||{},N=j[ua.INPUT_TOKENS],S=j[ua.OUTPUT_TOKENS];N!==void 0&&(d+=Number(N)),S!==void 0&&(f+=Number(S)),j[ua.MODEL]&&(m=String(j[ua.MODEL])),b.start_time&&b.start_time<h&&(h=b.start_time),b.entity_id&&(g=b.entity_id),b.duration_ms&&(y+=Number(b.duration_ms));const _=j[ua.INPUT_MESSAGES];_&&x.total===0&&(x=x5(_));const M=j[ua.SYSTEM_INSTRUCTIONS];M&&typeof M=="string"&&x.system===0&&(x.system=M.length,x.total+=M.length)}(d>0||f>0)&&a.push({response_id:l,timestamp:h,input_tokens:d,output_tokens:f,total_tokens:d+f,model:m,entity_id:g,duration_ms:y,composition:x})}return a.sort((l,c)=>l.timestamp-c.timestamp),a}function v5(e){if(e.length===0)return{totalInput:0,totalOutput:0,totalTokens:0,avgInput:0,avgOutput:0,avgTotal:0,peakInput:0,peakOutput:0,peakTotal:0,turnCount:0};const n=e.reduce((f,m)=>f+m.input_tokens,0),r=e.reduce((f,m)=>f+m.output_tokens,0),a=n+r,l=Math.max(...e.map(f=>f.input_tokens)),c=Math.max(...e.map(f=>f.output_tokens)),d=Math.max(...e.map(f=>f.total_tokens));return{totalInput:n,totalOutput:r,totalTokens:a,avgInput:Math.round(n/e.length),avgOutput:Math.round(r/e.length),avgTotal:Math.round(a/e.length),peakInput:l,peakOutput:c,peakTotal:d,turnCount:e.length}}function b5(e){return e.reduce((n,r)=>({system:n.system+r.composition.system,user:n.user+r.composition.user,assistant:n.assistant+r.composition.assistant,toolCalls:n.toolCalls+r.composition.toolCalls,toolResults:n.toolResults+r.composition.toolResults,total:n.total+r.composition.total}),{system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0})}function Mn(e){return e>=1e4?`${(e/1e3).toFixed(1)}k`:e>=1e3?`${(e/1e3).toFixed(1)}k`:String(e)}function w5({input:e,output:n,maxValue:r,showLabels:a=!0,height:l=24}){const c=e+n,d=r>0?c/r*100:0,f=c>0?e/c*100:0;return o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx("div",{className:"relative rounded overflow-hidden bg-muted/30 flex-1",style:{height:`${l}px`},children:o.jsxs("div",{className:"absolute inset-y-0 left-0 flex transition-all duration-300",style:{width:`${d}%`},children:[o.jsx("div",{className:"h-full bg-blue-500 dark:bg-blue-600 transition-all duration-300",style:{width:`${f}%`}}),o.jsx("div",{className:"h-full bg-emerald-500 dark:bg-emerald-600 transition-all duration-300",style:{width:`${100-f}%`}})]})}),a&&o.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono text-muted-foreground min-w-[80px] justify-end",children:[o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",Mn(e)]}),o.jsx("span",{children:"/"}),o.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["",Mn(n)]})]})]})}function N5({composition:e,height:n=20,showLabels:r=!1}){const{system:a,user:l,assistant:c,toolCalls:d,toolResults:f,total:m}=e;if(m===0)return o.jsx("div",{className:"rounded bg-muted/30 flex-1",style:{height:`${n}px`}});const h=[{key:"system",value:a,color:"bg-purple-500 dark:bg-purple-600"},{key:"user",value:l,color:"bg-blue-500 dark:bg-blue-600"},{key:"assistant",value:c,color:"bg-emerald-500 dark:bg-emerald-600"},{key:"toolCalls",value:d,color:"bg-amber-500 dark:bg-amber-600"},{key:"toolResults",value:f,color:"bg-orange-500 dark:bg-orange-600"}].filter(g=>g.value>0);return o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx("div",{className:"relative rounded overflow-hidden bg-muted/30 flex-1 flex",style:{height:`${n}px`},children:h.map(g=>o.jsx("div",{className:`h-full ${g.color} transition-all duration-300`,style:{width:`${g.value/m*100}%`}},g.key))}),r&&o.jsxs("div",{className:"text-xs font-mono text-muted-foreground min-w-[50px] text-right",children:[Mn(Math.round(m/4)),"~"]})]})}function ON({composition:e,className:n=""}){const{system:r,user:a,assistant:l,toolCalls:c,toolResults:d,total:f}=e;if(f===0)return o.jsx("div",{className:`text-xs text-muted-foreground ${n}`,children:"No composition data available"});const m=[{label:"System",value:r,color:"bg-purple-500 dark:bg-purple-600",textColor:"text-purple-600 dark:text-purple-400"},{label:"User",value:a,color:"bg-blue-500 dark:bg-blue-600",textColor:"text-blue-600 dark:text-blue-400"},{label:"Assistant",value:l,color:"bg-emerald-500 dark:bg-emerald-600",textColor:"text-emerald-600 dark:text-emerald-400"},{label:"Tool Calls",value:c,color:"bg-amber-500 dark:bg-amber-600",textColor:"text-amber-600 dark:text-amber-400"},{label:"Tool Results",value:d,color:"bg-orange-500 dark:bg-orange-600",textColor:"text-orange-600 dark:text-orange-400"}].filter(h=>h.value>0);return o.jsx("div",{className:`space-y-1.5 ${n}`,children:m.map(h=>{const g=Math.round(h.value/f*100);return o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:`w-2 h-2 rounded-sm ${h.color}`}),o.jsx("span",{className:"text-muted-foreground w-20",children:h.label}),o.jsx("div",{className:"flex-1 h-3 bg-muted/30 rounded overflow-hidden",children:o.jsx("div",{className:`h-full ${h.color} transition-all duration-300`,style:{width:`${g}%`}})}),o.jsxs("span",{className:`font-mono w-10 text-right ${h.textColor}`,children:[g,"%"]})]},h.label)})})}function j5({turn:e,index:n,maxValue:r,cumulativeInput:a,cumulativeOutput:l,cumulativeComposition:c,showCumulative:d,viewMode:f}){const[m,h]=w.useState(!1),g=d?a:e.input_tokens,y=d?l:e.output_tokens,x=d?c:e.composition,b=new Date(e.timestamp*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"border-b border-muted/50 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>h(!m),children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-muted flex items-center justify-center text-xs font-medium flex-shrink-0",children:n+1}),o.jsx("div",{className:"flex-1 min-w-0",children:f==="tokens"?o.jsx(w5,{input:g,output:y,maxValue:r,height:20}):o.jsx(N5,{composition:x,height:20,showLabels:!0})}),o.jsx("div",{className:"text-muted-foreground flex-shrink-0",children:m?o.jsx(Mt,{className:"h-4 w-4"}):o.jsx(Jt,{className:"h-4 w-4"})})]}),m&&o.jsx("div",{className:"pb-3",children:o.jsxs("div",{className:"flex items-start gap-3 px-2",children:[o.jsx("div",{className:"w-6 flex justify-center flex-shrink-0",children:o.jsx("div",{className:"w-px h-full bg-muted"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:""}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[o.jsxs("div",{children:["Time: ",o.jsx("span",{className:"font-mono text-foreground",children:b})]}),o.jsxs("div",{children:["Duration: ",o.jsxs("span",{className:"font-mono text-foreground",children:[e.duration_ms.toFixed(0),"ms"]})]}),e.model&&o.jsxs("div",{children:["Model: ",o.jsx("span",{className:"font-mono text-foreground",children:e.model})]}),e.entity_id&&o.jsxs("div",{children:["Entity: ",o.jsx("span",{className:"font-mono text-foreground",children:e.entity_id})]})]}),o.jsxs("div",{className:"flex gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Input:"})," ",o.jsx("span",{className:"font-mono",children:e.input_tokens.toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:"Output:"})," ",o.jsx("span",{className:"font-mono",children:e.output_tokens.toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Total:"})," ",o.jsx("span",{className:"font-mono",children:e.total_tokens.toLocaleString()})]})]}),e.composition.total>0&&o.jsxs("div",{className:"pt-2 border-t border-muted/50",children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[o.jsx(qs,{className:"h-3 w-3"}),"Context Composition (estimated from ~",Mn(Math.round(e.composition.total/4))," tokens)"]}),o.jsx(ON,{composition:e.composition})]})]})]})})]})})]})}function xh({label:e,value:n,icon:r,color:a="default"}){const l={default:"text-muted-foreground",blue:"text-blue-600 dark:text-blue-400",green:"text-emerald-600 dark:text-emerald-400"}[a];return o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded",children:[o.jsx(r,{className:`h-4 w-4 ${l}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e}),o.jsx("div",{className:"font-mono text-sm font-medium",children:n})]})]})}function S5({events:e}){const[n,r]=w.useState("tokens"),[a,l]=w.useState(!1),c=w.useMemo(()=>y5(e),[e]),d=w.useMemo(()=>v5(c),[c]),f=w.useMemo(()=>b5(c),[c]),m=w.useMemo(()=>c.length===0?0:a?d.totalTokens:Math.max(...c.map(g=>g.total_tokens)),[c,a,d.totalTokens]),h=w.useMemo(()=>{let g=0,y=0,x={system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0};return c.map(b=>(g+=b.input_tokens,y+=b.output_tokens,x={system:x.system+b.composition.system,user:x.user+b.composition.user,assistant:x.assistant+b.composition.assistant,toolCalls:x.toolCalls+b.composition.toolCalls,toolResults:x.toolResults+b.composition.toolResults,total:x.total+b.composition.total},{input:g,output:y,composition:{...x}}))},[c]);return c.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6",children:[o.jsx(Xi,{className:"h-8 w-8 text-muted-foreground mb-3"}),o.jsx("div",{className:"text-sm font-medium mb-1",children:"No Token Data"}),o.jsx("div",{className:"text-xs text-muted-foreground max-w-[200px]",children:"Token usage will appear here after running conversations with tracing enabled."})]}):o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b flex-shrink-0 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xi,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium text-sm",children:"Context Inspector"}),o.jsxs(ut,{variant:"outline",className:"text-xs",children:[c.length," turn",c.length!==1?"s":""]})]}),o.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-muted-foreground cursor-pointer",children:[o.jsx(Sr,{checked:a,onCheckedChange:g=>l(g===!0),className:"h-3.5 w-3.5"}),o.jsx("span",{children:"Cumulative"})]})]}),o.jsxs("div",{className:"flex items-center bg-muted rounded-md p-1",children:[o.jsx("button",{onClick:()=>r("tokens"),className:`flex-1 px-3 py-1.5 text-xs rounded transition-colors ${n==="tokens"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:"Tokens"}),o.jsx("button",{onClick:()=>r("composition"),className:`flex-1 px-3 py-1.5 text-xs rounded transition-colors ${n==="composition"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:"Composition"})]})]}),o.jsx(Yn,{className:"flex-1",children:o.jsxs("div",{className:"p-3 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(xh,{label:"Total Tokens",value:Mn(d.totalTokens),icon:kM}),o.jsx(xh,{label:"Input",value:Mn(d.totalInput),icon:Xi,color:"blue"}),o.jsx(xh,{label:"Output",value:Mn(d.totalOutput),icon:Xi,color:"green"})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs px-1 flex-wrap",children:[n==="tokens"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-blue-500 dark:bg-blue-600"}),o.jsx("span",{className:"text-muted-foreground",children:"Input ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-emerald-500 dark:bg-emerald-600"}),o.jsx("span",{className:"text-muted-foreground",children:"Output ()"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-purple-500 dark:bg-purple-600"}),o.jsx("span",{className:"text-muted-foreground",children:"System"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-blue-500 dark:bg-blue-600"}),o.jsx("span",{className:"text-muted-foreground",children:"User"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-emerald-500 dark:bg-emerald-600"}),o.jsx("span",{className:"text-muted-foreground",children:"Assistant"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-amber-500 dark:bg-amber-600"}),o.jsx("span",{className:"text-muted-foreground",children:"Tools"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-2.5 h-2.5 rounded-sm bg-orange-500 dark:bg-orange-600"}),o.jsx("span",{className:"text-muted-foreground",children:"Results"})]})]}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(qs,{className:"h-3 w-3"}),o.jsx("span",{children:"Click for details"})]})]}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:c.map((g,y)=>o.jsx(j5,{turn:g,index:y,maxValue:m,cumulativeInput:h[y]?.input||0,cumulativeOutput:h[y]?.output||0,cumulativeComposition:h[y]?.composition||g.composition,showCumulative:a,viewMode:n},g.response_id))}),o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsx("div",{className:"p-3 bg-muted/30 border-b",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-medium",children:"Session Summary"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[Mn(d.totalTokens)," total tokens"]})]})}),o.jsxs("div",{className:"p-3 space-y-3",children:[c.length>1&&o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Avg per turn:"}),o.jsx("span",{className:"font-mono",children:Mn(d.avgTotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Peak turn:"}),o.jsx("span",{className:"font-mono",children:Mn(d.peakTotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Avg input:"}),o.jsx("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:Mn(d.avgInput)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Avg output:"}),o.jsx("span",{className:"font-mono text-emerald-600 dark:text-emerald-400",children:Mn(d.avgOutput)})]})]}),f.total>0&&o.jsx("div",{className:"pt-3 border-t border-muted/50",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"text-muted-foreground text-xs mt-0.5",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[o.jsx(qs,{className:"h-3 w-3"}),"Total Composition (all turns)"]}),o.jsx(ON,{composition:f})]})]})})]})]})]})})]})}function zN(){return o.jsx("div",{className:"flex items-center gap-2 py-3 px-2",children:o.jsx("div",{className:"flex-1 border-t border-border/50"})})}function IN(e){const n=[];let r=!1;for(let a=0;a<e.length;a++){const l=e[a];r&&l.type!=="response.done"&&(n.push({type:"separator",id:`sep-${a}`}),r=!1),n.push(l),(l.type==="response.done"||l.type==="response.completed")&&(r=!0)}return n}function Tr(e){if(e.type==="response.function_result.complete"){const n=e;return{call_id:n.call_id,output:n.output,status:n.status}}return null}function lg(e){const n=[],r=new Map,a=new Map;let l="";for(const c of e){if(c.type==="response.trace.completed"||c.type==="response.trace.completed")continue;if(c.type==="response.output_item.added"){const m=c.item;if(m.type==="function_call"){const h=m,g=h.call_id;r.set(g,{name:h.name,arguments:"",callId:g,itemId:h.id,timestamp:new Date().toISOString()}),a.set(g,h.name)}n.push(c);continue}const d=Tr(c)!==null;if(c.type==="response.completed"||c.type==="response.done"||c.type==="error"||c.type==="response.workflow_event.completed"||c.type==="response.trace.completed"||c.type==="response.trace.completed"||d){if(l.trim()&&(n.push({type:"response.output_text.delta",delta:l.trim()}),l=""),(c.type==="response.trace.completed"||c.type==="response.trace.completed")&&"data"in c){const m=c.data;if(m.attributes&&m.attributes["gen_ai.output.messages"]&&typeof m.attributes["gen_ai.output.messages"]=="string")try{const h=JSON.parse(m.attributes["gen_ai.output.messages"]);for(const g of h)if(g.parts)for(const y of g.parts)y.type==="tool_call"&&y.name&&y.id&&a.set(y.id,y.name)}catch{}}const f=Tr(c);if(f){const m=f.call_id;if(m&&r.has(m)){const h=r.get(m),g=a.get(m)||h.name||"unknown";n.push({type:"response.function_call.complete",data:{name:g,arguments:h.arguments,call_id:h.callId}}),r.delete(m)}}n.push(c);continue}if(c.type==="response.function_call.delta"&&"data"in c){const f=c.data,m=f.call_id||`call_${Date.now()}`;r.has(m)||r.set(m,{name:f.name||void 0,arguments:"",callId:m,timestamp:new Date().toISOString()}),f.name&&f.name.trim()&&(r.get(m).name=f.name.trim());continue}if(c.type==="response.function_call.complete"&&"data"in c){n.push(c);continue}if(c.type==="response.function_call_arguments.delta"){let f="",m=null;if("delta"in c&&typeof c.delta=="string"&&(f=c.delta),"item_id"in c&&c.item_id){const h=c.item_id;for(const[g,y]of r.entries())if(y.itemId===h||g===h){m=g;break}}if(f&&m){const h=r.get(m);if(h){if(f==="{}"&&h.arguments==="")continue;h.arguments+=f}else console.warn(`Received argument delta for unknown call with item_id: ${"item_id"in c?c.item_id:"unknown"}`)}continue}if(c.type==="response.output_text.delta"&&"delta"in c){l+=c.delta||"",l.length>100&&(l.includes(`

`)||l.trim().match(/[.!?]\s*$/))&&(n.push({type:"response.output_text.delta",delta:l.trim()}),l="");continue}c.type!=="response.usage.complete"&&n.push(c)}for(const[,c]of r)if(c.arguments.trim()&&c.arguments.trim().length>2){const d=a.get(c.callId)||c.name||"unknown";n.push({type:"response.function_call.complete",data:{name:d,arguments:c.arguments,call_id:c.callId}})}return l.trim()&&n.push({type:"response.output_text.delta",delta:l.trim()}),n}function _5(e){switch(e.type){case"response.output_text.delta":if("delta"in e){const n=e.delta||"";return n.length>60?`${n.slice(0,60)}...`:n}return"Text output";case"response.function_call.complete":if("data"in e&&e.data){const n=e.data;let r=n.name||"unknown";(!r||r==="unknown")&&(r="function_call");const a=n.arguments?typeof n.arguments=="string"?n.arguments.slice(0,30):JSON.stringify(n.arguments).slice(0,30):"";return`Calling ${r}(${a}${a.length>=30?"...":""})`}return"Function call";case"response.function_call_arguments.delta":return"delta"in e&&e.delta?`Function arg delta: ${e.delta.slice(0,30)}${e.delta.length>30?"...":""}`:"Function arguments...";case"response.function_result.complete":{const r=e.output.slice(0,40);return`Function result: ${r}${r.length>=40?"...":""}`}case"response.output_item.added":{const n=e;return n.item.type==="function_call"?`Tool call: ${n.item.name}`:"Output item added"}case"response.workflow_event.completed":return"data"in e&&e.data?`Executor: ${e.data.executor_id||"unknown"}`:"Workflow event";case"response.trace.completed":return"data"in e&&e.data?`Trace: ${e.data.operation_name||"unknown"}`:"Trace event";case"response.completed":if("response"in e&&e.response&&"usage"in e.response){const r=e.response.usage;if(r)return`Response complete (${r.total_tokens} tokens)`}return"Response complete";case"response.done":return"Response complete";case"error":return"message"in e&&typeof e.message=="string"?e.message:"Error occurred";default:return`${e.type}`}}function E5(e){switch(e){case"response.output_text.delta":return Gp;case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return Na;case"response.function_result.complete":return Qt;case"response.output_item.added":return Qt;case"response.workflow_event.completed":return Fp;case"response.trace.completed":return Kp;case"response.completed":return Qt;case"response.done":return Qt;case"error":return Sl;default:return cs}}function C5(e){switch(e){case"response.output_text.delta":return"text-gray-600 dark:text-gray-400";case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return"text-blue-600 dark:text-blue-400";case"response.function_result.complete":return"text-green-600 dark:text-green-400";case"response.output_item.added":return"text-green-600 dark:text-green-400";case"response.workflow_event.completed":return"text-purple-600 dark:text-purple-400";case"response.trace.completed":return"text-orange-600 dark:text-orange-400";case"response.completed":return"text-green-600 dark:text-green-400";case"response.done":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}function k5({event:e}){const[n,r]=w.useState(!1),a=e.type||"unknown",l=E5(a),c=C5(a),d="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),f=_5(e),m=e.type==="response.function_call.complete"&&"data"in e&&e.data||e.type==="response.function_result.complete"||e.type==="response.output_item.added"&&Tr(e)!==null||e.type==="response.workflow_event.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.output_text.delta"&&"delta"in e&&e.delta&&e.delta.length>100||e.type==="response.completed"&&"response"in e&&e.response||e.type==="error";return o.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[o.jsx(l,{className:`h-3 w-3 ${c}`}),o.jsx("span",{className:"font-mono",children:d}),o.jsx(ut,{variant:"outline",className:"text-xs py-0",children:e.type?e.type.replace("response.",""):"unknown"})]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:`flex items-center gap-2 ${m?"cursor-pointer":""}`,onClick:()=>m&&r(!n),children:[m&&o.jsx("div",{className:"text-muted-foreground",children:n?o.jsx(Mt,{className:"h-3 w-3"}):o.jsx(Jt,{className:"h-3 w-3"})}),o.jsx("div",{className:"text-muted-foreground flex-1",children:m&&f.length>80?`${f.slice(0,80)}...`:f})]}),n&&m&&o.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:o.jsx(A5,{event:e})})]})]})}function A5({event:e}){if(e.type==="error"){const n=e;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Sl,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Error Details"})]}),o.jsxs("div",{className:"text-xs",children:[n.message&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Message:"}),o.jsx("div",{className:"mt-1",children:o.jsx("pre",{className:"text-xs bg-destructive/10 border border-destructive/30 rounded p-2 text-destructive whitespace-pre-wrap break-all",children:n.message})})]}),n.code&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Code:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.code})]}),n.param&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Parameter:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.param})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Raw Event:"}),o.jsx("div",{className:"mt-1",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all max-h-32 overflow-auto",children:JSON.stringify(e,null,2)})})]})]})]})}switch(e.type){case"response.function_call.complete":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Na,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Call"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Function:"}),o.jsx("span",{className:"ml-2 font-mono bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded",children:n.name||"unknown"})]}),n.call_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),n.arguments&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Arguments:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof n.arguments=="string"?n.arguments:JSON.stringify(n.arguments,null,1)})})]})]})]})}break;case"response.function_result.complete":{const n=e;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:n.output})})]})]})]})}case"response.output_item.added":{const n=Tr(e);if(n)return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:n.output})})]})]})]});break}case"response.workflow_event.completed":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fp,{className:"h-4 w-4 text-purple-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Workflow Event"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Event Type:"}),o.jsx("span",{className:"ml-2 font-mono bg-purple-100 dark:bg-purple-900 px-2 py-1 rounded",children:n.event_type||"unknown"})]}),n.executor_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Executor:"}),o.jsx("span",{className:"ml-2 font-mono",children:n.executor_id})]}),n.timestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Timestamp:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.timestamp})]}),n.data&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Data:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof n.data=="string"?n.data:JSON.stringify(n.data,null,1)})})]})]})]})}break;case"response.trace.completed":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kp,{className:"h-4 w-4 text-orange-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Trace Event"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),o.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:n.operation_name||"unknown"})]}),n.span_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.span_id})]}),n.trace_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.trace_id})]}),n.duration_ms&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),o.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(n.duration_ms).toFixed(2),"ms"]})]}),n.status&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="StatusCode.UNSET"||n.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status||"unknown"})]}),n.entity_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.entity_id})]}),n.attributes&&Object.keys(n.attributes).length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all",children:LN(n.attributes)})})]})]})]})}break;case"response.output_text.delta":if("delta"in e&&e.delta)return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gp,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Text Output"})]}),o.jsx("div",{className:"max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:e.delta})})]});break;case"response.completed":if("response"in e&&e.response){const r=e.response;return o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.usage&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"font-medium text-muted-foreground",children:"Usage:"})}),o.jsxs("div",{className:"ml-4 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Input tokens:"}),o.jsx("span",{className:"ml-2 font-mono",children:r.usage.input_tokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output tokens:"}),o.jsx("span",{className:"ml-2 font-mono",children:r.usage.output_tokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Total tokens:"}),o.jsx("span",{className:"ml-2 font-mono bg-green-100 dark:bg-green-900 px-2 py-1 rounded",children:r.usage.total_tokens})]})]})]}),r.id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Response ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.id})]}),r.model&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Model:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.model})]})]})})}break;default:return o.jsx("div",{className:"text-xs text-muted-foreground",children:o.jsx("pre",{className:"bg-background border rounded p-2 overflow-auto max-h-32",children:JSON.stringify(e,null,2)})})}return null}function M5({events:e,isStreaming:n}){const r=w.useRef(null),a=lg(e),c=[...IN(a)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fp,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Events"}),o.jsxs(ut,{variant:"outline",children:[a.length,e.length>a.length?` (${e.length} raw)`:""]})]}),n&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500 dark:bg-green-400"}),"Streaming"]})]}),o.jsx(Yn,{ref:r,className:"flex-1",children:o.jsx("div",{className:"p-3",children:a.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:e.length===0?"No events yet. Start a conversation to see real-time events.":"Processing events... Accumulated events will appear here."}):o.jsx("div",{className:"space-y-2",children:c.map((d,f)=>"type"in d&&d.type==="separator"?o.jsx(zN,{},d.id):o.jsx(k5,{event:d},`${d.type}-${f}`))})})})]})}function T5(e){const n=new Map;for(const a of e){if(!("data"in a))continue;const c=a.data.response_id||"unknown";n.has(c)||n.set(c,[]),n.get(c).push(a)}const r=[];for(const[a,l]of n){const c=new Map,d=[];for(const x of l){if(!("data"in x))continue;const b=x.data,j=b.span_id||`span_${Math.random()}`;c.set(j,{event:x,data:b,children:[]})}for(const x of l){if(!("data"in x))continue;const b=x.data,j=b.span_id||"",N=b.parent_span_id,S=c.get(j);S&&(N&&c.has(N)?c.get(N).children.push(S):d.push(S))}d.sort((x,b)=>(x.data.start_time||0)-(b.data.start_time||0));const f=x=>{x.children.sort((b,j)=>(b.data.start_time||0)-(j.data.start_time||0)),x.children.forEach(f)};d.forEach(f);const m=l[0],h=m&&"data"in m?m.data:null,g=Math.min(...l.map(x=>("data"in x?x.data:null)?.start_time||Date.now()/1e3)),y=l.reduce((x,b)=>{const j="data"in b?b.data:null;return x+(j?.duration_ms||0)},0);r.push({response_id:a,timestamp:g,traces:d,totalDuration:y,entity_id:h?.entity_id})}return r.sort((a,l)=>l.timestamp-a.timestamp),r}function yu(e){if(typeof e=="string"){const n=e.trim();if(n.startsWith("[")||n.startsWith("{"))try{const r=JSON.parse(e);return yu(r)}catch{return e}return e}if(Array.isArray(e))return e.map(yu);if(e!==null&&typeof e=="object"){const n={};for(const[r,a]of Object.entries(e))n[r]=yu(a);return n}return e}function LN(e){try{const n=yu(e);return JSON.stringify(n,null,2)}catch{return JSON.stringify(e,null,2)}}function R5(e){return e.includes("invoke_agent")||e.includes("Agent")?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":e.includes("chat")||e.includes("Chat")?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":e.includes("tool")||e.includes("execute")?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200"}function $N({node:e,depth:n=0}){const[r,a]=w.useState(n<2),[l,c]=w.useState(!1),{data:d}=e,f=d.operation_name||"Unknown",m=d.duration_ms?`${Number(d.duration_ms).toFixed(1)}ms`:"",h=e.children.length>0,g=d.attributes?.["gen_ai.usage.input_tokens"],y=d.attributes?.["gen_ai.usage.output_tokens"],x=g!==void 0||y!==void 0;return o.jsxs("div",{className:"relative",children:[n>0&&o.jsx("div",{className:"absolute left-0 top-0 bottom-0 border-l-2 border-muted",style:{marginLeft:`${(n-1)*16+8}px`}}),o.jsxs("div",{className:"flex items-center gap-2 py-1.5 hover:bg-muted/50 rounded transition-colors",style:{paddingLeft:`${n*16}px`},children:[o.jsx("button",{onClick:()=>h?a(!r):c(!l),className:"w-4 h-4 flex items-center justify-center text-muted-foreground hover:text-foreground",children:h?r?o.jsx(Mt,{className:"h-3 w-3"}):o.jsx(Jt,{className:"h-3 w-3"}):l?o.jsx(Mt,{className:"h-3 w-3"}):o.jsx(Jt,{className:"h-3 w-3"})}),o.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${R5(f)}`,children:f.replace("ChatAgent.","").replace("invoke_agent ","")}),m&&o.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:m}),x&&o.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:[g!==void 0&&o.jsxs("span",{children:["",String(g)]}),g!==void 0&&y!==void 0&&o.jsx("span",{className:"mx-0.5",children:"/"}),y!==void 0&&o.jsxs("span",{children:["",String(y)]})]})]}),l&&!h&&o.jsx("div",{className:"ml-4 mt-1 mb-2 p-2 bg-muted/30 rounded border text-xs",style:{marginLeft:`${n*16+20}px`},children:o.jsxs("div",{className:"space-y-1",children:[d.span_id&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-muted-foreground w-20",children:"Span ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:d.span_id})]}),d.trace_id&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-muted-foreground w-20",children:"Trace ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:d.trace_id})]}),d.status&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-muted-foreground w-20",children:"Status:"}),o.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${d.status==="StatusCode.UNSET"||d.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:d.status})]}),d.attributes&&Object.keys(d.attributes).length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Attributes:"}),o.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-auto max-h-32 whitespace-pre-wrap break-all",children:LN(d.attributes)})]})]})}),h&&r&&o.jsx("div",{children:e.children.map((b,j)=>o.jsx($N,{node:b,depth:n+1},b.data.span_id||j))})]})}function D5({group:e}){const[n,r]=w.useState(!0),a=new Date(e.timestamp*1e3).toLocaleTimeString(),l=e.totalDuration>0?`${e.totalDuration.toFixed(0)}ms`:"",c=e.traces.reduce((d,f)=>{const m=h=>1+h.children.reduce((g,y)=>g+m(y),0);return d+m(f)},0);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 cursor-pointer hover:bg-muted/70 transition-colors",onClick:()=>r(!n),children:[o.jsx("div",{className:"text-muted-foreground",children:n?o.jsx(Mt,{className:"h-4 w-4"}):o.jsx(Jt,{className:"h-4 w-4"})}),o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:a}),e.entity_id&&o.jsx(ut,{variant:"outline",className:"text-xs py-0",children:e.entity_id.replace("agent_","").replace("workflow_","")}),o.jsx("div",{className:"flex-1"}),l&&o.jsx(ut,{variant:"secondary",className:"text-xs py-0",children:l}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[c," span",c!==1?"s":""]})]}),n&&o.jsx("div",{className:"p-2 border-t",children:e.traces.map((d,f)=>o.jsx($N,{node:d,depth:0},d.data.span_id||f))})]})}function O5({events:e}){const[n,r]=w.useState("spans"),a=e.filter(c=>c.type==="response.trace.completed"),l=T5(a);return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx(Kp,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Traces"}),o.jsx(ut,{variant:"outline",children:a.length}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center bg-muted rounded-md p-1",children:[o.jsx("button",{onClick:()=>r("spans"),className:`px-3 py-1.5 text-xs rounded transition-colors ${n==="spans"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:"OTel Spans"}),o.jsxs("button",{onClick:()=>r("context"),className:`px-3 py-1.5 text-xs rounded transition-colors flex items-center gap-1.5 ${n==="context"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(Xi,{className:"h-3.5 w-3.5"}),"Context Inspector"]})]})]}),n==="spans"?o.jsx(Yn,{className:"flex-1",children:o.jsx("div",{className:"p-3",children:a.length===0?o.jsxs("div",{className:"text-center text-muted-foreground text-sm py-8",children:["No trace data available.",o.jsx("br",{}),e&&e.length>0&&o.jsxs("div",{className:"mt-3 text-xs border rounded p-2",children:[o.jsx(qs,{className:"inline h-4 w-4 mr-1"}),"You may have to set the environment variable"," ",o.jsx("span",{className:"font-mono bg-accent/10 px-1 rounded",children:"ENABLE_OTEL=true"})," ","or restart devui with the tracing flag"," ",o.jsx("div",{className:"font-mono bg-accent/10 px-1 rounded",children:"devui --tracing"}),"to enable tracing."]})]}):o.jsxs("div",{className:"space-y-3",children:[l.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[l.length," turn",l.length!==1?"s":""]}),l.map(c=>o.jsx(D5,{group:c},c.response_id))]})})}):o.jsx(S5,{events:e})]})}function z5({events:e}){const n=lg(e),r=[],a=n.filter(m=>m.type==="response.function_call.complete"),l=e.filter(m=>Tr(m)!==null),c=new Map;l.forEach(m=>{const h=Tr(m);h&&c.set(h.call_id,m)}),a.forEach(m=>{if(r.push(m),"data"in m&&m.data&&m.data.call_id){const h=String(m.data.call_id),g=c.get(h);g&&(r.push(g),c.delete(h))}}),c.forEach(m=>{r.push(m)});const f=[...IN(r)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx(Na,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Tools"}),o.jsx(ut,{variant:"outline",children:r.length})]}),o.jsx(Yn,{className:"flex-1",children:o.jsx("div",{className:"p-3",children:r.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No tool executions yet. Tool calls will appear here during conversations."}):o.jsx("div",{className:"space-y-3",children:f.map((m,h)=>"type"in m&&m.type==="separator"?o.jsx(zN,{},m.id):o.jsx(I5,{event:m},h))})})})]})}function I5({event:e}){const n="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),r=e.type==="response.function_call.complete",a=Tr(e),l=a!==null;if(!r&&!l)return null;const c=r&&"data"in e?e.data:null;return o.jsxs("div",{className:"border rounded p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jp,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),o.jsx("span",{className:"font-medium text-sm",children:r?"Tool Call":"Tool Result"}),r&&c&&c.name!==void 0&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(c.name),")"]})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:n})]}),r&&c&&o.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Na,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"text-xs font-mono bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"CALL"}),o.jsx("span",{className:"font-medium text-sm",children:String(c.name||"unknown")})]}),c.arguments!==void 0&&o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-muted-foreground mb-1 block",children:"Arguments:"}),o.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 max-w-full break-all whitespace-pre-wrap",children:typeof c.arguments=="string"?c.arguments:JSON.stringify(c.arguments,null,1)})]})]}),l&&a&&o.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Qt,{className:"h-3 w-3 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-xs font-mono bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded",children:"RESULT"}),a.status!=="completed"&&o.jsx("span",{className:"ml-auto px-2 py-1 rounded text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",children:a.status})]}),o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:a.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Output:"}),o.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 break-all whitespace-pre-wrap",children:a.output})]})]})]})]})}function L5({events:e,isStreaming:n=!1,onMinimize:r}){const a=w.useMemo(()=>{const l=lg(e),c=l.length,d=e.filter(m=>m.type==="response.trace.completed").length,f=l.filter(m=>m.type==="response.function_call.complete").length+e.filter(m=>Tr(m)!==null).length;return{eventsCount:c,tracesCount:d,toolsCount:f}},[e]);return o.jsx("div",{className:"flex-1 border-l flex flex-col min-h-0",children:o.jsxs(l5,{defaultValue:"events",className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"px-3 pt-3 flex items-center gap-2 flex-shrink-0",children:[o.jsxs(_N,{className:"flex-1",children:[o.jsxs(gu,{value:"events",className:"flex-1 gap-1.5",children:["Events",a.eventsCount>0&&o.jsx("span",{className:"text-[10px] bg-muted-foreground/20 text-muted-foreground px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:a.eventsCount})]}),o.jsxs(gu,{value:"traces",className:"flex-1 gap-1.5",children:["Traces",a.tracesCount>0&&o.jsx("span",{className:"text-[10px] bg-muted-foreground/20 text-muted-foreground px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:a.tracesCount})]}),o.jsxs(gu,{value:"tools",className:"flex-1 gap-1.5",children:["Tools",a.toolsCount>0&&o.jsx("span",{className:"text-[10px] bg-muted-foreground/20 text-muted-foreground px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:a.toolsCount})]})]}),r&&o.jsx(Oe,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 flex-shrink-0",title:"Minimize debug panel",children:o.jsx(Jt,{className:"h-4 w-4"})})]}),o.jsx(xu,{value:"events",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(M5,{events:e,isStreaming:n})}),o.jsx(xu,{value:"traces",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(O5,{events:e})}),o.jsx(xu,{value:"tools",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(z5,{events:e})})]})})}function Rr({open:e,onOpenChange:n,children:r}){if(!e)return null;const a=()=>{n(!1)},l=d=>{d.stopPropagation()},c=d=>{d.stopPropagation()};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),o.jsx("div",{className:"relative z-10",onClick:l,onMouseDown:c,onMouseUp:d=>d.stopPropagation(),children:r})]})}function Dr({children:e,className:n=""}){const a=n.includes("w-[")||n.includes("w-full")||n.includes("max-w-")?"":"max-w-lg w-full";return o.jsx("div",{className:`relative bg-background border rounded-lg shadow-lg max-h-[90vh] overflow-hidden ${a} ${n}`,children:e})}function Or({children:e,className:n=""}){return o.jsx("div",{className:`space-y-2 ${n}`,children:e})}function zr({children:e,className:n=""}){return o.jsx("h2",{className:`text-lg font-semibold ${n}`,children:e})}function $5({children:e,className:n=""}){return o.jsx("p",{className:`text-sm text-muted-foreground ${n}`,children:e})}function No({onClose:e}){return o.jsx(Oe,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4 h-8 w-8 p-0 rounded-sm opacity-70 hover:opacity-100",children:o.jsx(ja,{className:"h-4 w-4"})})}function H5({children:e}){return o.jsx("div",{className:"flex justify-end gap-2 p-4 border-t bg-muted/50",children:e})}function Tn({className:e,type:n,...r}){return o.jsx("input",{type:n,"data-slot":"input",className:Xe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var P5="Label",HN=w.forwardRef((e,n)=>o.jsx(Ye.label,{...e,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));HN.displayName=P5;var B5=HN;function yt({className:e,...n}){return o.jsx(B5,{"data-slot":"label",className:Xe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}var bd="Switch",[U5,iL]=ds(bd),[V5,q5]=U5(bd),PN=w.forwardRef((e,n)=>{const{__scopeSwitch:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m="on",onCheckedChange:h,form:g,...y}=e,[x,b]=w.useState(null),j=rt(n,E=>b(E)),N=w.useRef(!1),S=x?g||!!x.closest("form"):!0,[_,M]=uo({prop:l,defaultProp:c??!1,onChange:h,caller:bd});return o.jsxs(V5,{scope:r,checked:_,disabled:f,children:[o.jsx(Ye.button,{type:"button",role:"switch","aria-checked":_,"aria-required":d,"data-state":qN(_),"data-disabled":f?"":void 0,disabled:f,value:m,...y,ref:j,onClick:Me(e.onClick,E=>{M(T=>!T),S&&(N.current=E.isPropagationStopped(),N.current||E.stopPropagation())})}),S&&o.jsx(VN,{control:x,bubbles:!N.current,name:a,value:m,checked:_,required:d,disabled:f,form:g,style:{transform:"translateX(-100%)"}})]})});PN.displayName=bd;var BN="SwitchThumb",UN=w.forwardRef((e,n)=>{const{__scopeSwitch:r,...a}=e,l=q5(BN,r);return o.jsx(Ye.span,{"data-state":qN(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:n})});UN.displayName=BN;var F5="SwitchBubbleInput",VN=w.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:a=!0,...l},c)=>{const d=w.useRef(null),f=rt(d,c),m=ag(r),h=Dp(n);return w.useEffect(()=>{const g=d.current;if(!g)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(m!==r&&b){const j=new Event("click",{bubbles:a});b.call(g,r),g.dispatchEvent(j)}},[m,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:f,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VN.displayName=F5;function qN(e){return e?"checked":"unchecked"}var FN=PN,Y5=UN;const vu=w.forwardRef(({className:e,...n},r)=>o.jsx(FN,{className:Xe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:r,children:o.jsx(Y5,{className:Xe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));vu.displayName=FN.displayName;const G5=["gpt-4.1","gpt-4.1-mini","o1","o1-mini","o3-mini"];function Xv({open:e,onOpenChange:n,onBackendUrlChange:r}){const[a,l]=w.useState("general"),{oaiMode:c,setOAIMode:d,azureDeploymentEnabled:f,setAzureDeploymentEnabled:m,authRequired:h,serverCapabilities:g,serverVersion:y,runtime:x,uiMode:b}=de(),j="",[N,S]=w.useState(()=>localStorage.getItem("devui_backend_url")||j),[_,M]=w.useState(N),[E,T]=w.useState(!!localStorage.getItem("devui_auth_token")),[R,D]=w.useState(""),O=()=>{try{new URL(_),localStorage.setItem("devui_backend_url",_),S(_),r?.(_),n(!1),window.location.reload()}catch{alert("Please enter a valid URL (e.g., http://localhost:8080)")}},P=()=>{localStorage.removeItem("devui_backend_url"),M(j),S(j),r?.(j),window.location.reload()},q=()=>{R.trim()&&(localStorage.setItem("devui_auth_token",R.trim()),T(!0),D(""),window.location.reload())},K=()=>{localStorage.removeItem("devui_auth_token"),T(!1),D(""),window.location.reload()},J=_!==N,G=!localStorage.getItem("devui_backend_url");return o.jsx(Rr,{open:e,onOpenChange:n,children:o.jsxs(Dr,{className:"w-[600px] max-w-[90vw] flex flex-col max-h-[85vh]",children:[o.jsx(Or,{className:"p-6 pb-2 flex-shrink-0",children:o.jsx(zr,{children:"Settings"})}),o.jsx(No,{onClose:()=>n(!1)}),o.jsxs("div",{className:"flex border-b px-6 flex-shrink-0",children:[o.jsxs("button",{onClick:()=>l("general"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="general"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["General",a==="general"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),g.openai_proxy&&o.jsxs("button",{onClick:()=>l("proxy"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="proxy"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["OpenAI Proxy",a==="proxy"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),o.jsxs("button",{onClick:()=>l("about"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="about"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["About",a==="about"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1 min-h-[400px]",children:[a==="general"&&o.jsxs("div",{className:"space-y-6 pt-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(yt,{htmlFor:"backend-url",className:"text-sm font-medium",children:"Backend URL"}),!G&&o.jsxs(Oe,{variant:"ghost",size:"sm",onClick:P,className:"h-7 text-xs",title:"Reset to default",children:[o.jsx(Wp,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),o.jsx(Tn,{id:"backend-url",type:"url",value:_,onChange:Z=>M(Z.target.value),placeholder:"http://localhost:8080",className:"font-mono text-sm"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",o.jsx("span",{className:"font-mono",children:j})]}),o.jsx("div",{className:"flex gap-2 pt-2 min-h-[36px]",children:J&&o.jsxs(o.Fragment,{children:[o.jsx(Oe,{onClick:O,size:"sm",className:"flex-1",children:"Apply & Reload"}),o.jsx(Oe,{onClick:()=>M(N),variant:"outline",size:"sm",className:"flex-1",children:"Cancel"})]})})]}),(h||E)&&o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Authentication Token"}),!h&&E&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not required by current backend)"})]}),E?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tn,{type:"password",value:"",disabled:!0,className:"font-mono text-sm flex-1"}),o.jsx(Oe,{variant:"destructive",size:"sm",onClick:K,className:"flex-shrink-0",children:"Clear"})]}),o.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:" Token configured and stored locally"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx(Tn,{type:"password",value:R,onChange:Z=>D(Z.target.value),placeholder:"Enter bearer token",className:"font-mono text-sm",onKeyDown:Z=>{Z.key==="Enter"&&R.trim()&&q()}}),o.jsx(Oe,{onClick:q,size:"sm",disabled:!R.trim(),className:"w-full",children:"Save & Reload"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:h?"Required by backend (started with --auth flag)":"Not required by current backend"})]})]}),g.deployment&&o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Azure Deployment"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable one-click deployment to Azure Container Apps"})]}),o.jsx(vu,{checked:f,onCheckedChange:m})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-xs text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[o.jsx(Jt,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Learn more about Azure deployment"]}),o.jsxs("div",{className:"mt-3 space-y-3 pl-4",children:[o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:'When enabled, agents that support deployment will show a "Deploy to Azure" button. This allows you to deploy your agent to Azure Container Apps directly from DevUI.'}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:"text-xs font-medium",children:"When enabled:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:'Shows "Deploy to Azure" for supported agents'}),o.jsx("li",{children:"Requires Azure CLI and proper authentication"}),o.jsx("li",{children:"Backend must have deployment capabilities enabled"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:"text-xs font-medium",children:"When disabled:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:'Shows "Deployment Guide" for all agents'}),o.jsx("li",{children:"Provides Docker templates and manual deployment instructions"}),o.jsx("li",{children:"No backend deployment capabilities required"})]})]})]})]})]}),o.jsx("div",{className:"space-y-3 border-t pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Show Tool Calls"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Display function/tool calls and results in chat messages"})]}),o.jsx(vu,{checked:de.getState().showToolCalls,onCheckedChange:Z=>de.getState().setShowToolCalls(Z)})]})})]}),a==="proxy"&&g.openai_proxy&&o.jsxs("div",{className:"space-y-6 pt-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-base font-medium",children:"OpenAI Proxy Mode"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests through DevUI backend to OpenAI API"})]}),o.jsx(vu,{checked:c.enabled,onCheckedChange:Z=>d({...c,enabled:Z})})]}),!c.enabled&&o.jsx("div",{className:"bordder border-muted bg-muted/30 rounded-lg p-4 space-y-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(qs,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-blue-600 dark:text-blue-400"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"About OpenAI Proxy Mode"}),o.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["When enabled, your chat requests are sent to your DevUI backend"," ",o.jsxs("span",{className:"font-mono font-semibold",children:["(",N,")"]}),", which then forwards them to OpenAI's API. This keeps your"," ",o.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","secure on the server instead of exposing it in the browser."]}),o.jsxs("div",{className:"space-y-1.5 pt-1",children:[o.jsx("p",{className:"text-xs font-medium",children:"Requirements:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsxs("li",{children:["Backend must have"," ",o.jsx("span",{className:"font-mono",children:"OPENAI_API_KEY"})," ","configured"]}),o.jsx("li",{children:"Backend must support OpenAI Responses API proxying (DevUI does)"})]})]}),o.jsxs("div",{className:"space-y-1.5 pt-1",children:[o.jsx("p",{className:"text-xs font-medium",children:"Why use this?"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quickly test and compare OpenAI models directly through the DevUI interface without creating custom agents or exposing API keys in the browser."})]})]})]})}),c.enabled&&o.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Model"}),o.jsx(Tn,{type:"text",value:c.model,onChange:Z=>d({...c,model:Z.target.value}),placeholder:"gpt-4.1-mini",className:"font-mono text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter any OpenAI model ID (e.g., gpt-4.1, o1, o3-mini)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(yt,{className:"text-xs text-muted-foreground",children:"Common presets"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:G5.map(Z=>o.jsx(Oe,{variant:c.model===Z?"default":"outline",size:"sm",onClick:()=>d({...c,model:Z}),className:"text-xs h-7",children:Z},Z))})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[o.jsx(Jt,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Advanced Parameters (optional)"]}),o.jsxs("div",{className:"space-y-3 mt-3 pl-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Temperature"}),o.jsx(Tn,{type:"number",step:"0.1",min:"0",max:"2",value:c.temperature??"",onChange:Z=>d({...c,temperature:Z.target.value?parseFloat(Z.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness (0-2)"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Max Output Tokens"}),o.jsx(Tn,{type:"number",min:"1",value:c.max_output_tokens??"",onChange:Z=>d({...c,max_output_tokens:Z.target.value?parseInt(Z.target.value):void 0}),placeholder:"Auto",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum tokens in response"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Top P"}),o.jsx(Tn,{type:"number",step:"0.1",min:"0",max:"1",value:c.top_p??"",onChange:Z=>d({...c,top_p:Z.target.value?parseFloat(Z.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Nucleus sampling (0-1)"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Reasoning Effort (o-series models)"}),o.jsxs("select",{value:c.reasoning_effort??"",onChange:Z=>d({...c,reasoning_effort:Z.target.value?Z.target.value:void 0}),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[o.jsx("option",{value:"",children:"Auto (default)"}),o.jsx("option",{value:"minimal",children:"Minimal"}),o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Constrains reasoning effort (faster/cheaper vs thorough)"})]})]})]})]})]}),c.enabled&&o.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[o.jsx(qs,{className:"h-3.5 w-3.5 flex-shrink-0 mt-0.5"}),o.jsx("div",{className:"space-y-1",children:o.jsxs("p",{children:["Requests route through"," ",o.jsx("span",{className:"font-mono font-semibold",children:N})," ","to OpenAI API. Server must have"," ",o.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","configured."]})})]})]}),a==="about"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"DevUI is a sample app for getting started with Agent Framework."}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Version:"}),o.jsx("span",{className:"font-mono",children:y||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Runtime:"}),o.jsx("span",{className:"font-mono capitalize",children:x||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"UI Mode:"}),o.jsx("span",{className:"font-mono capitalize",children:b||"Unknown"})]})]}),(g||h!==void 0)&&o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Capabilities"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[g?.tracing!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Tracing:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.tracing?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.tracing?"Enabled":"Disabled"})]}),g?.openai_proxy!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"OpenAI Proxy:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.openai_proxy?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.openai_proxy?"Available":"Not Configured"})]}),g?.deployment!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Deployment:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.deployment?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.deployment?"Available":"Disabled"})]}),h!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Authentication:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${h?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"bg-muted text-muted-foreground"}`,children:h?"Required":"Not Required"})]})]})]}),o.jsx("div",{className:"flex justify-center pt-2",children:o.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>window.open("https://github.com/microsoft/agent-framework","_blank"),className:"text-xs",children:[o.jsx(zu,{className:"h-3 w-3 mr-1"}),"Learn More about Agent Framework"]})})]})]})]})})}const X5="modulepreload",Z5=function(e,n){return new URL(e,n).href},Zv={},Jh=function(n,r,a){let l=Promise.resolve();if(r&&r.length>0){let h=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const d=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=h(r.map(g=>{if(g=Z5(g,a),g in Zv)return;Zv[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(a)for(let j=d.length-1;j>=0;j--){const N=d[j];if(N.href===g&&(!y||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${x}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":X5,y||(b.as="script"),b.crossOrigin="",b.href=g,m&&b.setAttribute("nonce",m),document.head.appendChild(b),y)return new Promise((j,N)=>{b.addEventListener("load",j),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})},YN="devui_streaming_state_",GN=1440*60*1e3;function Pu(e){return`${YN}${e}`}function W5(e){let n="";for(const r of e)r.type==="response.output_text.delta"&&"delta"in r&&(n+=r.delta);return n}function XN(e){try{const n=Pu(e.conversationId),r=JSON.stringify(e);localStorage.setItem(n,r)}catch(n){console.error("Failed to save streaming state:",n);try{ZN();const r=Pu(e.conversationId),a=JSON.stringify(e);localStorage.setItem(r,a)}catch{console.error("Failed to save streaming state even after cleanup")}}}function xa(e){try{const n=Pu(e),r=localStorage.getItem(n);if(!r)return null;const a=JSON.parse(r);return Date.now()-a.timestamp>GN?(bu(e),null):a.completed?null:a}catch(n){return console.error("Failed to load streaming state:",n),null}}function yh(e,n,r,a){try{const l=xa(e),c="sequence_number"in n?n.sequence_number:void 0,d=l?[...l.events,n]:[n],f={conversationId:e,responseId:r,lastMessageId:a,lastSequenceNumber:c??l?.lastSequenceNumber??-1,events:d,timestamp:Date.now(),completed:n.type==="response.completed"||n.type==="response.failed",accumulatedText:W5(d)};XN(f)}catch(l){console.error("Failed to update streaming state:",l)}}function vh(e){try{const n=xa(e);n&&(n.completed=!0,n.timestamp=Date.now(),XN(n))}catch(n){console.error("Failed to mark streaming as completed:",n)}}function bu(e){try{const n=Pu(e);localStorage.removeItem(n)}catch(n){console.error("Failed to clear streaming state:",n)}}function ZN(){try{const e=Object.keys(localStorage),n=Date.now();for(const r of e)if(r.startsWith(YN))try{const a=localStorage.getItem(r);if(a){const l=JSON.parse(a);(n-l.timestamp>GN||l.completed)&&localStorage.removeItem(r)}}catch{localStorage.removeItem(r)}}catch(e){console.error("Failed to clear expired streaming states:",e)}}function K5(){ZN()}function WN(){const[e,n]=w.useState(!1),r=w.useRef(null),a=w.useCallback(()=>(r.current=new AbortController,n(!1),r.current.signal),[]),l=w.useCallback(()=>{r.current&&(n(!0),r.current.abort(),r.current=null)},[]),c=w.useCallback(()=>{n(!1)},[]),d=w.useCallback(()=>{r.current&&(r.current.abort(),r.current=null)},[]);return{isCancelling:e,createAbortSignal:a,handleCancel:l,resetCancelling:c,cleanup:d}}function Bu(e){return e instanceof DOMException&&e.name==="AbortError"}function Q5(e={}){const{onDrop:n,disabled:r=!1}=e,[a,l]=w.useState(!1),[c,d]=w.useState([]),f=w.useRef(0),m=w.useCallback(b=>{b.preventDefault(),b.stopPropagation(),!r&&(f.current++,b.dataTransfer.items&&b.dataTransfer.items.length>0&&l(!0))},[r]),h=w.useCallback(b=>{b.preventDefault(),b.stopPropagation(),!r&&(f.current--,f.current===0&&l(!1))},[r]),g=w.useCallback(b=>{b.preventDefault(),b.stopPropagation()},[]),y=w.useCallback(b=>{if(b.preventDefault(),b.stopPropagation(),l(!1),f.current=0,r)return;const j=Array.from(b.dataTransfer.files);j.length>0&&(d(j),n?.(j))},[r,n]),x=w.useCallback(()=>{d([])},[]);return{isDragOver:a,droppedFiles:c,clearDroppedFiles:x,dragHandlers:{onDragEnter:m,onDragLeave:h,onDragOver:g,onDrop:y}}}const J5="",eR=1e3,bh=10;function tR(){const e=localStorage.getItem("devui_backend_url");return e||J5}function nR(e){return new Promise(n=>setTimeout(n,e))}class sR{baseUrl;authToken=null;constructor(n){this.baseUrl=n||tR(),this.authToken=localStorage.getItem("devui_auth_token")}setBaseUrl(n){this.baseUrl=n}getBaseUrl(){return this.baseUrl}setAuthToken(n){this.authToken=n,n?localStorage.setItem("devui_auth_token",n):localStorage.removeItem("devui_auth_token")}getAuthToken(){return this.authToken}clearAuthToken(){this.setAuthToken(null)}async request(n,r={}){const a=`${this.baseUrl}${n}`,l={"Content-Type":"application/json",...r.headers};this.authToken&&(l.Authorization=`Bearer ${this.authToken}`);const c=await fetch(a,{...r,headers:l});if(!c.ok){if(c.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");let d=`API request failed: ${c.status} ${c.statusText}`;try{const f=await c.json();f.detail?typeof f.detail=="string"?d=f.detail:typeof f.detail=="object"&&f.detail.error?.message&&(d=f.detail.error.message):f.error?.message&&(d=f.error.message)}catch{}throw new Error(d)}return c.json()}async getHealth(){return this.request("/health")}async getMeta(){return this.request("/meta")}async getEntities(){const r=(await this.request("/v1/entities")).entities.map(c=>{if(c.type==="agent")return{id:c.id,name:c.name,description:c.description,type:"agent",source:c.source||"directory",tools:(c.tools||[]).map(d=>typeof d=="string"?d:JSON.stringify(d)),has_env:!!(c.required_env_vars&&c.required_env_vars.length>0),module_path:typeof c.metadata?.module_path=="string"?c.metadata.module_path:void 0,required_env_vars:c.required_env_vars,metadata:c.metadata,deployment_supported:c.deployment_supported,deployment_reason:c.deployment_reason,instructions:c.instructions,model_id:c.model_id,chat_client_type:c.chat_client_type,context_providers:c.context_providers,middleware:c.middleware};{const d=c.executors||c.tools||[];let f=c.start_executor_id||"";if(!f&&d.length>0){const m=d[0];typeof m=="string"&&(f=m)}return{id:c.id,name:c.name,description:c.description,type:"workflow",source:c.source||"directory",executors:d.map(m=>typeof m=="string"?m:JSON.stringify(m)),has_env:!!(c.required_env_vars&&c.required_env_vars.length>0),module_path:typeof c.metadata?.module_path=="string"?c.metadata.module_path:void 0,required_env_vars:c.required_env_vars,metadata:c.metadata,deployment_supported:c.deployment_supported,deployment_reason:c.deployment_reason,input_schema:c.input_schema||{type:"string"},input_type_name:c.input_type_name||"Input",start_executor_id:f,tools:[]}}}),a=r.filter(c=>c.type==="agent"),l=r.filter(c=>c.type==="workflow");return{entities:r,agents:a,workflows:l}}async getAgents(){const{agents:n}=await this.getEntities();return n}async getWorkflows(){const{workflows:n}=await this.getEntities();return n}async getAgentInfo(n){return this.request(`/v1/entities/${n}/info?type=agent`)}async getWorkflowInfo(n){return this.request(`/v1/entities/${n}/info?type=workflow`)}async reloadEntity(n){return this.request(`/v1/entities/${n}/reload`,{method:"POST"})}async createConversation(n){const{oaiMode:r}=await Jh(()=>Promise.resolve().then(()=>Kh),void 0,import.meta.url).then(c=>({oaiMode:c.useDevUIStore.getState().oaiMode})),a={};r.enabled&&(a["X-Proxy-Backend"]="openai");const l=await this.request("/v1/conversations",{method:"POST",headers:a,body:JSON.stringify({metadata:n})});return{id:l.id,object:"conversation",created_at:l.created_at,metadata:l.metadata}}async listConversations(n){const r=n?`/v1/conversations?agent_id=${encodeURIComponent(n)}`:"/v1/conversations",a=await this.request(r);return{data:a.data.map(l=>({id:l.id,object:"conversation",created_at:l.created_at,metadata:l.metadata})),has_more:a.has_more}}async getConversation(n){const r=await this.request(`/v1/conversations/${n}`);return{id:r.id,object:"conversation",created_at:r.created_at,metadata:r.metadata}}async deleteConversation(n){try{return await this.request(`/v1/conversations/${n}`,{method:"DELETE"}),bu(n),!0}catch{return!1}}async listConversationItems(n,r){const a=new URLSearchParams;r?.limit&&a.set("limit",r.limit.toString()),r?.after&&a.set("after",r.after),r?.order&&a.set("order",r.order);const l=a.toString(),c=`/v1/conversations/${n}/items${l?`?${l}`:""}`;return this.request(c)}async getConversationItem(n,r){const a=`/v1/conversations/${n}/items/${r}`;return this.request(a)}async deleteConversationItem(n,r){const a=await fetch(`${this.baseUrl}/v1/conversations/${n}/items/${r}`,{method:"DELETE"});if(!a.ok)throw new Error(`Failed to delete item: ${a.statusText}`)}async*streamOpenAIResponse(n,r,a,l){const{oaiMode:c}=await Jh(()=>Promise.resolve().then(()=>Kh),void 0,import.meta.url).then(y=>({oaiMode:y.useDevUIStore.getState().oaiMode}));c.enabled&&(n.model=c.model,c.temperature!==void 0&&(n.temperature=c.temperature),c.max_output_tokens!==void 0&&(n.max_output_tokens=c.max_output_tokens),c.top_p!==void 0&&(n.top_p=c.top_p),c.instructions!==void 0&&(n.instructions=c.instructions),c.reasoning_effort!==void 0&&(n.reasoning={effort:c.reasoning_effort}));let d=-1,f=0,m=!1,h=l,g;if(r){const y=xa(r);if(y)if(l||(h=y.responseId),d=y.lastSequenceNumber,g=y.lastMessageId,l)m=y.events.length>0;else for(const x of y.events)m=!0,yield x}for(;f<=bh;)try{let y;if(h){const N=new URLSearchParams;N.set("stream","true"),d>=0&&N.set("starting_after",d.toString());const S=`${this.baseUrl}/v1/responses/${h}?${N.toString()}`,_={Accept:"text/event-stream"};this.authToken&&(_.Authorization=`Bearer ${this.authToken}`),y=await fetch(S,{method:"GET",headers:_,signal:a})}else{const N=`${this.baseUrl}/v1/responses`,S={"Content-Type":"application/json",Accept:"text/event-stream"};c.enabled&&(S["X-Proxy-Backend"]="openai"),this.authToken&&(S.Authorization=`Bearer ${this.authToken}`),y=await fetch(N,{method:"POST",headers:S,body:JSON.stringify(n),signal:a})}if(!y.ok){if(y.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");if(y.status>=400&&y.status<500){let S=`Client error ${y.status}`;try{const _=await y.json();_.error&&_.error.message?S=_.error.message:_.detail&&(S=_.detail)}catch{}throw new Error(`CLIENT_ERROR: ${S}`)}let N=`Request failed with status ${y.status}`;try{const S=await y.json();S.error&&S.error.message?N=S.error.message:S.detail&&(N=S.detail)}catch{}throw new Error(N)}const x=y.body?.getReader();if(!x)throw new Error("Response body is not readable");const b=new TextDecoder;let j="";try{for(;;){if(a?.aborted)throw new DOMException("Request aborted","AbortError");const{done:N,value:S}=await x.read();if(N){r&&vh(r);return}const _=b.decode(S,{stream:!0});j+=_;const M=j.split(`
`);j=M.pop()||"";for(const E of M)if(E.startsWith("data: ")){const T=E.slice(6);if(T==="[DONE]"){r&&vh(r);return}try{const R=JSON.parse(T);if("response"in R&&R.response&&typeof R.response=="object"&&"id"in R.response){const O=R.response.id;(!h||h!==O)&&(h=O)}else if("id"in R&&typeof R.id=="string"&&R.id.startsWith("resp_")){const O=R.id;(!h||h!==O)&&(h=O)}"item_id"in R&&R.item_id&&(g=R.item_id);const D="sequence_number"in R?R.sequence_number:void 0;if(D!==void 0)if(m&&D<=1&&d>1)r&&bu(r),yield{type:"error",message:"Connection lost - previous response failed. Starting new response."},d=D,m=!0,r&&h&&yh(r,R,h,g),yield R;else{if(D<=d)continue;d=D,m=!0,r&&h&&yh(r,R,h,g),yield R}else m=!0,r&&h&&yh(r,R,h,g),yield R}catch(R){console.error("Failed to parse OpenAI SSE event:",R)}}}}finally{x.releaseLock()}}catch(y){const x=y instanceof Error?y.message:String(y);if(Bu(y))throw r&&vh(r),y;if(x==="UNAUTHORIZED"||x.startsWith("CLIENT_ERROR:"))throw y;if(f++,f>bh)throw new Error(`Connection failed after ${bh} retry attempts: ${x}`);const b=Math.min(eR*Math.pow(2,f-1),3e4);await nR(b)}}async*streamAgentExecutionOpenAI(n,r,a,l){const c={metadata:{entity_id:n},input:r.input,stream:!0,conversation:r.conversation_id};return yield*this.streamAgentExecutionOpenAIDirect(n,c,r.conversation_id,a,l)}async*streamAgentExecutionOpenAIDirect(n,r,a,l,c){yield*this.streamOpenAIResponse(r,a,l,c)}async*streamWorkflowExecutionOpenAI(n,r,a){const l={metadata:{entity_id:n},input:JSON.stringify(r.input_data||{}),stream:!0,conversation:r.conversation_id,extra_body:r.checkpoint_id?{entity_id:n,checkpoint_id:r.checkpoint_id}:void 0};yield*this.streamOpenAIResponse(l,r.conversation_id,a)}async runAgent(n,r){return this.request(`/agents/${n}/run`,{method:"POST",body:JSON.stringify(r)})}async runWorkflow(n,r){return this.request(`/workflows/${n}/run`,{method:"POST",body:JSON.stringify(r)})}clearStreamingState(n){bu(n)}async*streamDeployment(n){const r=await fetch(`${this.baseUrl}/v1/deployments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,stream:!0})});if(!r.ok)throw new Error(`Deployment failed: ${r.statusText}`);const a=r.body?.getReader();if(!a)throw new Error("No response body");const l=new TextDecoder;let c="";try{for(;;){const{done:d,value:f}=await a.read();if(d)break;c+=l.decode(f,{stream:!0});const m=c.split(`
`);c=m.pop()||"";for(const h of m)if(h.startsWith("data: ")){const g=h.slice(6);if(g==="[DONE]")return;try{yield JSON.parse(g)}catch(y){yield{type:"deploy.error",message:`Failed to parse deployment event: ${y instanceof Error?y.message:"Unknown error"}`}}}}}catch(d){throw yield{type:"deploy.failed",message:`Stream interrupted: ${d instanceof Error?d.message:"Unknown error"}`},d}finally{a.releaseLock()}}async listWorkflowSessions(n){const r=`/v1/conversations?entity_id=${encodeURIComponent(n)}&type=workflow_session`;return{data:(await this.request(r)).data.map(c=>({conversation_id:c.id,entity_id:c.metadata?.entity_id||n,created_at:c.created_at,metadata:{name:c.metadata?.name||`Session ${new Date(c.created_at*1e3).toLocaleString()}`,description:c.metadata?.description,type:"workflow_session",checkpoint_summary:c.metadata?.checkpoint_summary}}))}}async createWorkflowSession(n,r){const a={entity_id:n,type:"workflow_session",name:r?.name||`Session ${new Date().toLocaleString()}`,...r?.description&&{description:r.description}},l=await this.createConversation(a);return{conversation_id:l.id,entity_id:n,created_at:l.created_at,metadata:{name:a.name,description:a.description,type:"workflow_session"}}}async deleteWorkflowSession(n,r){if(!await this.deleteConversation(r))throw new Error("Failed to delete workflow session")}}const Qe=new sR;function rR({open:e,onClose:n,agentName:r="Agent",entity:a}){const c=de(C=>C.azureDeploymentEnabled)&&(a?.deployment_supported??!1),[d,f]=w.useState(c?"azure":"docker"),[m,h]=w.useState(null),g=w.useRef(null),y=w.useRef(null),x=de(C=>C.isDeploying),b=de(C=>C.deploymentLogs),j=de(C=>C.lastDeployment),N=de(C=>C.startDeployment),S=de(C=>C.addDeploymentLog),_=de(C=>C.setDeploymentResult),M=de(C=>C.stopDeployment),E=de(C=>C.clearDeploymentState),T=C=>{const $=C.toLowerCase().replace(/[_\s]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^[^a-z]+/,"").replace(/-$/,"");return($.match(/^[a-z]/)?$:`app-${$}`).substring(0,31)},R=a?T(a.id):"",[D,O]=w.useState("my-test-rg"),[P,q]=w.useState(R),[K,J]=w.useState("eastus"),[G,Z]=w.useState(null);w.useEffect(()=>{if(a){const C=T(a.id);q(C);const $=B(C);Z($)}},[a?.id]),w.useEffect(()=>{y.current&&b.length>0&&(y.current.scrollTop=y.current.scrollHeight)},[b]);const B=C=>C?C.length>=32?"App name must be less than 32 characters":/^[a-z0-9-]+$/.test(C)?/^[a-z]/.test(C)?/[a-z0-9]$/.test(C)?C.includes("--")?"App name cannot contain consecutive hyphens (--)":null:"App name must end with a letter or number":"App name must start with a lowercase letter":"App name must contain only lowercase letters, numbers, and hyphens (no underscores or uppercase)":null;w.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const U=async()=>{if(!a?.id||!D||!P)return;const C=D.trim(),$=P.trim(),Y=B($);if(Y){Z(Y);return}try{N();for await(const V of Qe.streamDeployment({entity_id:a.id,resource_group:C,app_name:$,region:K,ui_mode:"user"}))S(V.message),V.type==="deploy.completed"&&V.url&&V.auth_token?_({url:V.url,authToken:V.auth_token}):V.type==="deploy.failed"&&M()}catch(V){S(`Error: ${V instanceof Error?V.message:"Deployment failed"}`),M()}},k=async(C,$)=>{try{await navigator.clipboard.writeText(C),h($),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(null),g.current=null},2e3)}catch{h(null)}},L=`# Dockerfile for ${r}
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy agent/workflow directories
COPY . .

# Expose DevUI default port
EXPOSE 8080

# Run DevUI server
CMD ["devui", ".", "--port", "8080", "--host", "0.0.0.0"]
`,I=`# docker-compose.yml
version: '3.8'

services:
  ${r.toLowerCase().replace(/\s+/g,"-")}:
    build: .
    environment:
      # OpenAI
      - OPENAI_API_KEY=\${OPENAI_API_KEY}
      - OPENAI_CHAT_MODEL_ID=\${OPENAI_CHAT_MODEL_ID:-gpt-4o-mini}
      # Or Azure OpenAI
      - AZURE_OPENAI_API_KEY=\${AZURE_OPENAI_API_KEY}
      - AZURE_OPENAI_ENDPOINT=\${AZURE_OPENAI_ENDPOINT}
      - AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=\${AZURE_OPENAI_CHAT_DEPLOYMENT_NAME}
      # Optional: Enable tracing
      - ENABLE_OTEL=\${ENABLE_OTEL:-false}
    ports:
      - "8080:8080"
    restart: unless-stopped
`,H=`# requirements.txt
agent-framework-devui>=0.1.0
agent-framework>=0.1.0
# Chat clients (install what you need)
openai>=1.0.0
# azure-openai
# anthropic
`;return o.jsx(Rr,{open:e,onOpenChange:n,children:o.jsxs(Dr,{className:"w-[800px] max-w-[90vw]",children:[o.jsx(No,{onClose:n}),o.jsxs(Or,{className:"p-6 pb-2",children:[o.jsxs(zr,{className:"flex items-center gap-2",children:[o.jsx(Xh,{className:"h-5 w-5"}),"Deploy ",r]}),o.jsx("p",{className:"text-sm text-muted-foreground pt-1",children:"Get started with containerizing your agent for deployment."})]}),o.jsxs("div",{className:"flex border-b px-6",children:[o.jsxs("button",{onClick:()=>f("docker"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${d==="docker"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(lM,{className:"h-4 w-4 mr-2 inline"}),"Docker",d==="docker"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),c&&o.jsxs("button",{onClick:()=>f("azure"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${d==="azure"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(oM,{className:"h-4 w-4 mr-2 inline"}),"Azure",d==="azure"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),o.jsx("div",{className:"px-6 pb-6 min-h-[400px]",children:o.jsx(Yn,{className:"h-[500px]",children:o.jsxs("div",{className:"pr-4",children:[d==="docker"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Containerize with Docker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Package your agent as a Docker container for consistent deployment anywhere."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Dockerfile"}),o.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>k(L,"dockerfile"),children:m==="dockerfile"?o.jsxs(o.Fragment,{children:[o.jsx(Qt,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(oo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:L})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"docker-compose.yml"}),o.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>k(I,"compose"),children:m==="compose"?o.jsxs(o.Fragment,{children:[o.jsx(Qt,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(oo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:I})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"requirements.txt"}),o.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>k(H,"requirements"),children:m==="requirements"?o.jsxs(o.Fragment,{children:[o.jsx(Qt,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(oo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:H})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Quick Start"}),o.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside text-muted-foreground",children:[o.jsx("li",{children:"Save the files above to your project directory"}),o.jsxs("li",{children:["Build:"," ",o.jsxs("code",{className:"bg-muted px-1 rounded",children:["docker build -t ",r.toLowerCase(),"-agent ."]})]}),o.jsxs("li",{children:["Run:"," ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"docker-compose up"})]}),o.jsx("li",{children:"Your agent is now running in a container!"})]})]}),o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2 text-amber-900 dark:text-amber-100",children:" Production Considerations"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-amber-800 dark:text-amber-200",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"In-memory state:"})," Conversations are lost when container restarts"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"No authentication:"})," Add reverse proxy (nginx, Caddy) with auth for production"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Security:"})," Use Azure Key Vault for secrets management"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Scaling:"})," Single instance only due to in-memory conversation store"]})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Pre-Deployment Checklist"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Set environment variables (API keys, secrets)"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Test agent locally in container"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Configure logging and monitoring"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Qt,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Set up error handling and retries"})]})]})]})]}),d==="azure"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Deploy to Azure Container Apps"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c?"One-click deployment to Azure with automatic containerization and authentication.":"Azure Container Apps provides serverless containers with auto-scaling and integrated monitoring."})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-900 dark:text-blue-100",children:"Prerequisites for Azure Deployment"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-blue-800 dark:text-blue-200",children:[o.jsxs("li",{children:["Azure CLI installed and authenticated (",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"az login"}),")"]}),o.jsx("li",{children:"Docker installed and running"}),o.jsxs("li",{children:["Azure subscription with the following providers registered:",o.jsxs("ul",{className:"ml-4 mt-1 space-y-0.5",children:[o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.App"})," (Container Apps)"]}),o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.ContainerRegistry"})," (ACR)"]}),o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.OperationalInsights"})," (Logging)"]})]})]})]}),o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"text-xs cursor-pointer hover:underline text-blue-700 dark:text-blue-300",children:"How to register providers?"}),o.jsxs("div",{className:"mt-2 p-2 bg-blue-100 dark:bg-blue-900 rounded text-xs",children:[o.jsx("p",{className:"mb-1",children:"Run these commands once per subscription:"}),o.jsxs("code",{className:"block font-mono",children:["az provider register -n Microsoft.App --wait",o.jsx("br",{}),"az provider register -n Microsoft.ContainerRegistry --wait",o.jsx("br",{}),"az provider register -n Microsoft.OperationalInsights --wait"]})]})]})]}),c&&a&&!j&&o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[x?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Mr,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}),o.jsx("div",{ref:y,className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((C,$)=>o.jsx("div",{className:C.includes("failed")||C.includes("Error")?"text-red-600":"",children:C},$))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Resource Group"}),o.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",placeholder:"my-test-rg",value:D,onChange:C=>O(C.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"App Name"}),o.jsx("input",{type:"text",className:`w-full mt-1 px-3 py-2 border rounded-md text-sm ${G?"border-red-500":""}`,placeholder:"my-agent-app",value:P,onChange:C=>{const $=C.target.value;q($);const Y=B($.trim());Z(Y)}}),G&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:G})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Region"}),o.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",value:K,onChange:C=>J(C.target.value),children:[o.jsx("option",{value:"eastus",children:"East US"}),o.jsx("option",{value:"westus",children:"West US"}),o.jsx("option",{value:"westeurope",children:"West Europe"}),o.jsx("option",{value:"eastasia",children:"East Asia"})]})]})]}),o.jsxs(Oe,{onClick:U,disabled:!D||!P||!!G,className:"w-full",children:[o.jsx(Xh,{className:"h-4 w-4 mr-2"}),"Deploy to Azure"]})]}),!x&&b.length>0&&!j&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-600",children:[o.jsx(cs,{className:"h-4 w-4"}),"Deployment Failed"]}),o.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((C,$)=>o.jsx("div",{className:C.includes("failed")||C.includes("Error")?"text-red-600":"",children:C},$))}),o.jsx(Oe,{onClick:E,variant:"outline",className:"w-full",children:"Try Again"})]})]}),j&&o.jsxs("div",{className:"border-2 border-green-200 bg-green-50 dark:bg-green-950/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"h-5 w-5 text-green-600"}),o.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Deployment Successful!"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Deployment URL"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm",children:j.url}),o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>window.open(j.url,"_blank"),children:o.jsx(zu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Auth Token (save this - shown only once)"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm font-mono",children:j.authToken}),o.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(j.authToken),children:o.jsx(oo,{className:"h-4 w-4"})})]})]})]}),o.jsx(Oe,{onClick:E,variant:"outline",className:"w-full",children:"Deploy Another"})]}),!c&&a?.deployment_reason&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(cs,{className:"h-4 w-4 mt-0.5 text-amber-600 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[o.jsx("strong",{children:"Deployment not available:"})," ",a.deployment_reason]})]})}),!c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Prerequisites"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-muted-foreground",children:[o.jsx("li",{children:"Azure subscription"}),o.jsxs("li",{children:["Azure CLI installed (",o.jsx("code",{className:"bg-muted px-1 rounded",children:"az --version"}),")"]}),o.jsx("li",{children:"Docker installed and running"}),o.jsxs("li",{children:["Logged in to Azure:"," ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"az login"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Deployment Steps"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"1"}),o.jsx("h5",{className:"font-medium text-sm",children:"Create Azure Container Registry"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Create resource group
az group create --name myResourceGroup --location eastus

# Create container registry
az acr create --resource-group myResourceGroup \\
  --name myregistry --sku Basic`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"2"}),o.jsx("h5",{className:"font-medium text-sm",children:"Build and Push Docker Image"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Build and push in one command
az acr build --registry myregistry \\
  --image ${r.toLowerCase()}-agent:latest .`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"3"}),o.jsx("h5",{className:"font-medium text-sm",children:"Create Container Apps Environment"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp env create --name myEnvironment \\
  --resource-group myResourceGroup \\
  --location eastus`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"4"}),o.jsx("h5",{className:"font-medium text-sm",children:"Deploy Container App"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp create --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --environment myEnvironment \\
  --image myregistry.azurecr.io/${r.toLowerCase()}-agent:latest \\
  --target-port 8080 \\
  --ingress 'external' \\
  --registry-server myregistry.azurecr.io \\
  --env-vars OPENAI_API_KEY=secretref:openai-key OPENAI_CHAT_MODEL_ID=gpt-4o-mini`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"5"}),o.jsx("h5",{className:"font-medium text-sm",children:"Get Application URL"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp show --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --query properties.configuration.ingress.fqdn`})]})]})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Learn More"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Explore Azure Container Apps documentation for advanced features like scaling, monitoring, and CI/CD integration."}),o.jsx(Oe,{size:"sm",variant:"outline",className:"w-full",asChild:!0,children:o.jsxs("a",{href:"https://learn.microsoft.com/azure/container-apps/",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(zu,{className:"h-3 w-3 mr-1"}),"View Azure Container Apps Documentation"]})})]})]})]})]})})})]})})}function oR({className:e,...n}){return o.jsx("div",{"data-slot":"card",className:Xe("bg-card text-card-foreground flex flex-col gap-6 rounded border py-6 shadow-sm",e),...n})}function aR({className:e,...n}){return o.jsx("div",{"data-slot":"card-header",className:Xe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...n})}function KN({className:e,...n}){return o.jsx("div",{"data-slot":"card-title",className:Xe("leading-none font-semibold",e),...n})}function iR({className:e,...n}){return o.jsx("div",{"data-slot":"card-description",className:Xe("text-muted-foreground text-sm",e),...n})}function lR({className:e,...n}){return o.jsx("div",{"data-slot":"card-content",className:Xe("px-6",e),...n})}function cR({className:e,...n}){return o.jsx("div",{"data-slot":"card-footer",className:Xe("flex items-center px-6 [.border-t]:pt-6",e),...n})}const _r=[{id:"foundry-weather-agent",name:"Azure AI Weather Agent",description:"Weather agent using Azure AI Agent (Foundry) with Azure CLI authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/foundry_agent/agent.py",tags:["azure-ai","foundry","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure AI Agent integration","Azure CLI authentication","Mock weather tools"],requiredEnvVars:[{name:"AZURE_AI_PROJECT_ENDPOINT",description:"Azure AI Foundry project endpoint URL",required:!0,example:"https://your-project.api.azureml.ms"},{name:"FOUNDRY_MODEL_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure AI Foundry",required:!0,example:"gpt-4o"}]},{id:"weather-agent-azure",name:"Azure OpenAI Weather Agent",description:"Weather agent using Azure OpenAI with API key authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/weather_agent_azure/agent.py",tags:["azure","openai","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure OpenAI integration","API key authentication","Function calling","Mock weather tools"],requiredEnvVars:[{name:"AZURE_OPENAI_API_KEY",description:"Azure OpenAI API key",required:!0},{name:"AZURE_OPENAI_CHAT_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure OpenAI",required:!0,example:"gpt-4o"},{name:"AZURE_OPENAI_ENDPOINT",description:"Azure OpenAI endpoint URL",required:!0,example:"https://your-resource.openai.azure.com"}]},{id:"spam-workflow",name:"Spam Detection Workflow",description:"5-step workflow demonstrating email spam detection with branching logic",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/spam_workflow/workflow.py",tags:["workflow","branching","multi-step"],author:"Microsoft",difficulty:"beginner",features:["Sequential execution","Conditional branching","Mock spam detection"]},{id:"fanout-workflow",name:"Complex Fan-In/Fan-Out Workflow",description:"Advanced data processing workflow with parallel validation, transformation, and quality assurance stages",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/fanout_workflow/workflow.py",tags:["workflow","fan-out","fan-in","parallel"],author:"Microsoft",difficulty:"advanced",features:["Fan-out pattern","Parallel execution","Complex state management","Multi-stage processing"]}];_r.filter(e=>e.type==="agent"),_r.filter(e=>e.type==="workflow"),_r.filter(e=>e.difficulty==="beginner"),_r.filter(e=>e.difficulty==="intermediate"),_r.filter(e=>e.difficulty==="advanced");const uR=e=>{switch(e){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},QN=w.forwardRef(({className:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:Xe("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",e),...n}));QN.displayName="Alert";const JN=w.forwardRef(({className:e,...n},r)=>o.jsx("h5",{ref:r,className:Xe("mb-1 font-medium leading-none tracking-tight",e),...n}));JN.displayName="AlertTitle";const e2=w.forwardRef(({className:e,...n},r)=>o.jsx("div",{ref:r,className:Xe("text-sm [&_p]:leading-relaxed",e),...n}));e2.displayName="AlertDescription";function t2({children:e,copyable:n=!1}){const[r,a]=w.useState(!1),l=()=>{navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)};return o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-muted p-3 rounded-md text-sm overflow-x-auto font-mono",children:o.jsx("code",{children:e})}),n&&o.jsx(Oe,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:l,children:r?o.jsx(wo,{className:"h-3 w-3"}):o.jsx(oo,{className:"h-3 w-3"})})]})}function nu({number:e,title:n,description:r,code:a,action:l,copyable:c=!1}){return o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:e})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:n}),r&&o.jsx("p",{className:"text-sm text-muted-foreground",children:r}),a&&o.jsx(t2,{copyable:c,children:a}),l&&o.jsx("div",{children:l})]})]})}function dR({sample:e,open:n,onOpenChange:r}){const a=e.requiredEnvVars&&e.requiredEnvVars.length>0,l=a?0:-1;return o.jsx(Rr,{open:n,onOpenChange:r,children:o.jsxs(Dr,{className:"max-w-3xl",children:[o.jsxs(Or,{className:"px-6 pt-6 pb-2",children:[o.jsxs(zr,{children:["Setup: ",e.name]}),o.jsxs($5,{children:["Follow these steps to run this sample ",e.type," locally"]})]}),o.jsx("div",{className:"px-6 pb-6",children:o.jsx(Yn,{className:"h-[500px]",children:o.jsxs("div",{className:"space-y-6 pr-4",children:[o.jsx(nu,{number:1,title:"Download the sample file",action:o.jsx(Oe,{asChild:!0,size:"sm",children:o.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Ou,{className:"h-4 w-4 mr-2"}),"Download ",e.id,".py"]})})}),o.jsx(nu,{number:2,title:"Create a project folder",description:"Create a dedicated folder for this sample and move the downloaded file there:",code:`mkdir -p ~/my-agents/${e.id}
mv ~/Downloads/${e.id}.py ~/my-agents/${e.id}/`,copyable:!0}),a&&o.jsx(nu,{number:3,title:"Set up environment variables",description:"Create a .env file in the project folder with these required variables:",code:e.requiredEnvVars.map(c=>`${c.name}=${c.example||"your-value-here"}
# ${c.description}`).join(`

`),copyable:!0}),o.jsx(nu,{number:4+l,title:"Run with DevUI",description:"Navigate to the folder and start DevUI:",code:`cd ~/my-agents/${e.id}
devui .`,copyable:!0}),o.jsxs(QN,{children:[o.jsx(MM,{className:"h-4 w-4"}),o.jsx(JN,{children:"Alternative: Run Programmatically"}),o.jsxs(e2,{className:"mt-2",children:[o.jsxs("p",{className:"mb-2",children:["You can also run the ",e.type," directly in Python:"]}),o.jsx(t2,{copyable:!0,children:`from ${e.id} import ${e.type}
import asyncio

async def main():
    response = await ${e.type}.run("Hello!")
    print(response)

asyncio.run(main())`})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(zu,{className:"h-4 w-4 mr-2"}),"View Source"]})}),o.jsx(Oe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:"https://github.com/microsoft/agent-framework#readme",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(q1,{className:"h-4 w-4 mr-2"}),"Documentation"]})})]})]})})})]})})}function fR({sample:e}){const[n,r]=w.useState(!1),a=e.type==="workflow"?Ls:Hs;return o.jsxs(o.Fragment,{children:[o.jsxs(oR,{className:"hover:shadow-md transition-shadow duration-200 h-full flex flex-col overflow-hidden w-full",children:[o.jsxs(aR,{className:"pb-3 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(a,{className:"h-5 w-5"}),o.jsx(ut,{variant:"secondary",className:"text-xs",children:e.type})]}),o.jsx(ut,{variant:"outline",className:Xe("text-xs border",uR(e.difficulty)),children:e.difficulty})]}),o.jsx(KN,{className:"text-lg leading-tight",children:e.name}),o.jsx(iR,{className:"text-sm line-clamp-3",children:e.description})]}),o.jsx(lR,{className:"pt-0 flex-1 min-w-0 overflow-hidden",children:o.jsxs("div",{className:"space-y-3 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(l=>o.jsx(ut,{variant:"outline",className:"text-xs",children:l},l)),e.tags.length>3&&o.jsxs(ut,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),e.requiredEnvVars&&e.requiredEnvVars.length>0&&o.jsxs("details",{className:"group min-w-0 max-w-full overflow-hidden",children:[o.jsxs("summary",{className:"cursor-pointer list-none p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md hover:bg-amber-100 dark:hover:bg-amber-950/30 transition-colors flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(EM,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 flex-shrink-0"}),o.jsxs("span",{className:"text-xs font-medium text-amber-900 dark:text-amber-100 truncate",children:["Requires ",e.requiredEnvVars.length," env var",e.requiredEnvVars.length>1?"s":""]})]}),o.jsx(Mt,{className:"h-3 w-3 text-amber-600 dark:text-amber-500 flex-shrink-0 group-open:rotate-180 transition-transform"})]}),o.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md space-y-2 min-w-0 max-w-full overflow-hidden",children:e.requiredEnvVars.map(l=>o.jsxs("div",{className:"text-xs min-w-0 max-w-full overflow-hidden",children:[o.jsx("div",{className:"font-mono font-medium text-amber-900 dark:text-amber-100 break-words",children:l.name}),o.jsx("div",{className:"text-amber-700 dark:text-amber-300 mt-0.5 break-words",children:l.description}),l.example&&o.jsx("div",{className:"font-mono text-amber-600 dark:text-amber-400 mt-0.5 break-all",children:l.example})]},l.name))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Key Features:"}),o.jsx("ul",{className:"text-xs space-y-1",children:e.features.slice(0,3).map(l=>o.jsxs("li",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-current opacity-50"}),o.jsx("span",{children:l})]},l))})]})]})}),o.jsxs(cR,{className:"pt-3 flex-col gap-3",children:[o.jsx("div",{className:"w-full flex items-center justify-between text-xs text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(W1,{className:"h-3 w-3"}),o.jsx("span",{children:e.author})]})}),o.jsxs("div",{className:"w-full flex gap-2",children:[o.jsx(Oe,{asChild:!0,className:"flex-1",size:"sm",children:o.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Ou,{className:"h-4 w-4 mr-2"}),"Download"]})}),o.jsxs(Oe,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>r(!0),children:[o.jsx(q1,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]})]})]}),o.jsx(dR,{sample:e,open:n,onOpenChange:r})]})}function wh({samples:e}){return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(n=>o.jsx("div",{className:"min-w-0",children:o.jsx(fR,{sample:n})},n.id))})}function Wv({onClose:e,variant:n="inline",hasExistingEntities:r=!1}){return n==="inline"?o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 p-4 bg-muted/50 border border-border rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(fT,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"No agents or workflows configured yet!"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["You can configure agents or workflows by running"," ",o.jsx("code",{className:"px-1.5 py-0.5 bg-background rounded text-xs",children:"devui"})," ","in a directory containing them."]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse the sample agents and workflows below. Download them, review the code, and run them locally to get started quickly."})]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sample Gallery"}),o.jsx(wh,{samples:_r})]}),o.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",o.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):n==="route"?o.jsx("div",{className:"h-full overflow-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[r&&o.jsx("div",{className:"mb-4",children:o.jsxs(Oe,{variant:"ghost",onClick:e,className:"gap-2",children:[o.jsx(PA,{className:"h-4 w-4"}),"Back"]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sample Gallery"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse sample agents and workflows to learn the Agent Framework. Download these curated examples and run them locally. Examples range from beginner to advanced."})]})]}),o.jsx(wh,{samples:_r}),o.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",o.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):o.jsx(wh,{samples:_r})}function io({className:e,...n}){return o.jsx("textarea",{"data-slot":"textarea",className:Xe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...n})}function mR({onFilesSelected:e,accept:n="image/*,.pdf,audio/*,.wav,.mp3,.m4a,.ogg",multiple:r=!0,maxSize:a=50*1024*1024,disabled:l=!1,className:c=""}){const d=w.useRef(null),f=x=>{if(!x||x.length===0)return;const b=[],j=[];Array.from(x).forEach(N=>{if(N.size>a){j.push(`${N.name} is too large (max ${hR(a)})`);return}if(n&&!pR(N,n)){j.push(`${N.name} is not an accepted file type`);return}b.push(N)}),j.length>0&&console.warn("File upload errors:",j),b.length>0&&e(b)},m=()=>{d.current&&d.current.click()},h=x=>{f(x.target.files),x.target.value=""},g=x=>{if(x.preventDefault(),x.stopPropagation(),l)return;const b=x.dataTransfer.files;f(b)},y=x=>{x.preventDefault(),x.stopPropagation()};return o.jsxs("div",{className:c,children:[o.jsx("input",{ref:d,type:"file",accept:n,multiple:r,onChange:h,className:"hidden",disabled:l}),o.jsx(Oe,{type:"button",variant:"outline",size:"icon",onClick:m,disabled:l,onDrop:g,onDragOver:y,className:"shrink-0 transition-colors hover:bg-muted",title:"Upload files (images, PDFs, audio)",children:o.jsx(hT,{className:"h-4 w-4"})})]})}function hR(e){if(e===0)return"0 Bytes";const n=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(2))+" "+r[a]}function pR(e,n){return n.split(",").map(a=>a.trim()).some(a=>{if(a.startsWith("."))return e.name.toLowerCase().endsWith(a.toLowerCase());if(a.includes("/*")){const[l]=a.split("/");return e.type.startsWith(l+"/")}else return e.type===a})}function gR({attachments:e,onRemoveAttachment:n,className:r=""}){return e.length===0?null:o.jsx("div",{className:`flex flex-wrap gap-2 p-2 bg-muted rounded-lg ${r}`,children:e.map(a=>o.jsx(xR,{attachment:a,onRemove:()=>n(a.id)},a.id))})}function xR({attachment:e,onRemove:n}){const[r,a]=w.useState(!1),l=()=>{switch(e.type){case"image":return e.preview?o.jsx("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200",children:o.jsx(jM,{className:"h-6 w-6 text-gray-400"})});case"pdf":return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-red-50",children:[o.jsx(Ps,{className:"h-6 w-6 text-red-500 mb-1"}),o.jsx("span",{className:"text-xs text-red-600",children:"PDF"})]});case"audio":return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-purple-50",children:[o.jsx(Z1,{className:"h-6 w-6 text-purple-500 mb-1"}),o.jsx("span",{className:"text-xs text-purple-600",children:"AUDIO"})]});default:return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gray-100",children:[o.jsx(Ps,{className:"h-6 w-6 text-gray-500 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"FILE"})]})}};return o.jsxs("div",{className:"relative w-16 h-16 rounded border overflow-hidden group cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),title:e.file.name,children:[l(),o.jsx("div",{className:`absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-200 ease-in-out ${r?"opacity-100 backdrop-blur-sm":"opacity-0 pointer-events-none"}`,onClick:n,children:o.jsx("div",{className:`transition-all duration-200 ease-in-out ${r?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:o.jsx(Qp,{className:"h-5 w-5 text-white drop-shadow-lg"})})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1 truncate opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.file.name})]})}function n2({onSubmit:e,isSubmitting:n=!1,isStreaming:r=!1,onCancel:a,isCancelling:l=!1,placeholder:c,showFileUpload:d=!0,maxAttachments:f=10,className:m="",disabled:h=!1,entityName:g="assistant",externalFiles:y,onExternalFilesProcessed:x}){const[b,j]=w.useState(""),[N,S]=w.useState([]),[_,M]=w.useState(!1),[E,T]=w.useState(null),R=w.useRef(null);w.useEffect(()=>{y&&y.length>0&&(K(y),x?.())},[y,x]);const D=1e4,O=I=>I.type.startsWith("image/")?"image":I.type==="application/pdf"?"pdf":I.type.startsWith("audio/")?"audio":"other",P=I=>new Promise((H,C)=>{const $=new FileReader;$.onload=()=>H($.result),$.onerror=C,$.readAsDataURL(I)}),q=I=>{const H=I.trim(),C=H.split(`
`);if(/^{[\s\S]*}$|^\[[\s\S]*\]$/.test(H))return".json";if(/^<\?xml|^<html|^<!DOCTYPE/i.test(H))return".html";if(/^```/.test(H))return".md";if(/\t/.test(I)&&C.length>1)return".tsv";if(C.length>2){const $=C.filter(V=>V.includes(",")),Y=C.filter(V=>V.includes(";"));if($.length>C.length*.5&&$.reduce((W,fe)=>W+(fe.match(/,/g)||[]).length,0)/$.length>=2||Y.length>C.length*.5&&Y.reduce((W,fe)=>W+(fe.match(/;/g)||[]).length,0)/Y.length>=2)return".csv"}return".txt"},K=w.useCallback(async I=>{if(N.length+I.length>f){console.warn(`Cannot add more than ${f} attachments`);return}const H=[];for(const C of I){const $={id:`${Date.now()}-${Math.random()}`,file:C,type:O(C)};if(C.type.startsWith("image/"))try{$.preview=await P(C)}catch(Y){console.error("Failed to generate preview:",Y)}H.push($)}S(C=>[...C,...H])},[N.length,f]),J=I=>{S(H=>H.filter(C=>C.id!==I))},G=I=>{I.preventDefault(),I.stopPropagation(),M(!0)},Z=I=>{I.preventDefault(),I.stopPropagation(),M(!1)},B=async I=>{I.preventDefault(),I.stopPropagation(),M(!1);const H=Array.from(I.dataTransfer.files);H.length>0&&await K(H)},U=async I=>{const H=Array.from(I.clipboardData.items),C=[];let $=!1;for(const Y of H)if(Y.type.startsWith("image/")){I.preventDefault();const V=Y.getAsFile();if(V){const W=Date.now();C.push(new File([V],`screenshot-${W}.png`,{type:V.type}))}}else Y.type==="text/plain"&&!$&&($=!0,I.preventDefault(),await new Promise(V=>{Y.getAsString(W=>{const fe=(W.match(/\n/g)||[]).length;if(W.length>D||fe>50||/^\s*[{[][\s\S]*[}\]]\s*$/.test(W)||/^<\?xml|^<html|^<!DOCTYPE/i.test(W)){const te=q(W),ie=Date.now(),ge=new Blob([W],{type:"text/plain"});C.push(new File([ge],`pasted-text-${ie}${te}`,{type:"text/plain"}))}else{const te=R.current;if(te){const ie=te.selectionStart,ge=te.selectionEnd,we=te.value,Ne=we.slice(0,ie)+W+we.slice(ge);j(Ne),setTimeout(()=>{te.selectionStart=te.selectionEnd=ie+W.length,te.focus()},0)}}V()})}));if(C.length>0){await K(C);const Y=C.length===1?C[0].name.includes("screenshot")?"Screenshot added as attachment":"Large text converted to file":`${C.length} files added`;T(Y),setTimeout(()=>T(null),3e3)}},k=async I=>{if(I.preventDefault(),!b.trim()&&N.length===0||n||h)return;const H=b.trim(),C=[];H&&C.push({text:H,type:"input_text"});for(const $ of N){const Y=await P($.file);if($.file.type.startsWith("image/"))C.push({detail:"auto",type:"input_image",image_url:Y});else if($.file.type==="text/plain"&&($.file.name.includes("pasted-text-")||$.file.name.endsWith(".txt")||$.file.name.endsWith(".csv")||$.file.name.endsWith(".json")||$.file.name.endsWith(".html")||$.file.name.endsWith(".md")||$.file.name.endsWith(".tsv"))){const V=await $.file.text();C.push({text:V,type:"input_text"})}else{const V=Y.split(",")[1];C.push({type:"input_file",file_data:V,file_url:Y,filename:$.file.name})}}await e(C),j(""),S([])},L=!h&&!n&&!r&&(b.trim()||N.length>0);return o.jsxs("div",{className:`relative ${m}`,onDragOver:G,onDragLeave:Z,onDrop:B,children:[_&&o.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg bg-blue-50/80 dark:bg-blue-950/40 backdrop-blur-sm flex items-center justify-center transition-all duration-200 ease-in-out z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Drop files here"}),o.jsx("div",{className:"text-blue-500 dark:text-blue-500 text-xs",children:"Images, PDFs, and other files"})]})}),N.length>0&&o.jsx("div",{className:"mb-3",children:o.jsx(gR,{attachments:N,onRemoveAttachment:J})}),E&&o.jsxs("div",{className:`absolute bottom-24 left-1/2 -translate-x-1/2 z-20
                      bg-blue-500 text-white px-4 py-2 rounded-full text-sm
                      animate-in slide-in-from-bottom-2 fade-in duration-200
                      flex items-center gap-2 shadow-lg`,children:[E.includes("screenshot")?o.jsx(YM,{className:"h-3 w-3"}):o.jsx(Ps,{className:"h-3 w-3"}),E]}),o.jsxs("form",{onSubmit:k,className:"flex gap-2 items-end",children:[o.jsx(io,{ref:R,value:b,onChange:I=>j(I.target.value),onPaste:U,onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),k(I))},placeholder:c||`Message ${g}... (Shift+Enter for new line)`,disabled:h||n||r,className:"flex-1 min-h-[40px] max-h-[200px] resize-none",style:{fieldSizing:"content"}}),d&&o.jsx(mR,{onFilesSelected:K,disabled:h||n||r}),r&&a?o.jsx(Oe,{type:"button",size:"icon",onClick:a,disabled:l,className:"shrink-0 h-10 transition-all",title:"Stop generating","aria-label":"Stop generating response",children:l?o.jsx(Lu,{size:"sm"}):o.jsx(fd,{className:"h-4 w-4 fill-current"})}):o.jsx(Oe,{type:"submit",size:"icon",disabled:!L,className:"shrink-0 h-10 transition-all",title:"Send message","aria-label":"Send message",children:n?o.jsx(Lu,{size:"sm"}):o.jsx(eT,{className:"h-4 w-4"})})]})]})}function yR({code:e,language:n}){const[r,a]=w.useState(!1),l=w.useRef(null);w.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const c=async()=>{try{await navigator.clipboard.writeText(e),a(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{a(!1),l.current=null},2e3)}catch(d){console.error("Failed to copy code:",d)}};return o.jsxs("div",{className:"relative group",children:[o.jsx("pre",{className:"my-3 p-3 bg-foreground/5 dark:bg-foreground/10 rounded overflow-x-auto border border-foreground/10",children:o.jsxs("code",{className:"text-xs font-mono block whitespace-pre-wrap break-words",children:[n&&o.jsx("span",{className:"opacity-60 text-[10px] mb-1 block uppercase",children:n}),e]})}),o.jsx("button",{onClick:c,className:`absolute top-2 right-2 p-1.5 rounded-md border shadow-sm
                   bg-background hover:bg-accent
                   text-muted-foreground hover:text-foreground
                   transition-all duration-200
                   opacity-0 group-hover:opacity-100`,title:r?"Copied!":"Copy code",children:r?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600 dark:text-green-400",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),o.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}function vR({content:e,className:n=""}){const r=e.split(`
`),a=[];let l=0;for(;l<r.length;){const c=r[l];if(c.trim().startsWith("```")){const f=[],h=c.trim().match(/^```(\w+)?/)?.[1]||"";for(l++;l<r.length&&!r[l].trim().startsWith("```");)f.push(r[l]),l++;l++,a.push(o.jsx(yR,{code:f.join(`
`),language:h},a.length));continue}const d=c.match(/^(#{1,6})\s+(.+)$/);if(d){const f=d[1].length,m=d[2],g=`${["text-2xl","text-xl","text-lg","text-base","text-sm","text-sm"][f-1]} font-semibold mt-4 mb-2 first:mt-0 break-words`,y=f===1?o.jsx("h1",{className:g,children:xn(m)},a.length):f===2?o.jsx("h2",{className:g,children:xn(m)},a.length):f===3?o.jsx("h3",{className:g,children:xn(m)},a.length):f===4?o.jsx("h4",{className:g,children:xn(m)},a.length):f===5?o.jsx("h5",{className:g,children:xn(m)},a.length):o.jsx("h6",{className:g,children:xn(m)},a.length);a.push(y),l++;continue}if(c.match(/^[\s]*[-*+]\s+/)){const f=[];for(;l<r.length&&r[l].match(/^[\s]*[-*+]\s+/);){const m=r[l].replace(/^[\s]*[-*+]\s+/,"");f.push(m),l++}a.push(o.jsx("ul",{className:"my-2 ml-4 list-disc space-y-1 break-words",children:f.map((m,h)=>o.jsx("li",{className:"text-sm break-words",children:xn(m)},h))},a.length));continue}if(c.match(/^[\s]*\d+\.\s+/)){const f=[];for(;l<r.length&&r[l].match(/^[\s]*\d+\.\s+/);){const m=r[l].replace(/^[\s]*\d+\.\s+/,"");f.push(m),l++}a.push(o.jsx("ol",{className:"my-2 ml-4 list-decimal space-y-1 break-words",children:f.map((m,h)=>o.jsx("li",{className:"text-sm break-words",children:xn(m)},h))},a.length));continue}if(c.trim().startsWith("|")&&c.trim().endsWith("|")){const f=[];for(;l<r.length&&r[l].trim().startsWith("|")&&r[l].trim().endsWith("|");)f.push(r[l].trim()),l++;if(f.length>=2){const m=f[0].split("|").slice(1,-1).map(g=>g.trim());if(f[1].match(/^\|[\s\-:|]+\|$/)){const g=f.slice(2).map(y=>y.split("|").slice(1,-1).map(x=>x.trim()));a.push(o.jsx("div",{className:"my-3 overflow-x-auto",children:o.jsxs("table",{className:"min-w-full border border-foreground/10 text-sm",children:[o.jsx("thead",{className:"bg-foreground/5",children:o.jsx("tr",{children:m.map((y,x)=>o.jsx("th",{className:"border-b border-foreground/10 px-3 py-2 text-left font-semibold break-words",children:xn(y)},x))})}),o.jsx("tbody",{children:g.map((y,x)=>o.jsx("tr",{className:"border-b border-foreground/5 last:border-b-0",children:y.map((b,j)=>o.jsx("td",{className:"px-3 py-2 border-r border-foreground/5 last:border-r-0 break-words",children:xn(b)},j))},x))})]})},a.length));continue}}for(const m of f)a.push(o.jsx("p",{className:"my-1",children:xn(m)},a.length));continue}if(c.trim().startsWith(">")){const f=[];for(;l<r.length&&r[l].trim().startsWith(">");)f.push(r[l].replace(/^>\s?/,"")),l++;a.push(o.jsx("blockquote",{className:"my-2 pl-4 border-l-4 border-current/30 opacity-80 italic break-words",children:f.map((m,h)=>o.jsx("div",{className:"break-words",children:xn(m)},h))},a.length));continue}if(c.match(/^[\s]*[-*_]{3,}[\s]*$/)){a.push(o.jsx("hr",{className:"my-4 border-t border-border"},a.length)),l++;continue}if(c.trim()===""){a.push(o.jsx("div",{className:"h-2"},a.length)),l++;continue}a.push(o.jsx("p",{className:"my-1 break-words",children:xn(c)},a.length)),l++}return o.jsx("div",{className:`markdown-content break-words ${n}`,children:a})}function xn(e){const n=[];let r=e,a=0;for(;r.length>0;){const l=r.match(/`([^`]+)`/);if(l&&l.index!==void 0){l.index>0&&n.push(o.jsx("span",{children:Ji(r.slice(0,l.index))},a++)),n.push(o.jsx("code",{className:"px-1.5 py-0.5 bg-foreground/10 rounded text-xs font-mono border border-foreground/20",children:l[1]},a++)),r=r.slice(l.index+l[0].length);continue}n.push(o.jsx("span",{children:Ji(r)},a++));break}return n}function Ji(e){const n=[];let r=e,a=0;for(;r.length>0;){const l=[{regex:/\*\*\[([^\]]+)\]\(([^)]+)\)\*\*/,component:"strong-link"},{regex:/__\[([^\]]+)\]\(([^)]+)\)__/,component:"strong-link"},{regex:/\*\[([^\]]+)\]\(([^)]+)\)\*/,component:"em-link"},{regex:/_\[([^\]]+)\]\(([^)]+)\)_/,component:"em-link"},{regex:/\[([^\]]+)\]\(([^)]+)\)/,component:"link"},{regex:/\*\*(.+?)\*\*/,component:"strong"},{regex:/__(.+?)__/,component:"strong"},{regex:/\*(.+?)\*/,component:"em"},{regex:/_(.+?)_/,component:"em"}];let c=!1;for(const d of l){const f=r.match(d.regex);if(f&&f.index!==void 0){if(f.index>0&&n.push(r.slice(0,f.index)),d.component==="strong")n.push(o.jsx("strong",{className:"font-semibold",children:f[1]},a++));else if(d.component==="em")n.push(o.jsx("em",{className:"italic",children:f[1]},a++));else if(d.component==="strong-link"){const m=f[1],h=f[2],g=Ji(m);n.push(o.jsx("strong",{className:"font-semibold",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g})},a++))}else if(d.component==="em-link"){const m=f[1],h=f[2],g=Ji(m);n.push(o.jsx("em",{className:"italic",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g})},a++))}else if(d.component==="link"){const m=f[1],h=f[2],g=Ji(m);n.push(o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g},a++))}r=r.slice(f.index+f[0].length),c=!0;break}}if(!c){r.length>0&&n.push(r);break}}return n}function bR({content:e,className:n,isStreaming:r}){if(e.type!=="text"&&e.type!=="input_text"&&e.type!=="output_text")return null;const a=e.text;return o.jsxs("div",{className:`break-words ${n||""}`,children:[o.jsx(vR,{content:a}),r&&a.length>0&&o.jsx("span",{className:"ml-1 inline-block h-2 w-2 animate-pulse rounded-full bg-current"})]})}function wR({content:e,className:n}){const[r,a]=w.useState(!1),[l,c]=w.useState(!1);if(e.type!=="input_image"&&e.type!=="output_image")return null;const d=e.image_url;return r?o.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Ps,{className:"h-4 w-4"}),o.jsx("span",{children:"Image could not be loaded"})]})}):o.jsxs("div",{className:`my-2 ${n||""}`,children:[o.jsx("img",{src:d,alt:"Uploaded image",className:`rounded-lg border max-w-full transition-all cursor-pointer ${l?"max-h-none":"max-h-64"}`,onClick:()=>c(!l),onError:()=>a(!0)}),l&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to collapse"})]})}function NR(e,n){const[r,a]=w.useState(null);return w.useEffect(()=>{if(!e){a(null);return}try{let l;if(e.startsWith("data:")){const h=e.split(",");if(h.length!==2){a(null);return}l=h[1]}else l=e;const c=atob(l),d=new Uint8Array(c.length);for(let h=0;h<c.length;h++)d[h]=c.charCodeAt(h);const f=new Blob([d],{type:n}),m=URL.createObjectURL(f);return a(m),()=>{URL.revokeObjectURL(m)}}catch(l){console.error("Failed to convert base64 to blob URL:",l),a(null)}},[e,n]),r}function jR({content:e,className:n}){const[r,a]=w.useState(!0),l=e.type==="input_file"||e.type==="output_file",c=l?e.file_url||e.file_data:void 0,d=l?e.filename||"file":void 0,f=d?.toLowerCase().endsWith(".pdf")||c?.includes("application/pdf"),m=d?.toLowerCase().match(/\.(mp3|wav|m4a|ogg|flac|aac)$/),h=l&&f?e.file_data||e.file_url:void 0,g=NR(h,"application/pdf");if(!l)return null;const y=g||c,x=()=>{y&&window.open(y,"_blank")};return f&&c?o.jsxs("div",{className:`my-2 ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(Ps,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm font-medium truncate flex-1",children:d}),o.jsx("button",{onClick:()=>a(!r),className:"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Mt,{className:"h-3 w-3"}),"Collapse"]}):o.jsxs(o.Fragment,{children:[o.jsx(Jt,{className:"h-3 w-3"}),"Expand"]})})]}),r&&o.jsxs("div",{className:"border rounded-lg p-6 bg-muted/50 flex flex-col items-center justify-center gap-4",children:[o.jsx(Ps,{className:"h-16 w-16 text-red-400"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:d}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF Document"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:x,className:"text-sm bg-primary text-primary-foreground hover:bg-primary/90 flex items-center gap-2 px-4 py-2 rounded-md transition-colors",children:"Open in new tab"}),o.jsxs("a",{href:y||c,download:d,className:"text-sm text-foreground hover:bg-accent flex items-center gap-2 px-4 py-2 border rounded-md transition-colors",children:[o.jsx(Ou,{className:"h-4 w-4"}),"Download"]})]})]})]}):m&&c?o.jsxs("div",{className:`my-2 p-3 border rounded-lg ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Z1,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:d})]}),o.jsxs("audio",{controls:!0,className:"w-full",children:[o.jsx("source",{src:c}),"Your browser does not support audio playback."]})]}):o.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:d})]}),c&&o.jsxs("a",{href:c,download:d,className:"text-xs text-primary hover:underline flex items-center gap-1",children:[o.jsx(Ou,{className:"h-3 w-3"}),"Download"]})]})})}function SR({content:e,className:n}){const[r,a]=w.useState(!1);if(e.type!=="output_data")return null;const l=e.data,c=e.mime_type,d=e.description;let f=l;try{const m=JSON.parse(l);f=JSON.stringify(m,null,2)}catch{}return o.jsxs("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a(!r),children:[o.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:d||"Data Output"}),o.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:c}),r?o.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),r&&o.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-64 bg-background p-2 rounded border font-mono",children:f})]})}function _R({content:e,className:n}){const[r,a]=w.useState(!1);if(e.type!=="function_approval_request")return null;const{status:l,function_call:c}=e,f={pending:{icon:Yp,label:"Awaiting approval",iconClass:"text-amber-600 dark:text-amber-400"},approved:{icon:wo,label:"Approved",iconClass:"text-green-600 dark:text-green-400"},rejected:{icon:ja,label:"Rejected",iconClass:"text-red-600 dark:text-red-400"}}[l],m=f.icon;let h;try{h=typeof c.arguments=="string"?JSON.parse(c.arguments):c.arguments}catch{h=c.arguments}return o.jsxs("div",{className:n,children:[o.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 px-2 py-1 text-xs rounded hover:bg-muted/50 transition-colors w-fit",children:[o.jsx(m,{className:`h-3 w-3 ${f.iconClass}`}),o.jsx("span",{className:"text-muted-foreground font-mono",children:c.name}),o.jsx("span",{className:`text-xs ${f.iconClass}`,children:f.label}),r?o.jsx("span",{className:"text-xs text-muted-foreground",children:""}):o.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),r&&o.jsx("div",{className:"ml-5 mt-1 text-xs font-mono text-muted-foreground border-l-2 border-muted pl-3",children:o.jsx("pre",{className:"whitespace-pre-wrap break-all",children:JSON.stringify(h,null,2)})})]})}function ER({content:e,className:n,isStreaming:r}){switch(e.type){case"text":case"input_text":case"output_text":return o.jsx(bR,{content:e,className:n,isStreaming:r});case"input_image":case"output_image":return o.jsx(wR,{content:e,className:n});case"input_file":case"output_file":return o.jsx(jR,{content:e,className:n});case"output_data":return o.jsx(SR,{content:e,className:n});case"function_approval_request":return o.jsx(_R,{content:e,className:n});default:return null}}function CR({name:e,arguments:n,className:r}){const[a,l]=w.useState(!1);let c;try{c=typeof n=="string"?JSON.parse(n):n}catch{c=n}return o.jsxs("div",{className:`my-2 p-3 border rounded bg-blue-50 dark:bg-blue-950/20 ${r||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>l(!a),children:[o.jsx(Y1,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:["Function Call: ",e]}),a?o.jsx(Mt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"}):o.jsx(Jt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"})]}),a&&o.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 mb-1",children:"Arguments:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c,null,2)})]})]})}function kR({output:e,call_id:n,className:r}){const[a,l]=w.useState(!1);let c;try{c=typeof e=="string"?JSON.parse(e):e}catch{c=e}return o.jsxs("div",{className:`my-2 p-3 border rounded bg-green-50 dark:bg-green-950/20 ${r||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>l(!a),children:[o.jsx(Y1,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Function Result"}),a?o.jsx(Mt,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"}):o.jsx(Jt,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"})]}),a&&o.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c,null,2)}),o.jsxs("div",{className:"text-gray-500 text-[10px] mt-2",children:["Call ID: ",n]})]})]})}function AR({item:e,className:n}){if(e.type==="message"){const r=e.status==="in_progress",a=e.content.length>0;return o.jsxs("div",{className:n,children:[e.content.map((l,c)=>o.jsx(ER,{content:l,className:c>0?"mt-2":"",isStreaming:r},c)),r&&!a&&o.jsx("div",{className:"flex items-center space-x-1",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.3s]"}),o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.15s]"}),o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current"})]})})]})}return e.type==="function_call"?o.jsx(CR,{name:e.name,arguments:e.arguments,className:n}):e.type==="function_call_output"?o.jsx(kR,{output:e.output,call_id:e.call_id,className:n}):null}var s2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MR="VisuallyHidden",TR=w.forwardRef((e,n)=>o.jsx(Ye.span,{...e,ref:n,style:{...s2,...e.style}}));TR.displayName=MR;var RR=[" ","Enter","ArrowUp","ArrowDown"],DR=[" ","Enter"],ho="Select",[wd,Nd,OR]=Sp(ho),[La,lL]=ds(ho,[OR,od]),jd=od(),[zR,Ir]=La(ho),[IR,LR]=La(ho),r2=e=>{const{__scopeSelect:n,children:r,open:a,defaultOpen:l,onOpenChange:c,value:d,defaultValue:f,onValueChange:m,dir:h,name:g,autoComplete:y,disabled:x,required:b,form:j}=e,N=jd(n),[S,_]=w.useState(null),[M,E]=w.useState(null),[T,R]=w.useState(!1),D=vl(h),[O,P]=uo({prop:a,defaultProp:l??!1,onChange:c,caller:ho}),[q,K]=uo({prop:d,defaultProp:f,onChange:m,caller:ho}),J=w.useRef(null),G=S?j||!!S.closest("form"):!0,[Z,B]=w.useState(new Set),U=Array.from(Z).map(k=>k.props.value).join(";");return o.jsx(qw,{...N,children:o.jsxs(zR,{required:b,scope:n,trigger:S,onTriggerChange:_,valueNode:M,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:R,contentId:fo(),value:q,onValueChange:K,open:O,onOpenChange:P,dir:D,triggerPointerDownPosRef:J,disabled:x,children:[o.jsx(wd.Provider,{scope:n,children:o.jsx(IR,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(k=>{B(L=>new Set(L).add(k))},[]),onNativeOptionRemove:w.useCallback(k=>{B(L=>{const I=new Set(L);return I.delete(k),I})},[]),children:r})}),G?o.jsxs(E2,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:y,value:q,onChange:k=>K(k.target.value),disabled:x,form:j,children:[q===void 0?o.jsx("option",{value:""}):null,Array.from(Z)]},U):null]})})};r2.displayName=ho;var o2="SelectTrigger",a2=w.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:a=!1,...l}=e,c=jd(r),d=Ir(o2,r),f=d.disabled||a,m=rt(n,d.onTriggerChange),h=Nd(r),g=w.useRef("touch"),[y,x,b]=k2(N=>{const S=h().filter(E=>!E.disabled),_=S.find(E=>E.value===d.value),M=A2(S,N,_);M!==void 0&&d.onValueChange(M.value)}),j=N=>{f||(d.onOpenChange(!0),b()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return o.jsx(Fw,{asChild:!0,...c,children:o.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":C2(d.value)?"":void 0,...l,ref:m,onClick:Me(l.onClick,N=>{N.currentTarget.focus(),g.current!=="mouse"&&j(N)}),onPointerDown:Me(l.onPointerDown,N=>{g.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:Me(l.onKeyDown,N=>{const S=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&x(N.key),!(S&&N.key===" ")&&RR.includes(N.key)&&(j(),N.preventDefault())})})})});a2.displayName=o2;var i2="SelectValue",l2=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:l,children:c,placeholder:d="",...f}=e,m=Ir(i2,r),{onValueNodeHasChildrenChange:h}=m,g=c!==void 0,y=rt(n,m.onValueNodeChange);return Gt(()=>{h(g)},[h,g]),o.jsx(Ye.span,{...f,ref:y,style:{pointerEvents:"none"},children:C2(m.value)?o.jsx(o.Fragment,{children:d}):c})});l2.displayName=i2;var $R="SelectIcon",c2=w.forwardRef((e,n)=>{const{__scopeSelect:r,children:a,...l}=e;return o.jsx(Ye.span,{"aria-hidden":!0,...l,ref:n,children:a||""})});c2.displayName=$R;var HR="SelectPortal",u2=e=>o.jsx(Ip,{asChild:!0,...e});u2.displayName=HR;var po="SelectContent",d2=w.forwardRef((e,n)=>{const r=Ir(po,e.__scopeSelect),[a,l]=w.useState();if(Gt(()=>{l(new DocumentFragment)},[]),!r.open){const c=a;return c?yl.createPortal(o.jsx(f2,{scope:e.__scopeSelect,children:o.jsx(wd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),c):null}return o.jsx(m2,{...e,ref:n})});d2.displayName=po;var Pn=10,[f2,Lr]=La(po),PR="SelectContentImpl",BR=ba("SelectContent.RemoveScroll"),m2=w.forwardRef((e,n)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:m,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:N,avoidCollisions:S,..._}=e,M=Ir(po,r),[E,T]=w.useState(null),[R,D]=w.useState(null),O=rt(n,te=>T(te)),[P,q]=w.useState(null),[K,J]=w.useState(null),G=Nd(r),[Z,B]=w.useState(!1),U=w.useRef(!1);w.useEffect(()=>{if(E)return n1(E)},[E]),ww();const k=w.useCallback(te=>{const[ie,...ge]=G().map(ne=>ne.ref.current),[we]=ge.slice(-1),Ne=document.activeElement;for(const ne of te)if(ne===Ne||(ne?.scrollIntoView({block:"nearest"}),ne===ie&&R&&(R.scrollTop=0),ne===we&&R&&(R.scrollTop=R.scrollHeight),ne?.focus(),document.activeElement!==Ne))return},[G,R]),L=w.useCallback(()=>k([P,E]),[k,P,E]);w.useEffect(()=>{Z&&L()},[Z,L]);const{onOpenChange:I,triggerPointerDownPosRef:H}=M;w.useEffect(()=>{if(E){let te={x:0,y:0};const ie=we=>{te={x:Math.abs(Math.round(we.pageX)-(H.current?.x??0)),y:Math.abs(Math.round(we.pageY)-(H.current?.y??0))}},ge=we=>{te.x<=10&&te.y<=10?we.preventDefault():E.contains(we.target)||I(!1),document.removeEventListener("pointermove",ie),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ge,{capture:!0})}}},[E,I,H]),w.useEffect(()=>{const te=()=>I(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[I]);const[C,$]=k2(te=>{const ie=G().filter(Ne=>!Ne.disabled),ge=ie.find(Ne=>Ne.ref.current===document.activeElement),we=A2(ie,te,ge);we&&setTimeout(()=>we.ref.current.focus())}),Y=w.useCallback((te,ie,ge)=>{const we=!U.current&&!ge;(M.value!==void 0&&M.value===ie||we)&&(q(te),we&&(U.current=!0))},[M.value]),V=w.useCallback(()=>E?.focus(),[E]),W=w.useCallback((te,ie,ge)=>{const we=!U.current&&!ge;(M.value!==void 0&&M.value===ie||we)&&J(te)},[M.value]),fe=a==="popper"?ep:h2,ue=fe===ep?{side:f,sideOffset:m,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:N,avoidCollisions:S}:{};return o.jsx(f2,{scope:r,content:E,viewport:R,onViewportChange:D,itemRefCallback:Y,selectedItem:P,onItemLeave:V,itemTextRefCallback:W,focusSelectedItem:L,selectedItemText:K,position:a,isPositioned:Z,searchRef:C,children:o.jsx(Lp,{as:BR,allowPinchZoom:!0,children:o.jsx(Ep,{asChild:!0,trapped:M.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Me(l,te=>{M.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(_p,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:o.jsx(fe,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:te=>te.preventDefault(),..._,...ue,onPlaced:()=>B(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Me(_.onKeyDown,te=>{const ie=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ie&&te.key.length===1&&$(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let we=G().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(te.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ne=te.target,ne=we.indexOf(Ne);we=we.slice(ne+1)}setTimeout(()=>k(we)),te.preventDefault()}})})})})})})});m2.displayName=PR;var UR="SelectItemAlignedPosition",h2=w.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:a,...l}=e,c=Ir(po,r),d=Lr(po,r),[f,m]=w.useState(null),[h,g]=w.useState(null),y=rt(n,O=>g(O)),x=Nd(r),b=w.useRef(!1),j=w.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:_,focusSelectedItem:M}=d,E=w.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&h&&N&&S&&_){const O=c.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),K=_.getBoundingClientRect();if(c.dir!=="rtl"){const Ne=K.left-P.left,ne=q.left-Ne,pe=O.left-ne,he=O.width+pe,ee=Math.max(he,P.width),ve=window.innerWidth-Pn,ye=Qh(ne,[Pn,Math.max(Pn,ve-ee)]);f.style.minWidth=he+"px",f.style.left=ye+"px"}else{const Ne=P.right-K.right,ne=window.innerWidth-q.right-Ne,pe=window.innerWidth-O.right-ne,he=O.width+pe,ee=Math.max(he,P.width),ve=window.innerWidth-Pn,ye=Qh(ne,[Pn,Math.max(Pn,ve-ee)]);f.style.minWidth=he+"px",f.style.right=ye+"px"}const J=x(),G=window.innerHeight-Pn*2,Z=N.scrollHeight,B=window.getComputedStyle(h),U=parseInt(B.borderTopWidth,10),k=parseInt(B.paddingTop,10),L=parseInt(B.borderBottomWidth,10),I=parseInt(B.paddingBottom,10),H=U+k+Z+I+L,C=Math.min(S.offsetHeight*5,H),$=window.getComputedStyle(N),Y=parseInt($.paddingTop,10),V=parseInt($.paddingBottom,10),W=O.top+O.height/2-Pn,fe=G-W,ue=S.offsetHeight/2,te=S.offsetTop+ue,ie=U+k+te,ge=H-ie;if(ie<=W){const Ne=J.length>0&&S===J[J.length-1].ref.current;f.style.bottom="0px";const ne=h.clientHeight-N.offsetTop-N.offsetHeight,pe=Math.max(fe,ue+(Ne?V:0)+ne+L),he=ie+pe;f.style.height=he+"px"}else{const Ne=J.length>0&&S===J[0].ref.current;f.style.top="0px";const pe=Math.max(W,U+N.offsetTop+(Ne?Y:0)+ue)+ge;f.style.height=pe+"px",N.scrollTop=ie-W+N.offsetTop}f.style.margin=`${Pn}px 0`,f.style.minHeight=C+"px",f.style.maxHeight=G+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[x,c.trigger,c.valueNode,f,h,N,S,_,c.dir,a]);Gt(()=>E(),[E]);const[T,R]=w.useState();Gt(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const D=w.useCallback(O=>{O&&j.current===!0&&(E(),M?.(),j.current=!1)},[E,M]);return o.jsx(qR,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:o.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(Ye.div,{...l,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});h2.displayName=UR;var VR="SelectPopperPosition",ep=w.forwardRef((e,n)=>{const{__scopeSelect:r,align:a="start",collisionPadding:l=Pn,...c}=e,d=jd(r);return o.jsx(Yw,{...d,...c,ref:n,align:a,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ep.displayName=VR;var[qR,cg]=La(po,{}),tp="SelectViewport",p2=w.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:a,...l}=e,c=Lr(tp,r),d=cg(tp,r),f=rt(n,c.onViewportChange),m=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(wd.Slot,{scope:r,children:o.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:Me(l.onScroll,h=>{const g=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=d;if(x?.current&&y){const b=Math.abs(m.current-g.scrollTop);if(b>0){const j=window.innerHeight-Pn*2,N=parseFloat(y.style.minHeight),S=parseFloat(y.style.height),_=Math.max(N,S);if(_<j){const M=_+b,E=Math.min(j,M),T=M-E;y.style.height=E+"px",y.style.bottom==="0px"&&(g.scrollTop=T>0?T:0,y.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});p2.displayName=tp;var g2="SelectGroup",[FR,YR]=La(g2),GR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=fo();return o.jsx(FR,{scope:r,id:l,children:o.jsx(Ye.div,{role:"group","aria-labelledby":l,...a,ref:n})})});GR.displayName=g2;var x2="SelectLabel",XR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=YR(x2,r);return o.jsx(Ye.div,{id:l.id,...a,ref:n})});XR.displayName=x2;var Uu="SelectItem",[ZR,y2]=La(Uu),v2=w.forwardRef((e,n)=>{const{__scopeSelect:r,value:a,disabled:l=!1,textValue:c,...d}=e,f=Ir(Uu,r),m=Lr(Uu,r),h=f.value===a,[g,y]=w.useState(c??""),[x,b]=w.useState(!1),j=rt(n,M=>m.itemRefCallback?.(M,a,l)),N=fo(),S=w.useRef("touch"),_=()=>{l||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(ZR,{scope:r,value:a,disabled:l,textId:N,isSelected:h,onItemTextChange:w.useCallback(M=>{y(E=>E||(M?.textContent??"").trim())},[]),children:o.jsx(wd.ItemSlot,{scope:r,value:a,disabled:l,textValue:g,children:o.jsx(Ye.div,{role:"option","aria-labelledby":N,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:j,onFocus:Me(d.onFocus,()=>b(!0)),onBlur:Me(d.onBlur,()=>b(!1)),onClick:Me(d.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:Me(d.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:Me(d.onPointerDown,M=>{S.current=M.pointerType}),onPointerMove:Me(d.onPointerMove,M=>{S.current=M.pointerType,l?m.onItemLeave?.():S.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(d.onPointerLeave,M=>{M.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:Me(d.onKeyDown,M=>{m.searchRef?.current!==""&&M.key===" "||(DR.includes(M.key)&&_(),M.key===" "&&M.preventDefault())})})})})});v2.displayName=Uu;var Zi="SelectItemText",b2=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:l,...c}=e,d=Ir(Zi,r),f=Lr(Zi,r),m=y2(Zi,r),h=LR(Zi,r),[g,y]=w.useState(null),x=rt(n,_=>y(_),m.onItemTextChange,_=>f.itemTextRefCallback?.(_,m.value,m.disabled)),b=g?.textContent,j=w.useMemo(()=>o.jsx("option",{value:m.value,disabled:m.disabled,children:b},m.value),[m.disabled,m.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=h;return Gt(()=>(N(j),()=>S(j)),[N,S,j]),o.jsxs(o.Fragment,{children:[o.jsx(Ye.span,{id:m.textId,...c,ref:x}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?yl.createPortal(c.children,d.valueNode):null]})});b2.displayName=Zi;var w2="SelectItemIndicator",N2=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return y2(w2,r).isSelected?o.jsx(Ye.span,{"aria-hidden":!0,...a,ref:n}):null});N2.displayName=w2;var np="SelectScrollUpButton",j2=w.forwardRef((e,n)=>{const r=Lr(np,e.__scopeSelect),a=cg(np,e.__scopeSelect),[l,c]=w.useState(!1),d=rt(n,a.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=m.scrollTop>0;c(h)};const m=r.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?o.jsx(_2,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=r;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});j2.displayName=np;var sp="SelectScrollDownButton",S2=w.forwardRef((e,n)=>{const r=Lr(sp,e.__scopeSelect),a=cg(sp,e.__scopeSelect),[l,c]=w.useState(!1),d=rt(n,a.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<h;c(g)};const m=r.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?o.jsx(_2,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=r;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});S2.displayName=sp;var _2=w.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:a,...l}=e,c=Lr("SelectScrollButton",r),d=w.useRef(null),f=Nd(r),m=w.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),Gt(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),o.jsx(Ye.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:Me(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:Me(l.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:Me(l.onPointerLeave,()=>{m()})})}),WR="SelectSeparator",KR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return o.jsx(Ye.div,{"aria-hidden":!0,...a,ref:n})});KR.displayName=WR;var rp="SelectArrow",QR=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=jd(r),c=Ir(rp,r),d=Lr(rp,r);return c.open&&d.position==="popper"?o.jsx(Gw,{...l,...a,ref:n}):null});QR.displayName=rp;var JR="SelectBubbleInput",E2=w.forwardRef(({__scopeSelect:e,value:n,...r},a)=>{const l=w.useRef(null),c=rt(a,l),d=ag(n);return w.useEffect(()=>{const f=l.current;if(!f)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==n&&g){const y=new Event("change",{bubbles:!0});g.call(f,n),f.dispatchEvent(y)}},[d,n]),o.jsx(Ye.select,{...r,style:{...s2,...r.style},ref:c,defaultValue:n})});E2.displayName=JR;function C2(e){return e===""||e===void 0}function k2(e){const n=Yt(e),r=w.useRef(""),a=w.useRef(0),l=w.useCallback(d=>{const f=r.current+d;n(f),(function m(h){r.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(f)},[n]),c=w.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,l,c]}function A2(e,n,r){const l=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=r?e.indexOf(r):-1;let d=e6(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==r));const m=d.find(h=>h.textValue.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function e6(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var t6=r2,n6=a2,s6=l2,r6=c2,o6=u2,a6=d2,i6=p2,l6=v2,c6=b2,u6=N2,d6=j2,f6=S2;function Sd({...e}){return o.jsx(t6,{"data-slot":"select",...e})}function _d({...e}){return o.jsx(s6,{"data-slot":"select-value",...e})}function Ed({className:e,size:n="default",children:r,...a}){return o.jsxs(n6,{"data-slot":"select-trigger","data-size":n,className:Xe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,o.jsx(r6,{asChild:!0,children:o.jsx(Mt,{className:"size-4 opacity-50"})})]})}function Cd({className:e,children:n,position:r="popper",...a}){return o.jsx(o6,{children:o.jsxs(a6,{"data-slot":"select-content",className:Xe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(m6,{}),o.jsx(i6,{className:Xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),o.jsx(h6,{})]})})}function kd({className:e,children:n,...r}){return o.jsxs(l6,{"data-slot":"select-item",className:Xe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(u6,{children:o.jsx(wo,{className:"size-4"})})}),o.jsx(c6,{children:n})]})}function m6({className:e,...n}){return o.jsx(d6,{"data-slot":"select-scroll-up-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...n,children:o.jsx(Du,{className:"size-4"})})}function h6({className:e,...n}){return o.jsx(f6,{"data-slot":"select-scroll-down-button",className:Xe("flex cursor-default items-center justify-center py-1",e),...n,children:o.jsx(Mt,{className:"size-4"})})}function so({title:e,icon:n,children:r,className:a=""}){return o.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n,o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function p6({agent:e,open:n,onOpenChange:r}){const a=e.source==="directory"?o.jsx(G1,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?o.jsx(Gh,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(X1,{className:"h-4 w-4 text-muted-foreground"}),l=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return o.jsx(Rr,{open:n,onOpenChange:r,children:o.jsxs(Dr,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs(Or,{className:"px-6 pt-6 flex-shrink-0",children:[o.jsx(zr,{children:"Agent Details"}),o.jsx(No,{onClose:()=>r(!1)})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Hs,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"h-px bg-border mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(e.model_id||e.chat_client_type)&&o.jsx(so,{title:"Model & Client",icon:o.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsxs("div",{className:"space-y-1",children:[e.model_id&&o.jsx("div",{className:"font-mono text-foreground",children:e.model_id}),e.chat_client_type&&o.jsxs("div",{className:"text-xs",children:["(",e.chat_client_type,")"]})]})}),o.jsx(so,{title:"Source",icon:a,children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-foreground",children:l}),e.module_path&&o.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),o.jsx(so,{title:"Environment",icon:e.has_env?o.jsx(Sl,{className:"h-4 w-4 text-orange-500"}):o.jsx(dd,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:o.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),e.instructions&&o.jsx(so,{title:"Instructions",icon:o.jsx(Ps,{className:"h-4 w-4 text-muted-foreground"}),className:"mb-4",children:o.jsx("div",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:e.instructions})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.tools&&e.tools.length>0&&o.jsx(so,{title:`Tools (${e.tools.length})`,icon:o.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("ul",{className:"space-y-1",children:e.tools.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})}),e.middleware&&e.middleware.length>0&&o.jsx(so,{title:`Middleware (${e.middleware.length})`,icon:o.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("ul",{className:"space-y-1",children:e.middleware.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})}),e.context_providers&&e.context_providers.length>0&&o.jsx(so,{title:`Context Providers (${e.context_providers.length})`,icon:o.jsx(Gh,{className:"h-4 w-4 text-muted-foreground"}),className:!e.middleware||e.middleware.length===0?"md:col-start-2":"",children:o.jsx("ul",{className:"space-y-1",children:e.context_providers.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})})]})]})]})})}function g6({item:e,toolCalls:n=[],toolResults:r=[]}){const[a,l]=w.useState(!1),[c,d]=w.useState(!1),[f,m]=w.useState(!1),h=de(x=>x.showToolCalls),g=()=>e.type==="message"?e.content.filter(x=>x.type==="text").map(x=>x.text).join(`
`):"",y=async()=>{const x=g();if(x)try{await navigator.clipboard.writeText(x),d(!0),setTimeout(()=>d(!1),2e3)}catch(b){console.error("Failed to copy:",b)}};if(e.type==="message"){const x=e.role==="user",b=e.status==="incomplete",j=x?W1:b?cs:Hs,N=g();return o.jsxs("div",{className:`flex gap-3 ${x?"flex-row-reverse":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[o.jsx("div",{className:`flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border ${x?"bg-primary text-primary-foreground":b?"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800":"bg-muted"}`,children:o.jsx(j,{className:"h-4 w-4"})}),o.jsxs("div",{className:`flex flex-col space-y-1 ${x?"items-end":"items-start"} max-w-[80%]`,children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:`rounded px-3 py-2 text-sm ${x?"bg-primary text-primary-foreground":b?"bg-orange-50 dark:bg-orange-950/50 text-orange-800 dark:text-orange-200 border border-orange-200 dark:border-orange-800":"bg-muted"}`,children:[b&&o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx(cs,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-medium text-sm",children:"Unable to process request"})]}),o.jsx("div",{className:b?"text-xs leading-relaxed break-all":"",children:o.jsx(AR,{item:e})})]}),N&&a&&o.jsx("button",{onClick:y,className:`absolute top-1 right-1
                           p-1.5 rounded-md border shadow-sm
                           bg-background hover:bg-accent
                           text-muted-foreground hover:text-foreground
                           transition-all duration-200 ease-in-out
                           opacity-0 group-hover:opacity-100`,title:c?"Copied!":"Copy message",children:c?o.jsx(FA,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"}):o.jsx(oo,{className:"h-3.5 w-3.5"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[o.jsx("span",{children:e.created_at?new Date(e.created_at*1e3).toLocaleTimeString():new Date().toLocaleTimeString()}),!x&&e.usage&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",e.usage.input_tokens]}),o.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["",e.usage.output_tokens]}),o.jsxs("span",{children:["(",e.usage.total_tokens," tokens)"]})]})]}),!x&&h&&n.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-1 hover:text-foreground transition-colors",title:`${n.length} tool call${n.length>1?"s":""} - click to ${f?"hide":"show"} details`,children:[o.jsx(Na,{className:"h-3 w-3"}),o.jsx("span",{children:n.length})]})]})]}),!x&&f&&n.length>0&&o.jsx("div",{className:"mt-2 ml-0 p-3 bg-muted/30 rounded-md border border-muted",children:o.jsx("div",{className:"space-y-2",children:n.map(S=>{const _=r.find(M=>M.call_id===S.call_id);return o.jsx("div",{className:"text-xs",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Na,{className:"h-3 w-3 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"font-mono text-muted-foreground",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:S.name}),o.jsx("span",{className:"text-muted-foreground/60 ml-1",children:S.arguments&&o.jsxs("span",{className:"break-all",children:["(",S.arguments,")"]})})]}),_&&_.output&&o.jsx("div",{className:"mt-1 pl-5 border-l-2 border-green-600/20",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(wo,{className:"h-3 w-3 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),o.jsx("pre",{className:"font-mono text-muted-foreground whitespace-pre-wrap break-all",children:_.output.substring(0,200)+(_.output.length>200?"...":"")})]})}),S.status==="incomplete"&&o.jsx("div",{className:"mt-1 pl-5 border-l-2 border-orange-600/20",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(ja,{className:"h-3 w-3 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:"Failed"})]})})]})]})},S.id)})})})]})]})}return e.type==="function_call"||e.type==="function_call_output",null}function x6({selectedAgent:e,onDebugEvent:n}){const r=de(ne=>ne.currentConversation),a=de(ne=>ne.availableConversations),l=de(ne=>ne.chatItems),c=de(ne=>ne.isStreaming),d=de(ne=>ne.isSubmitting),f=de(ne=>ne.loadingConversations),m=de(ne=>ne.uiMode),h=de(ne=>ne.conversationUsage),g=de(ne=>ne.pendingApprovals),y=de(ne=>ne.oaiMode),x=de(ne=>ne.setCurrentConversation),b=de(ne=>ne.setAvailableConversations),j=de(ne=>ne.setChatItems),N=de(ne=>ne.setIsStreaming),S=de(ne=>ne.setIsSubmitting),_=de(ne=>ne.setLoadingConversations),M=de(ne=>ne.updateConversationUsage),E=de(ne=>ne.setPendingApprovals),[T,R]=w.useState(!1),[D,O]=w.useState(null),[P,q]=w.useState(!1),[K,J]=w.useState(!1),{isCancelling:G,createAbortSignal:Z,handleCancel:B,resetCancelling:U}=WN(),{isDragOver:k,droppedFiles:L,clearDroppedFiles:I,dragHandlers:H}=Q5({disabled:d||c}),C=w.useRef(null),$=w.useRef(null),Y=w.useRef(null),V=w.useRef(!1),W=w.useRef("");w.useEffect(()=>{if(!$.current)return;const ne=C.current?.querySelector("[data-radix-scroll-area-viewport]");let pe=!1;if(ne){const{scrollTop:he,scrollHeight:ee,clientHeight:ve}=ne,ye=ee-he-ve<100;pe=V.current||ye}else pe=!0;pe&&$.current.scrollIntoView({behavior:c?"instant":"smooth"}),V.current&&!c&&(V.current=!1)},[l,c]),w.useEffect(()=>{},[c,d]),w.useEffect(()=>{const ne=async(he,ee,ve)=>{const ye=xa(ee.id);if(!ye||!ye.responseId){N(!1);return}try{const Te={model:ve.id,input:[],stream:!0,conversation:ee.id},_e=Qe.streamAgentExecutionOpenAIDirect(ve.id,Te,ee.id,void 0,ye.responseId);for await(const Pe of _e){if(n(Pe),Pe.type==="response.completed"){const Re=Pe.response?.usage;Re&&(Y.current={input_tokens:Re.input_tokens,output_tokens:Re.output_tokens,total_tokens:Re.total_tokens});continue}if(Pe.type==="response.failed"){const Re=Pe.response?.error,ze=Re?typeof Re=="object"&&"message"in Re?Re.message:JSON.stringify(Re):"Request failed",Be=de.getState().chatItems;j(Be.map(Ue=>Ue.id===he.id&&Ue.type==="message"?{...Ue,content:[{type:"text",text:W.current||ze}],status:"incomplete"}:Ue)),N(!1);return}if(Pe.type==="response.function_approval.requested"){const je=Pe;E([...de.getState().pendingApprovals,{request_id:je.request_id,function_call:je.function_call}]);continue}if(Pe.type==="response.function_approval.responded"){const je=Pe;E(de.getState().pendingApprovals.filter(Re=>Re.request_id!==je.request_id));continue}if(Pe.type==="error"){const Re=Pe.message||"An error occurred",ze=de.getState().chatItems;j(ze.map(Be=>Be.id===he.id&&Be.type==="message"?{...Be,content:[{type:"text",text:W.current||Re}],status:"incomplete"}:Be)),N(!1);return}if(Pe.type==="response.output_text.delta"&&"delta"in Pe&&Pe.delta){W.current+=Pe.delta;const je=de.getState().chatItems;j(je.map(Re=>Re.id===he.id&&Re.type==="message"?{...Re,content:[{type:"text",text:W.current}],status:"in_progress"}:Re))}}const Ee=Y.current,at=de.getState().chatItems;j(at.map(Pe=>Pe.id===he.id&&Pe.type==="message"?{...Pe,status:"completed",usage:Ee||void 0}:Pe)),N(!1),Ee&&M(Ee.total_tokens),Y.current=null}catch(Te){const _e=de.getState().chatItems;j(_e.map(Ee=>Ee.id===he.id&&Ee.type==="message"?{...Ee,content:[{type:"text",text:`Error resuming stream: ${Te instanceof Error?Te.message:"Unknown error"}`}],status:"incomplete"}:Ee)),N(!1)}},pe=async()=>{if(e){_(!0);try{try{const{data:ye}=await Qe.listConversations(e.id);if(b(ye),ye.length>0){const Te=ye[0];x(Te);try{let _e=[],Ee=!0,at,Pe=[];for(;Ee;){const Re=await Qe.listConversationItems(Te.id,{order:"asc",after:at});_e=_e.concat(Re.data),Ee=Re.has_more,Re.metadata?.traces&&Re.metadata.traces.length>0&&(Pe=Re.metadata.traces),Ee&&Re.data.length>0&&(at=Re.data[Re.data.length-1].id)}if(j(_e),N(!1),Pe.length>0){n("clear");for(const Re of Pe)n({type:"response.trace.completed",data:Re,sequence_number:0})}const je=xa(Te.id);if(je&&!je.completed){W.current=je.accumulatedText||"";const Re={id:je.lastMessageId||`assistant-${Date.now()}`,type:"message",role:"assistant",content:je.accumulatedText?[{type:"text",text:je.accumulatedText}]:[],status:"in_progress"};j([..._e,Re]),N(!0),setTimeout(()=>{ne(Re,Te,e)},100)}setTimeout(()=>{$.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${Te.id}, starting fresh`),j([]),N(!1)}return}}catch{}const he=`devui_convs_${e.id}`,ee=localStorage.getItem(he);if(ee)try{const ye=JSON.parse(ee);if(ye.length>0)try{await Qe.listConversationItems(ye[0].id),b(ye),x(ye[0]),j([]),N(!1);return}catch{console.debug(`Cached conversation ${ye[0].id} no longer exists, clearing cache`),localStorage.removeItem(he)}}catch{localStorage.removeItem(he)}const ve=await Qe.createConversation({agent_id:e.id});x(ve),b([ve]),j([]),N(!1),O(null),localStorage.setItem(he,JSON.stringify([ve]))}catch(he){b([]),j([]),N(!1);const ee=he instanceof Error?he.message:"Failed to create conversation";O({message:ee,type:"conversation_creation_error"})}finally{_(!1)}}};j([]),N(!1),x(void 0),W.current="",pe()},[e,n,j,N,_,b,x,E,M]);const fe=w.useCallback(async()=>{if(e)try{const ne=await Qe.createConversation({agent_id:e.id});x(ne),b([ne,...de.getState().availableConversations]),j([]),N(!1),O(null),de.setState({conversationUsage:{total_tokens:0,message_count:0}}),W.current="",n("clear");const pe=`devui_convs_${e.id}`,he=[ne,...a];localStorage.setItem(pe,JSON.stringify(he))}catch(ne){const pe=ne instanceof Error?ne.message:"Failed to create conversation";O({message:pe,type:"conversation_creation_error"})}},[e,n,x,b,j,N]),ue=w.useCallback(async(ne,pe)=>{if(pe&&(pe.preventDefault(),pe.stopPropagation()),!!confirm("Delete this conversation? This cannot be undone."))try{if(await Qe.deleteConversation(ne)){const ee=a.filter(ve=>ve.id!==ne);if(b(ee),r?.id===ne)if(ee.length>0){const ve=ee[0];x(ve),j([]),N(!1)}else x(void 0),j([]),N(!1),de.setState({conversationUsage:{total_tokens:0,message_count:0}}),W.current="";n("clear")}}catch{alert("Failed to delete conversation. Please try again.")}},[a,r,n,b,x,j,N]),te=w.useCallback(async()=>{if(P||!e)return;q(!0);const ne=de.getState().addToast,pe=de.getState().updateAgent;try{await Qe.reloadEntity(e.id);const he=await Qe.getAgentInfo(e.id);pe(he),ne({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(he){const ee=he instanceof Error?he.message:"Failed to reload entity";ne({message:`Failed to reload: ${ee}`,type:"error",duration:6e3})}finally{q(!1)}},[P,e]),ie=w.useCallback(async ne=>{const pe=a.find(he=>he.id===ne);if(pe){x(pe),n("clear");try{let he=[],ee=!0,ve,ye=[];for(;ee;){const Ee=await Qe.listConversationItems(ne,{order:"asc",after:ve});he=he.concat(Ee.data),ee=Ee.has_more,Ee.metadata?.traces&&Ee.metadata.traces.length>0&&(ye=Ee.metadata.traces),ee&&Ee.data.length>0&&(ve=Ee.data[Ee.data.length-1].id)}const Te=he;if(j(Te),N(!1),ye.length>0)for(const Ee of ye)n({type:"response.trace.completed",data:Ee,sequence_number:0});de.setState({conversationUsage:{total_tokens:0,message_count:Te.length}});const _e=xa(ne);if(_e?.accumulatedText){W.current=_e.accumulatedText;const Ee={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[{type:"output_text",text:_e.accumulatedText}],status:"in_progress"};j([...Te,Ee]),N(!0)}setTimeout(()=>{$.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${ne}, starting with empty chat`),j([]),N(!1),de.setState({conversationUsage:{total_tokens:0,message_count:0}})}W.current=""}},[a,n,x,j,N]),ge=async(ne,pe)=>{const he=g.find(Ee=>Ee.request_id===ne);if(!he)return;const ee=Math.floor(Date.now()/1e3),ve={id:`user-approval-${Date.now()}`,type:"message",role:"user",content:[{type:"function_approval_request",request_id:ne,status:pe?"approved":"rejected",function_call:he.function_call}],status:"completed",created_at:ee},ye=de.getState().chatItems;j([...ye,ve]);const _e={input:[{type:"message",role:"user",content:[{type:"function_approval_response",request_id:ne,approved:pe,function_call:he.function_call}]}],conversation_id:r?.id};return E(de.getState().pendingApprovals.filter(Ee=>Ee.request_id!==ne)),_e},we=w.useCallback(async ne=>{if(!e)return;const pe=ne.input.some(ye=>ye.type==="message"&&Array.isArray(ye.content)&&ye.content.some(Te=>Te.type==="function_approval_response")),he=[];for(const ye of ne.input)if(ye.type==="message"&&Array.isArray(ye.content)){for(const Te of ye.content)if(Te.type==="input_text")he.push({type:"text",text:Te.text});else if(Te.type==="input_image")he.push({type:"input_image",image_url:Te.image_url||"",detail:"auto"});else if(Te.type==="input_file"){const _e=Te;he.push({type:"input_file",file_data:_e.file_data,filename:_e.filename})}}const ee=Math.floor(Date.now()/1e3);if(!pe&&he.length>0){const ye={id:`user-${Date.now()}`,type:"message",role:"user",content:he,status:"completed",created_at:ee};j([...de.getState().chatItems,ye])}N(!0);const ve={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[],status:"in_progress",created_at:ee};j([...de.getState().chatItems,ve]);try{let ye=r;if(!ye)try{ye=await Qe.createConversation({agent_id:e.id}),x(ye),b([ye,...de.getState().availableConversations]),O(null)}catch(je){const Re=je instanceof Error?je.message:"Failed to create conversation";O({message:Re,type:"conversation_creation_error"}),S(!1),N(!1);return}ye?.id&&Qe.clearStreamingState(ye.id);const Te={input:ne.input,conversation_id:ye?.id};W.current="";const _e=Z(),Ee=Qe.streamAgentExecutionOpenAI(e.id,Te,_e);for await(const je of Ee){if(n(je),je.type==="response.completed"){const ze=je.response?.usage;ze&&(Y.current={input_tokens:ze.input_tokens,output_tokens:ze.output_tokens,total_tokens:ze.total_tokens});continue}if(je.type==="response.failed"){const ze=je.response?.error;let Be="Request failed";ze&&(typeof ze=="object"&&"message"in ze?(Be=ze.message,"code"in ze&&ze.code&&(Be+=` (Code: ${ze.code})`)):typeof ze=="string"&&(Be=ze));const Ue=de.getState().chatItems;j(Ue.map(Nt=>Nt.id===ve.id&&Nt.type==="message"?{...Nt,content:[{type:"text",text:W.current||Be}],status:"incomplete"}:Nt)),N(!1);return}if(je.type==="response.function_approval.requested"){const Re=je;E([...de.getState().pendingApprovals,{request_id:Re.request_id,function_call:Re.function_call}]);const ze=de.getState().chatItems;j(ze.map(Be=>Be.id===ve.id&&Be.type==="message"?{...Be,content:[...Be.content,{type:"function_approval_request",request_id:Re.request_id,status:"pending",function_call:Re.function_call}],status:"in_progress"}:Be));continue}if(je.type==="response.function_call_arguments.delta"){const Re=je,ze=de.getState().chatItems;j(ze.map(Be=>Be.type==="function_call"&&Be.call_id===Re.item_id?{...Be,arguments:(Be.arguments||"")+(Re.delta||"")}:Be));continue}if(je.type==="response.function_result.complete"){const Re=je,ze={id:`result-${Date.now()}`,type:"function_call_output",call_id:Re.call_id,output:Re.output,status:Re.status==="completed"?"completed":"incomplete",created_at:Math.floor(Date.now()/1e3)},Be=de.getState().chatItems;j([...Be,ze]);continue}if(je.type==="error"){const ze=je.message||"An error occurred",Be=de.getState().chatItems;j(Be.map(Ue=>Ue.id===ve.id&&Ue.type==="message"?{...Ue,content:[{type:"text",text:ze}],status:"incomplete"}:Ue)),N(!1);return}if(je.type==="response.output_item.added"){const ze=je.item;if(ze.type==="function_call"){const Ue=ze,Nt={id:Ue.id||`call-${Date.now()}`,type:"function_call",name:Ue.name,arguments:Ue.arguments||"",call_id:Ue.call_id,status:Ue.status||"in_progress",created_at:Math.floor(Date.now()/1e3)},pt=de.getState().chatItems;j([...pt,Nt]);continue}const Be=de.getState().chatItems;j(Be.map(Ue=>{if(Ue.id===ve.id&&Ue.type==="message"){const Nt=Ue.content;let pt=null;if(ze.type==="output_image"?pt={type:"output_image",image_url:ze.image_url,alt_text:ze.alt_text,mime_type:ze.mime_type}:ze.type==="output_file"?pt={type:"output_file",filename:ze.filename,file_url:ze.file_url,file_data:ze.file_data,mime_type:ze.mime_type}:ze.type==="output_data"&&(pt={type:"output_data",data:ze.data,mime_type:ze.mime_type,description:ze.description}),pt)return{...Ue,content:[...Nt,pt],status:"in_progress"}}return Ue}));continue}if(je.type==="response.output_text.delta"&&"delta"in je&&je.delta){W.current+=je.delta;const Re=de.getState().chatItems;j(Re.map(ze=>{if(ze.id===ve.id&&ze.type==="message"){const Be=ze.content.filter(Ue=>Ue.type!=="text");return{...ze,content:[...Be,{type:"text",text:W.current}],status:"in_progress"}}return ze}))}}const at=Y.current,Pe=de.getState().chatItems;j(Pe.map(je=>je.id===ve.id&&je.type==="message"?{...je,status:"completed",usage:at||void 0}:je)),N(!1),at&&M(at.total_tokens),Y.current=null}catch(ye){if(Bu(ye)){J(!0);const Te=de.getState().chatItems;j(Te.map(_e=>_e.id===ve.id&&_e.type==="message"?{..._e,status:W.current?"completed":"incomplete",content:_e.content}:_e))}else{const Te=de.getState().chatItems;j(Te.map(_e=>_e.id===ve.id&&_e.type==="message"?{..._e,content:[{type:"text",text:`Error: ${ye instanceof Error?ye.message:"Failed to get response"}`}],status:"incomplete"}:_e))}N(!1),U()}},[e,r,n,j,N,x,b,E,M,Z,U]),Ne=async ne=>{if(!(!e||ne.length===0)){V.current=!0,J(!1),S(!0);try{await we({input:[{type:"message",role:"user",content:ne}],conversation_id:r?.id})}finally{S(!1)}}};return o.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] flex-col relative",...H,children:[k&&o.jsx("div",{className:"absolute inset-0 z-50 bg-blue-50/95 dark:bg-blue-950/95 backdrop-blur-sm flex items-center justify-center border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg m-2",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-lg font-medium mb-2",children:"Drop files here"}),o.jsx("div",{className:"text-blue-500/80 dark:text-blue-400/70 text-sm",children:"Images, PDFs, audio, and other files"})]})}),o.jsxs("div",{className:"border-b pb-2  p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("h2",{className:"font-semibold text-sm truncate",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hs,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:y.enabled?`Chat with ${y.model}`:`Chat with ${e.name||e.id}`})]})}),!y.enabled&&m==="developer"&&o.jsxs(o.Fragment,{children:[o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>R(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View agent details",children:o.jsx(qs,{className:"h-4 w-4"})}),e.source!=="in_memory"&&o.jsx(Oe,{variant:"ghost",size:"sm",onClick:te,disabled:P,className:"h-6 w-6 p-0 flex-shrink-0",title:P?"Reloading...":"Reload entity code (hot reload)",children:o.jsx(Zp,{className:`h-4 w-4 ${P?"animate-spin":""}`})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[o.jsxs(Sd,{value:r?.id||"",onValueChange:ie,disabled:f||d,children:[o.jsx(Ed,{className:"w-full sm:w-64",children:o.jsx(_d,{placeholder:f?"Loading...":a.length===0?"No conversations":r?`Conversation ${r.id.slice(-8)}`:"Select conversation",children:r&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs("span",{children:["Conversation ",r.id.slice(-8)]}),h.total_tokens>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"text-muted-foreground",children:[h.total_tokens>=1e3?`${(h.total_tokens/1e3).toFixed(1)}k`:h.total_tokens," ","tokens"]})]})]})})}),o.jsx(Cd,{children:a.map(ne=>o.jsx(kd,{value:ne.id,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("span",{children:["Conversation ",ne.id.slice(-8)]}),ne.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(ne.created_at*1e3).toLocaleDateString()})]})},ne.id))})]}),o.jsx(Oe,{variant:"outline",size:"icon",onClick:()=>r&&ue(r.id),disabled:!r||d,title:r?`Delete Conversation ${r.id.slice(-8)}`:"No conversation selected",children:o.jsx(Qp,{className:"h-4 w-4"})}),o.jsxs(Oe,{variant:"outline",size:"lg",onClick:fe,disabled:!e||d,className:"whitespace-nowrap ",children:[o.jsx(Xp,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"hidden md:inline",children:" New Conversation"})]})]})]}),y.enabled?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Using OpenAI model directly. Local agent tools and instructions are not applied."}):e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),D&&o.jsxs("div",{className:"mx-4 mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded-md flex items-start gap-2",children:[o.jsx(cs,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-destructive",children:"Failed to Create Conversation"}),o.jsx("div",{className:"text-xs text-destructive/90 mt-1 break-words",children:D.message}),D.code&&o.jsxs("div",{className:"text-xs text-destructive/70 mt-1",children:["Error Code: ",D.code]})]}),o.jsx("button",{onClick:()=>O(null),className:"text-destructive hover:text-destructive/80 flex-shrink-0",title:"Dismiss error",children:o.jsx(ja,{className:"h-4 w-4"})})]}),o.jsx(Yn,{className:"flex-1 p-4 h-0",ref:C,children:o.jsxs("div",{className:"space-y-4",children:[l.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[o.jsxs("div",{className:"text-muted-foreground text-sm",children:["Start a conversation with"," ",e.name||e.id]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Type a message below to begin"})]}):(()=>{const ne=[],pe=new Map,he=new Map;let ee=null;const ve=[],ye=[];for(let Te=0;Te<l.length;Te++){const _e=l[Te];if(_e.type==="message"&&_e.role==="assistant"){if(pe.has(_e.id)||(pe.set(_e.id,[]),he.set(_e.id,[])),ve.length>0){const Ee=pe.get(_e.id)||[];Ee.push(...ve),pe.set(_e.id,Ee),ve.length=0}if(ye.length>0){const Ee=he.get(_e.id)||[];Ee.push(...ye),he.set(_e.id,Ee),ye.length=0}ee=_e.id}else if(_e.type==="function_call")if(ee){const Ee=pe.get(ee)||[];Ee.push(_e),pe.set(ee,Ee)}else ve.push(_e);else if(_e.type==="function_call_output")if(ee){const Ee=he.get(ee)||[];Ee.push(_e),he.set(ee,Ee)}else ye.push(_e);else _e.type==="message"&&_e.role==="user"&&(ee=null)}for(const Te of l)if(Te.type==="message"){const _e=pe.get(Te.id)||[],Ee=he.get(Te.id)||[];ne.push(o.jsx(g6,{item:Te,toolCalls:_e,toolResults:Ee},Te.id))}return ne})(),K&&!c&&o.jsx("div",{className:"px-4 py-2",children:o.jsx("div",{className:"border rounded-lg border-orange-500/40 bg-orange-500/5 dark:bg-orange-500/10",children:o.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[o.jsx(fd,{className:"w-4 h-4 text-orange-500 dark:text-orange-400 fill-current"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"Response stopped by user"})]})})}),o.jsx("div",{ref:$})]})}),g.length>0&&o.jsx("div",{className:"border-t bg-amber-50 dark:bg-amber-950/20 p-4 flex-shrink-0",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(cs,{className:"h-5 w-5 text-amber-600 dark:text-amber-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Approval Required"}),o.jsx("div",{className:"space-y-2",children:g.map(ne=>o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 border border-amber-200 dark:border-amber-900",children:[o.jsxs("div",{className:"font-mono text-xs mb-3 break-all",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:ne.function_call.name}),o.jsx("span",{className:"text-gray-500",children:"("}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:JSON.stringify(ne.function_call.arguments)}),o.jsx("span",{className:"text-gray-500",children:")"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Oe,{size:"sm",onClick:async()=>{const pe=await ge(ne.request_id,!0);pe&&await we(pe)},variant:"default",className:"flex-1 sm:flex-none",children:[o.jsx(wo,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(Oe,{size:"sm",onClick:async()=>{const pe=await ge(ne.request_id,!1);pe&&await we(pe)},variant:"outline",className:"flex-1 sm:flex-none",children:[o.jsx(ja,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},ne.request_id))})]})]})}),o.jsx("div",{className:"border-t flex-shrink-0",children:o.jsx("div",{className:"p-4",children:o.jsx(n2,{onSubmit:Ne,isSubmitting:d,isStreaming:c,onCancel:B,isCancelling:G,placeholder:`Message ${e.name||e.id}... (Shift+Enter for new line)`,showFileUpload:!0,entityName:e.name||e.id,disabled:!e,externalFiles:L,onExternalFilesProcessed:I})})}),o.jsx(p6,{agent:e,open:T,onOpenChange:R})]})}function Kv({message:e="Loading...",description:n,size:r="md",className:a,fullPage:l=!1}){const c=o.jsxs("div",{className:Xe("flex flex-col items-center justify-center gap-3",l?"min-h-[50vh]":"py-8",a),children:[o.jsx(Lu,{size:r,className:"text-muted-foreground"}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("p",{className:Xe("font-medium text-muted-foreground",r==="sm"&&"text-sm",r==="lg"&&"text-lg"),children:e}),n&&o.jsx("p",{className:"text-sm text-muted-foreground/80",children:n})]})]});return l?o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:c}):c}function y6(e){return["name","title","id","key","label","type","status","tag","category","code","username","password"].includes(e.toLowerCase())}function br({name:e,schema:n,value:r,onChange:a,isRequired:l=!1}){const{type:c,description:d,enum:f,default:m}=n,h=n.format==="textarea"||d&&d.length>100||c==="string"&&!f&&!y6(e),g=h||d&&d.length>150,y=h||d&&d.length>80||c==="array",x=(()=>{switch(c){case"string":return f?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs(Sd,{value:typeof r=="string"&&r?r:typeof m=="string"?m:f[0],onValueChange:j=>a(j),children:[o.jsx(Ed,{children:o.jsx(_d,{placeholder:`Select ${e}`})}),o.jsx(Cd,{children:f.map(j=>o.jsx(kd,{value:j,children:j},j))})]}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):h||d&&d.length>100?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(io,{id:e,value:typeof r=="string"?r:"",onChange:j=>a(j.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`,rows:h?4:2,className:"min-w-[300px] w-full"}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Tn,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:j=>a(j.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"number":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Tn,{id:e,type:"number",value:typeof r=="number"?r:"",onChange:j=>{const N=parseFloat(j.target.value);a(isNaN(N)?"":N)},placeholder:typeof m=="number"?m.toString():`Enter ${e}`}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"boolean":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sr,{id:e,checked:!!r,onCheckedChange:j=>a(j)}),o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"array":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(io,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:j=>{const N=j.target.value.split(",").map(S=>S.trim()).filter(S=>S.length>0);a(N)},placeholder:"Enter items separated by commas",rows:2}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"object":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(io,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:j=>{try{const N=JSON.parse(j.target.value);a(N)}catch{a(j.target.value)}},placeholder:'{"key": "value"}',rows:3}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})}})(),b=()=>g?"md:col-span-2 lg:col-span-3 xl:col-span-4":y?"xl:col-span-2":"";return o.jsx("div",{className:b(),children:x})}function v6({inputSchema:e,inputTypeName:n,onSubmit:r,isSubmitting:a=!1,className:l}){const[c,d]=w.useState(!1),[f,m]=w.useState(!1),h=l?.includes("embedded"),[g,y]=w.useState({}),[x,b]=w.useState(!1),j=e.properties||{},N=Object.keys(j),S=e.required||[],_=e.type==="string"&&!e.enum,M=N.filter(k=>!S.includes(k)),E=S.includes("role")&&M.some(k=>["text","message","content"].includes(k))&&j.role?.type==="string",T=N.filter(k=>S.includes(k)&&!(E&&k==="role")),R=M,D=E?[...R].sort((k,L)=>{const I=H=>["text","message","content"].includes(H)?1:0;return I(L)-I(k)}):R,P=Math.max(0,(E?1:6)-T.length),q=D.slice(0,P),K=D.slice(P),J=K.length>0,G=T.length>0,Z=_?g.value!==void 0&&g.value!=="":S.length>0?S.every(k=>E&&k==="role"&&g.role==="user"?!0:g[k]!==void 0&&g[k]!==""):Object.keys(g).length>0;w.useEffect(()=>{if(e.type==="string")y({value:e.default||""});else if(e.type==="object"&&e.properties){const k={};Object.entries(e.properties).forEach(([L,I])=>{I.default!==void 0?k[L]=I.default:I.enum&&I.enum.length>0&&(k[L]=I.enum[0])}),E&&!k.role&&(k.role="user"),y(k)}},[e,E]);const B=k=>{if(k.preventDefault(),b(!0),e.type==="string")r({input:g.value||""});else if(e.type==="object"){const L=e.properties||{},I=Object.keys(L);if(I.length===1){const H=I[0];r({[H]:g[H]||""})}else{const H={};Object.keys(g).forEach(C=>{const $=g[C];(S.includes(C)||$!==void 0&&$!==""&&$!==null)&&(H[C]=$)}),r(H)}}else r(g);h||d(!1),b(!1)},U=(k,L)=>{y(I=>({...I,[k]:L}))};return h?o.jsxs("form",{onSubmit:B,className:l,children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_&&o.jsx(br,{name:"Input",schema:e,value:g.value,onChange:k=>U("value",k),isRequired:!1}),!_&&o.jsxs(o.Fragment,{children:[T.map(k=>o.jsx(br,{name:k,schema:j[k],value:g[k],onChange:L=>U(k,L),isRequired:!0},k)),G&&R.length>0&&o.jsx("div",{className:"sm:col-span-2 border-t border-border my-2"}),q.map(k=>o.jsx(br,{name:k,schema:j[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k)),J&&o.jsx("div",{className:"sm:col-span-2",children:o.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Du,{className:"h-4 w-4"}),"Hide ",K.length," optional field",K.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Mt,{className:"h-4 w-4"}),"Show ",K.length," optional field",K.length!==1?"s":""]})})}),f&&K.map(k=>o.jsx(br,{name:k,schema:j[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k))]})]}),o.jsx("div",{className:"flex gap-2 mt-4 justify-end",children:o.jsxs(Oe,{type:"submit",disabled:x||!Z,size:"default",children:[o.jsx(Qi,{className:"h-4 w-4"}),x?"Running...":"Run Workflow"]})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:Xe("flex flex-col",l),children:[o.jsxs("div",{className:"border-b border-border px-4 py-3 bg-muted",children:[o.jsx(KN,{className:"text-sm mb-3",children:"Run Workflow"}),o.jsxs(Oe,{onClick:()=>d(!0),disabled:a,className:"w-full",size:"default",children:[o.jsx(Qi,{className:"h-4 w-4 mr-2"}),a?"Running...":"Run Workflow"]})]}),o.jsxs("div",{className:"px-4 py-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Input Type:"})," ",o.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:n}),e.type==="object"&&e.properties&&o.jsxs("span",{className:"ml-2",children:["(",Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":"",")"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Click "Run Workflow" to configure inputs and execute'})]})]}),o.jsx(Rr,{open:c,onOpenChange:d,children:o.jsxs(Dr,{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs(Or,{children:[o.jsx(zr,{children:"Run Workflow"}),o.jsx(No,{onClose:()=>d(!1)})]}),o.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:"Input Type:"}),o.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:n}),e.type==="object"&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.length," field",N.length!==1?"s":""]})]})})}),o.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:o.jsx("form",{id:"workflow-modal-form",onSubmit:B,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 max-w-none",children:[_&&o.jsxs("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:[o.jsx(br,{name:"Input",schema:e,value:g.value,onChange:k=>U("value",k),isRequired:!1}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]}),!_&&o.jsxs(o.Fragment,{children:[T.map(k=>o.jsx(br,{name:k,schema:j[k],value:g[k],onChange:L=>U(k,L),isRequired:!0},k)),G&&R.length>0&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx("div",{className:"border-t border-border"})}),q.map(k=>o.jsx(br,{name:k,schema:j[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k)),J&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Du,{className:"h-4 w-4"}),"Hide ",K.length," optional field",K.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Mt,{className:"h-4 w-4"}),"Show ",K.length," optional field",K.length!==1?"s":""]})})}),f&&K.map(k=>o.jsx(br,{name:k,schema:j[k],value:g[k],onChange:L=>U(k,L),isRequired:!1},k))]})]})})}),o.jsx("div",{className:"px-8 py-4 border-t flex-shrink-0",children:o.jsxs(H5,{children:[o.jsx(Oe,{variant:"outline",onClick:()=>d(!1),disabled:x,children:"Cancel"}),o.jsxs(Oe,{type:"submit",form:"workflow-modal-form",disabled:x||!Z,children:[o.jsx(Qi,{className:"h-4 w-4 mr-2"}),x?"Running...":"Run Workflow"]})]})})]})})]})}function b6(e,n,r="LR"){if(e.length===0)return e;if(e.length===1)return e.map(j=>({...j,position:{x:0,y:0}}));const a=new Map,l=new Map;e.forEach(j=>{a.set(j.id,[]),l.set(j.id,[])}),n.forEach(j=>{a.get(j.source)?.push(j.target),l.get(j.target)?.push(j.source)});const c=e.filter(j=>(l.get(j.id)||[]).length===0);c.length===0&&c.push(e[0]);const d=220,f=120,m=r==="LR"?350:280,h=r==="TB"?250:180,g=new Map,y=new Map,x=[],b=new Set;for(c.forEach(j=>{x.push({nodeId:j.id,level:0})});x.length>0;){const{nodeId:j,level:N}=x.shift();if(b.has(j))continue;b.add(j),y.has(N)||y.set(N,[]),y.get(N).push(j),(a.get(j)||[]).forEach(_=>{b.has(_)||x.push({nodeId:_,level:N+1})})}return e.forEach(j=>{if(!b.has(j.id)){const S=Math.max(...Array.from(y.keys()),-1)+1;y.has(S)||y.set(S,[]),y.get(S).push(j.id)}}),y.forEach((j,N)=>{const S=j.length;j.forEach((_,M)=>{let E,T;r==="LR"?(E=N*m,T=-((S-1)*h)/2+M*h):(T=N*h,E=-((S-1)*m)/2+M*m),g.set(_,{x:E,y:T,level:N})})}),e.map(j=>{const N=g.get(j.id)||{x:0,y:0};return{...j,position:{x:N.x-d/2,y:N.y-f/2}}})}function w6(e){if(typeof e!="object"||e===null)return!1;const n=e;return"id"in n&&"edge_groups"in n&&"executors"in n&&"start_executor_id"in n&&"max_iterations"in n&&typeof n.id=="string"&&Array.isArray(n.edge_groups)&&typeof n.executors=="object"&&typeof n.start_executor_id=="string"&&typeof n.max_iterations=="number"}function M2(e){return w6(e)?e:null}function N6(e){if(!e||e.type!=="object"||!e.properties)return!1;const n=e.properties,r="text"in n&&n.text?.type==="string",a="role"in n&&n.role?.type==="string";return!!(r&&a||Object.keys(n).length===1&&r)}function wu(e,n=50,r="..."){return e.length<=n?e:e.substring(0,n)+r}function op(e,n,r){if(!e)return console.warn("convertWorkflowDumpToNodes: workflowDump is undefined"),[];const a=M2(e);let l,c;return a?(l=Object.values(a.executors).map(f=>({id:f.id,type:f.type,name:f.name||f.id,description:f.description,config:f.config})),c=a.start_executor_id):(l=T2(e),c=e?.start_executor_id),!l||!Array.isArray(l)||l.length===0?(console.warn("No executors found in workflow dump. Available keys:",Object.keys(e)),[]):l.map(f=>({id:f.id,type:"executor",position:{x:0,y:0},data:{executorId:f.id,executorType:f.type,name:f.name||f.id,state:"pending",isStartNode:f.id===c,layoutDirection:r||"LR",onNodeClick:n}}))}function ap(e){if(!e)return console.warn("convertWorkflowDumpToEdges: workflowDump is undefined"),[];const n=M2(e);let r;return n?(r=[],n.edge_groups.forEach(l=>{l.edges.forEach(c=>{r.push({source:c.source_id,target:c.target_id,condition:c.condition_name})})})):r=R2(e),!r||!Array.isArray(r)||r.length===0?(console.warn("No connections found in workflow dump. Available keys:",Object.keys(e)),[]):r.map(l=>{const c=l.source===l.target;return{id:`${l.source}-${l.target}`,source:l.source,target:l.target,sourceHandle:"source",targetHandle:"target",type:c?"selfLoop":"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}})}function T2(e){if(e.executors&&typeof e.executors=="object"&&!Array.isArray(e.executors)){const a=e.executors;return Object.entries(a).map(([l,c])=>({id:l,type:c.type_||c.type||"executor",name:c.name||l,description:c.description,config:c.config}))}const n=["executors","agents","steps","nodes"];for(const a of n)if(e[a]&&Array.isArray(e[a]))return e[a];if(e.config&&typeof e.config=="object")return T2(e.config);const r=[];return Object.entries(e).forEach(([a,l])=>{if(typeof l=="object"&&l!==null&&("type"in l||"type_"in l)){const c=l;r.push({id:a,type:c.type_||c.type||"executor",name:c.name||a,description:c.description,config:c.config})}}),r}function R2(e){if(e.edge_groups&&Array.isArray(e.edge_groups)){const r=[];return e.edge_groups.forEach(a=>{if(typeof a=="object"&&a!==null&&"edges"in a){const l=a.edges;Array.isArray(l)&&l.forEach(c=>{if(typeof c=="object"&&c!==null&&"source_id"in c&&"target_id"in c){const d=c;r.push({source:d.source_id,target:d.target_id,condition:d.condition_name||void 0})}})}}),r}const n=["connections","edges","transitions","links"];for(const r of n)if(e[r]&&Array.isArray(e[r]))return e[r];return e.config&&typeof e.config=="object"?R2(e.config):[]}function ip(e,n,r="LR"){return b6(e,n,r)}function j6(e,n){const r={};let a=!1;const l={};return e.forEach(c=>{if(c.type==="response.output_item.added"||c.type==="response.output_item.done"){const f=c.item;if(f&&f.type==="executor_action"&&"executor_id"in f){const m=f.executor_id,h=f.id;if(c.type==="response.output_item.added"&&(l[m]=h),!(l[m]===h)&&c.type==="response.output_item.done")return;let y="pending",x;c.type==="response.output_item.added"?y="running":c.type==="response.output_item.done"&&(f.status==="completed"?y="completed":f.status==="failed"?(y="failed",x=f.error?typeof f.error=="string"?f.error:JSON.stringify(f.error):"Execution failed"):f.status==="cancelled"&&(y="cancelled")),r[m]={nodeId:m,state:y,data:f.result,error:x,timestamp:new Date().toISOString()}}}else if(c.type==="response.created"||c.type==="response.in_progress")a=!0;else if(c.type==="response.workflow_event.completed"&&"data"in c&&c.data){const f=c.data,m=f.executor_id,h=f.event_type,g=f.data;let y="pending",x;h==="ExecutorInvokedEvent"?y="running":h==="ExecutorCompletedEvent"?y="completed":h?.includes("Error")||h?.includes("Failed")?(y="failed",x=typeof g=="string"?g:"Execution failed"):h?.includes("Cancel")?y="cancelled":h==="WorkflowCompletedEvent"||h==="WorkflowOutputEvent"?y="completed":h==="WorkflowStartedEvent"&&(a=!0),m&&(r[m]={nodeId:m,state:y,data:g,error:x,timestamp:new Date().toISOString()})}}),a&&n&&!r[n]&&(e.some(d=>{if(d.type==="response.output_item.done"){const m=d.item;return m&&m.type==="executor_action"&&"executor_id"in m&&m.executor_id===n}if(d.type==="response.workflow_event.completed"&&"data"in d&&d.data){const f=d.data;return f.executor_id===n&&(f.event_type==="ExecutorCompletedEvent"||f.event_type==="ExecutorFailedEvent"||typeof f.event_type=="string"&&f.event_type.includes("Error")||typeof f.event_type=="string"&&f.event_type.includes("Failed"))}return!1})||(r[n]={nodeId:n,state:"running",data:void 0,error:void 0,timestamp:new Date().toISOString()})),r}function S6(e,n,r=!0){return e.map(a=>{const l=n[a.id];return l?{...a,data:{...a.data,state:l.state,outputData:l.data,error:l.error,isStreaming:r,layoutDirection:a.data.layoutDirection}}:a})}function _6(e){const n={};return e.forEach(a=>{if(a.type==="response.output_item.added"||a.type==="response.output_item.done"){const c=a.item;if(c&&c.type==="executor_action"&&"executor_id"in c){const d=c.executor_id;n[d]={lastEvent:a.type==="response.output_item.added"?"ExecutorInvokedEvent":"ExecutorCompletedEvent",timestamp:new Date().toISOString()}}}else if(a.type==="response.workflow_event.completed"&&"data"in a&&a.data){const c=a.data,d=c.executor_id,f=c.event_type;d&&(f==="ExecutorInvokedEvent"||f==="ExecutorCompletedEvent")&&(n[d]={lastEvent:f,timestamp:new Date().toISOString()})}}),Object.entries(n).filter(([,a])=>a.lastEvent==="ExecutorInvokedEvent").map(([a])=>a)}function E6(e,n){const r=_6(n),a={};return n.forEach(l=>{if(l.type==="response.workflow_event.completed"&&"data"in l&&l.data){const d=l.data,f=d.executor_id,m=d.event_type;f&&m&&(a[f]||(a[f]={completed:!1,invoked:!1}),m==="ExecutorInvokedEvent"?a[f].invoked=!0:m==="ExecutorCompletedEvent"&&(a[f].completed=!0))}}),e.map(l=>{const c=a[l.source],d=a[l.target],f=r.includes(l.target);let m={...l.style},h=!1;return c?.completed&&f?(m={stroke:"#643FB2",strokeWidth:3,strokeDasharray:"5,5"},h=!0):c?.completed&&d?.completed?m={stroke:"#10b981",strokeWidth:2}:c?.completed&&d?.invoked?m={stroke:"#f59e0b",strokeWidth:2}:m={stroke:"#6b7280",strokeWidth:2},{...l,style:m,animated:h}})}function Nh(e){const n=new Map,r=new Set;return e.forEach(a=>{const l=`${a.source}-${a.target}`,c=`${a.target}-${a.source}`;if(a.source===a.target){n.set(l,a);return}if(n.has(c)){r.add(c),r.add(l);const d=n.get(c);n.set(c,{...d,markerStart:{type:"arrow",width:20,height:20},markerEnd:{type:"arrow",width:20,height:20},data:{...d.data,isBidirectional:!0}})}else r.has(l)||n.set(l,a)}),Array.from(n.values())}function D2({inputSchema:e,onRun:n,onCancel:r,isSubmitting:a,isCancelling:l=!1,workflowState:c,checkpoints:d=[],showCheckpoints:f=!0}){const[m,h]=w.useState(!1);w.useEffect(()=>{const R=D=>{D.key==="Escape"&&m&&h(!1)};if(m)return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[m]);const g=w.useMemo(()=>{const R=N6(e);if(!e)return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0,isChatMessage:!1};if(e.type==="string")return{needsInput:!e.default,hasDefaults:!!e.default,fieldCount:1,canRunDirectly:!!e.default,isChatMessage:!1};if(e.type==="object"&&e.properties){const D=e.properties,O=Object.entries(D),P=O.filter(([,q])=>q.default!==void 0||q.enum&&q.enum.length>0);return{needsInput:O.length>0,hasDefaults:P.length>0,fieldCount:O.length,canRunDirectly:O.length===0||P.length===O.length,isChatMessage:R}}return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0,isChatMessage:!1}},[e]),y=()=>{if(c==="running"&&r)r();else if(g.canRunDirectly){const R={};e?.type==="string"&&e.default?R.input=e.default:e?.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([D,O])=>{O.default!==void 0?R[D]=O.default:O.enum&&O.enum.length>0&&(R[D]=O.enum[0])}),n(R)}else h(!0)},x=R=>{if(g.canRunDirectly){const D={};e?.type==="string"&&e.default?D.input=e.default:e?.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([O,P])=>{P.default!==void 0?D[O]=P.default:P.enum&&P.enum.length>0&&(D[O]=P.enum[0])}),n(D,R)}else h(!0)},b=f&&d.length>0,j=R=>{if(!R)return"";const D=R/1024;return D<1?`${R} B`:D<1024?`${D.toFixed(1)} KB`:`${(D/1024).toFixed(1)} MB`},N=()=>{const R=l?o.jsx(Mr,{className:"w-4 h-4 animate-spin"}):c==="running"&&r?o.jsx(fd,{className:"w-4 h-4 fill-current"}):c==="running"?o.jsx(Mr,{className:"w-4 h-4 animate-spin"}):c==="error"?o.jsx(Wp,{className:"w-4 h-4"}):g.needsInput&&!g.canRunDirectly?o.jsx(Zh,{className:"w-4 h-4"}):o.jsx(Uv,{className:"w-4 h-4"}),D=l?"Stopping...":c==="running"&&r?"Stop":c==="running"?"Running...":c==="completed"?"Run Again":c==="error"?"Retry":g.fieldCount===0||g.canRunDirectly?"Run Workflow":"Configure & Run";return{icon:R,text:D}},{icon:S,text:_}=N(),M=c==="running"&&!r||l,E=c==="error"?"destructive":"default",T=()=>b||g.needsInput?o.jsxs(md,{children:[o.jsxs("div",{className:"flex w-full",children:[o.jsxs(Oe,{onClick:y,disabled:M,variant:E,className:"gap-2 rounded-r-none flex-1",title:c==="running"&&r?"Stop workflow execution":void 0,children:[S,_]}),o.jsx(hd,{asChild:!0,children:o.jsx(Oe,{disabled:M,variant:E,className:"rounded-l-none border-l-0 px-2",title:"More options",children:o.jsx(Mt,{className:"w-4 h-4"})})})]}),o.jsxs(pd,{align:"end",className:"w-80 max-h-[400px] overflow-y-auto",children:[b&&o.jsxs($t,{onClick:y,children:[o.jsx(Uv,{className:"w-4 h-4 mr-2"}),"Run Fresh"]}),g.needsInput&&o.jsxs($t,{onClick:()=>h(!0),children:[o.jsx(Zh,{className:"w-4 h-4 mr-2"}),"Configure Inputs"]}),b&&o.jsxs(o.Fragment,{children:[o.jsx(ga,{}),o.jsx("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Resume from checkpoint"}),d.map((D,O)=>o.jsxs($t,{onClick:()=>x(D.checkpoint_id),className:"flex flex-col items-start py-2",children:[o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx(Zp,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"font-medium",children:D.metadata.iteration_count===0?"Initial State":`Step ${D.metadata.iteration_count}`}),O===0&&o.jsx(ut,{variant:"secondary",className:"text-[10px] h-4 px-1 ml-auto",children:"Latest"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-6 mt-0.5",children:[o.jsx(Yp,{className:"w-3 h-3"}),o.jsx("span",{children:new Date(D.timestamp).toLocaleTimeString()}),D.metadata.size_bytes&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:j(D.metadata.size_bytes)})]})]})]},D.checkpoint_id))]})]})]}):o.jsxs(Oe,{onClick:y,disabled:M,variant:E,className:"gap-2 w-full",title:c==="running"&&r?"Stop workflow execution":void 0,children:[S,_]});return o.jsxs(o.Fragment,{children:[T(),e&&o.jsx(Rr,{open:m,onOpenChange:h,children:o.jsxs(Dr,{className:"w-full min-w-[400px] max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs(Or,{className:"px-8 pt-6",children:[o.jsx(zr,{children:"Configure Workflow Inputs"}),o.jsx(No,{onClose:()=>h(!1)})]}),o.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:"Input Type:"}),o.jsx(ut,{variant:"secondary",children:g.isChatMessage?"Chat Message":e.type==="string"?"Simple Text":"Structured Data"})]})})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4 px-8",children:g.isChatMessage?o.jsx(n2,{onSubmit:async R=>{n([{type:"message",role:"user",content:R}]),h(!1)},isSubmitting:a,placeholder:"Enter your message...",entityName:"workflow",showFileUpload:!0}):o.jsx(v6,{inputSchema:e,inputTypeName:"Input",onSubmit:R=>{n(R),h(!1)},isSubmitting:a,className:"embedded"})})]})})]})}function Ot(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=Ot(e[r]))!==""&&(n+=(n&&" ")+a);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var C6={value:()=>{}};function Ad(){for(var e=0,n=arguments.length,r={},a;e<n;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Nu(r)}function Nu(e){this._=e}function k6(e,n){return e.trim().split(/^|\s+/).map(function(r){var a="",l=r.indexOf(".");if(l>=0&&(a=r.slice(l+1),r=r.slice(0,l)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Nu.prototype=Ad.prototype={constructor:Nu,on:function(e,n){var r=this._,a=k6(e+"",r),l,c=-1,d=a.length;if(arguments.length<2){for(;++c<d;)if((l=(e=a[c]).type)&&(l=A6(r[l],e.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<d;)if(l=(e=a[c]).type)r[l]=Qv(r[l],e.name,n);else if(n==null)for(l in r)r[l]=Qv(r[l],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Nu(e)},call:function(e,n){if((l=arguments.length-2)>0)for(var r=new Array(l),a=0,l,c;a<l;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],a=0,l=c.length;a<l;++a)c[a].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],l=0,c=a.length;l<c;++l)a[l].value.apply(n,r)}};function A6(e,n){for(var r=0,a=e.length,l;r<a;++r)if((l=e[r]).name===n)return l.value}function Qv(e,n,r){for(var a=0,l=e.length;a<l;++a)if(e[a].name===n){e[a]=C6,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:n,value:r}),e}var lp="http://www.w3.org/1999/xhtml";const Jv={svg:"http://www.w3.org/2000/svg",xhtml:lp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Md(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Jv.hasOwnProperty(n)?{space:Jv[n],local:e}:e}function M6(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===lp&&n.documentElement.namespaceURI===lp?n.createElement(e):n.createElementNS(r,e)}}function T6(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function O2(e){var n=Md(e);return(n.local?T6:M6)(n)}function R6(){}function ug(e){return e==null?R6:function(){return this.querySelector(e)}}function D6(e){typeof e!="function"&&(e=ug(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=new Array(d),m,h,g=0;g<d;++g)(m=c[g])&&(h=e.call(m,m.__data__,g,c))&&("__data__"in m&&(h.__data__=m.__data__),f[g]=h);return new Nn(a,this._parents)}function O6(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function z6(){return[]}function z2(e){return e==null?z6:function(){return this.querySelectorAll(e)}}function I6(e){return function(){return O6(e.apply(this,arguments))}}function L6(e){typeof e=="function"?e=I6(e):e=z2(e);for(var n=this._groups,r=n.length,a=[],l=[],c=0;c<r;++c)for(var d=n[c],f=d.length,m,h=0;h<f;++h)(m=d[h])&&(a.push(e.call(m,m.__data__,h,d)),l.push(m));return new Nn(a,l)}function I2(e){return function(){return this.matches(e)}}function L2(e){return function(n){return n.matches(e)}}var $6=Array.prototype.find;function H6(e){return function(){return $6.call(this.children,e)}}function P6(){return this.firstElementChild}function B6(e){return this.select(e==null?P6:H6(typeof e=="function"?e:L2(e)))}var U6=Array.prototype.filter;function V6(){return Array.from(this.children)}function q6(e){return function(){return U6.call(this.children,e)}}function F6(e){return this.selectAll(e==null?V6:q6(typeof e=="function"?e:L2(e)))}function Y6(e){typeof e!="function"&&(e=I2(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=[],m,h=0;h<d;++h)(m=c[h])&&e.call(m,m.__data__,h,c)&&f.push(m);return new Nn(a,this._parents)}function $2(e){return new Array(e.length)}function G6(){return new Nn(this._enter||this._groups.map($2),this._parents)}function Vu(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Vu.prototype={constructor:Vu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function X6(e){return function(){return e}}function Z6(e,n,r,a,l,c){for(var d=0,f,m=n.length,h=c.length;d<h;++d)(f=n[d])?(f.__data__=c[d],a[d]=f):r[d]=new Vu(e,c[d]);for(;d<m;++d)(f=n[d])&&(l[d]=f)}function W6(e,n,r,a,l,c,d){var f,m,h=new Map,g=n.length,y=c.length,x=new Array(g),b;for(f=0;f<g;++f)(m=n[f])&&(x[f]=b=d.call(m,m.__data__,f,n)+"",h.has(b)?l[f]=m:h.set(b,m));for(f=0;f<y;++f)b=d.call(e,c[f],f,c)+"",(m=h.get(b))?(a[f]=m,m.__data__=c[f],h.delete(b)):r[f]=new Vu(e,c[f]);for(f=0;f<g;++f)(m=n[f])&&h.get(x[f])===m&&(l[f]=m)}function K6(e){return e.__data__}function Q6(e,n){if(!arguments.length)return Array.from(this,K6);var r=n?W6:Z6,a=this._parents,l=this._groups;typeof e!="function"&&(e=X6(e));for(var c=l.length,d=new Array(c),f=new Array(c),m=new Array(c),h=0;h<c;++h){var g=a[h],y=l[h],x=y.length,b=J6(e.call(g,g&&g.__data__,h,a)),j=b.length,N=f[h]=new Array(j),S=d[h]=new Array(j),_=m[h]=new Array(x);r(g,y,N,S,_,b,n);for(var M=0,E=0,T,R;M<j;++M)if(T=N[M]){for(M>=E&&(E=M+1);!(R=S[E])&&++E<j;);T._next=R||null}}return d=new Nn(d,a),d._enter=f,d._exit=m,d}function J6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eD(){return new Nn(this._exit||this._groups.map($2),this._parents)}function tD(e,n,r){var a=this.enter(),l=this,c=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(l=n(l),l&&(l=l.selection())),r==null?c.remove():r(c),a&&l?a.merge(l).order():l}function nD(e){for(var n=e.selection?e.selection():e,r=this._groups,a=n._groups,l=r.length,c=a.length,d=Math.min(l,c),f=new Array(l),m=0;m<d;++m)for(var h=r[m],g=a[m],y=h.length,x=f[m]=new Array(y),b,j=0;j<y;++j)(b=h[j]||g[j])&&(x[j]=b);for(;m<l;++m)f[m]=r[m];return new Nn(f,this._parents)}function sD(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var a=e[n],l=a.length-1,c=a[l],d;--l>=0;)(d=a[l])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function rD(e){e||(e=oD);function n(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}for(var r=this._groups,a=r.length,l=new Array(a),c=0;c<a;++c){for(var d=r[c],f=d.length,m=l[c]=new Array(f),h,g=0;g<f;++g)(h=d[g])&&(m[g]=h);m.sort(n)}return new Nn(l,this._parents).order()}function oD(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function aD(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function iD(){return Array.from(this)}function lD(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],l=0,c=a.length;l<c;++l){var d=a[l];if(d)return d}return null}function cD(){let e=0;for(const n of this)++e;return e}function uD(){return!this.node()}function dD(e){for(var n=this._groups,r=0,a=n.length;r<a;++r)for(var l=n[r],c=0,d=l.length,f;c<d;++c)(f=l[c])&&e.call(f,f.__data__,c,l);return this}function fD(e){return function(){this.removeAttribute(e)}}function mD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hD(e,n){return function(){this.setAttribute(e,n)}}function pD(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function gD(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function xD(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function yD(e,n){var r=Md(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((n==null?r.local?mD:fD:typeof n=="function"?r.local?xD:gD:r.local?pD:hD)(r,n))}function H2(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function vD(e){return function(){this.style.removeProperty(e)}}function bD(e,n,r){return function(){this.style.setProperty(e,n,r)}}function wD(e,n,r){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function ND(e,n,r){return arguments.length>1?this.each((n==null?vD:typeof n=="function"?wD:bD)(e,n,r??"")):_a(this.node(),e)}function _a(e,n){return e.style.getPropertyValue(n)||H2(e).getComputedStyle(e,null).getPropertyValue(n)}function jD(e){return function(){delete this[e]}}function SD(e,n){return function(){this[e]=n}}function _D(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function ED(e,n){return arguments.length>1?this.each((n==null?jD:typeof n=="function"?_D:SD)(e,n)):this.node()[e]}function P2(e){return e.trim().split(/^|\s+/)}function dg(e){return e.classList||new B2(e)}function B2(e){this._node=e,this._names=P2(e.getAttribute("class")||"")}B2.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function U2(e,n){for(var r=dg(e),a=-1,l=n.length;++a<l;)r.add(n[a])}function V2(e,n){for(var r=dg(e),a=-1,l=n.length;++a<l;)r.remove(n[a])}function CD(e){return function(){U2(this,e)}}function kD(e){return function(){V2(this,e)}}function AD(e,n){return function(){(n.apply(this,arguments)?U2:V2)(this,e)}}function MD(e,n){var r=P2(e+"");if(arguments.length<2){for(var a=dg(this.node()),l=-1,c=r.length;++l<c;)if(!a.contains(r[l]))return!1;return!0}return this.each((typeof n=="function"?AD:n?CD:kD)(r,n))}function TD(){this.textContent=""}function RD(e){return function(){this.textContent=e}}function DD(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function OD(e){return arguments.length?this.each(e==null?TD:(typeof e=="function"?DD:RD)(e)):this.node().textContent}function zD(){this.innerHTML=""}function ID(e){return function(){this.innerHTML=e}}function LD(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function $D(e){return arguments.length?this.each(e==null?zD:(typeof e=="function"?LD:ID)(e)):this.node().innerHTML}function HD(){this.nextSibling&&this.parentNode.appendChild(this)}function PD(){return this.each(HD)}function BD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UD(){return this.each(BD)}function VD(e){var n=typeof e=="function"?e:O2(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function qD(){return null}function FD(e,n){var r=typeof e=="function"?e:O2(e),a=n==null?qD:typeof n=="function"?n:ug(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function YD(){var e=this.parentNode;e&&e.removeChild(this)}function GD(){return this.each(YD)}function XD(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ZD(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function WD(e){return this.select(e?ZD:XD)}function KD(e){return arguments.length?this.property("__data__",e):this.node().__data__}function QD(e){return function(n){e.call(this,n,this.__data__)}}function JD(e){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");return a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),{type:n,name:r}})}function eO(e){return function(){var n=this.__on;if(n){for(var r=0,a=-1,l=n.length,c;r<l;++r)c=n[r],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):n[++a]=c;++a?n.length=a:delete this.__on}}}function tO(e,n,r){return function(){var a=this.__on,l,c=QD(n);if(a){for(var d=0,f=a.length;d<f;++d)if((l=a[d]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=r),l.value=n;return}}this.addEventListener(e.type,c,r),l={type:e.type,name:e.name,value:n,listener:c,options:r},a?a.push(l):this.__on=[l]}}function nO(e,n,r){var a=JD(e+""),l,c=a.length,d;if(arguments.length<2){var f=this.node().__on;if(f){for(var m=0,h=f.length,g;m<h;++m)for(l=0,g=f[m];l<c;++l)if((d=a[l]).type===g.type&&d.name===g.name)return g.value}return}for(f=n?tO:eO,l=0;l<c;++l)this.each(f(a[l],n,r));return this}function q2(e,n,r){var a=H2(e),l=a.CustomEvent;typeof l=="function"?l=new l(n,r):(l=a.document.createEvent("Event"),r?(l.initEvent(n,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(n,!1,!1)),e.dispatchEvent(l)}function sO(e,n){return function(){return q2(this,e,n)}}function rO(e,n){return function(){return q2(this,e,n.apply(this,arguments))}}function oO(e,n){return this.each((typeof n=="function"?rO:sO)(e,n))}function*aO(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],l=0,c=a.length,d;l<c;++l)(d=a[l])&&(yield d)}var F2=[null];function Nn(e,n){this._groups=e,this._parents=n}function _l(){return new Nn([[document.documentElement]],F2)}function iO(){return this}Nn.prototype=_l.prototype={constructor:Nn,select:D6,selectAll:L6,selectChild:B6,selectChildren:F6,filter:Y6,data:Q6,enter:G6,exit:eD,join:tD,merge:nD,selection:iO,order:sD,sort:rD,call:aD,nodes:iD,node:lD,size:cD,empty:uD,each:dD,attr:yD,style:ND,property:ED,classed:MD,text:OD,html:$D,raise:PD,lower:UD,append:VD,insert:FD,remove:GD,clone:WD,datum:KD,on:nO,dispatch:oO,[Symbol.iterator]:aO};function bn(e){return typeof e=="string"?new Nn([[document.querySelector(e)]],[document.documentElement]):new Nn([[e]],F2)}function lO(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Bn(e,n){if(e=lO(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}}return[e.pageX,e.pageY]}const cO={passive:!1},il={capture:!0,passive:!1};function jh(e){e.stopImmediatePropagation()}function ya(e){e.preventDefault(),e.stopImmediatePropagation()}function Y2(e){var n=e.document.documentElement,r=bn(e).on("dragstart.drag",ya,il);"onselectstart"in n?r.on("selectstart.drag",ya,il):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function G2(e,n){var r=e.document.documentElement,a=bn(e).on("dragstart.drag",null);n&&(a.on("click.drag",ya,il),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const su=e=>()=>e;function cp(e,{sourceEvent:n,subject:r,target:a,identifier:l,active:c,x:d,y:f,dx:m,dy:h,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:g}})}cp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function uO(e){return!e.ctrlKey&&!e.button}function dO(){return this.parentNode}function fO(e,n){return n??{x:e.x,y:e.y}}function mO(){return navigator.maxTouchPoints||"ontouchstart"in this}function X2(){var e=uO,n=dO,r=fO,a=mO,l={},c=Ad("start","drag","end"),d=0,f,m,h,g,y=0;function x(T){T.on("mousedown.drag",b).filter(a).on("touchstart.drag",S).on("touchmove.drag",_,cO).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(T,R){if(!(g||!e.call(this,T,R))){var D=E(this,n.call(this,T,R),T,R,"mouse");D&&(bn(T.view).on("mousemove.drag",j,il).on("mouseup.drag",N,il),Y2(T.view),jh(T),h=!1,f=T.clientX,m=T.clientY,D("start",T))}}function j(T){if(ya(T),!h){var R=T.clientX-f,D=T.clientY-m;h=R*R+D*D>y}l.mouse("drag",T)}function N(T){bn(T.view).on("mousemove.drag mouseup.drag",null),G2(T.view,h),ya(T),l.mouse("end",T)}function S(T,R){if(e.call(this,T,R)){var D=T.changedTouches,O=n.call(this,T,R),P=D.length,q,K;for(q=0;q<P;++q)(K=E(this,O,T,R,D[q].identifier,D[q]))&&(jh(T),K("start",T,D[q]))}}function _(T){var R=T.changedTouches,D=R.length,O,P;for(O=0;O<D;++O)(P=l[R[O].identifier])&&(ya(T),P("drag",T,R[O]))}function M(T){var R=T.changedTouches,D=R.length,O,P;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),O=0;O<D;++O)(P=l[R[O].identifier])&&(jh(T),P("end",T,R[O]))}function E(T,R,D,O,P,q){var K=c.copy(),J=Bn(q||D,R),G,Z,B;if((B=r.call(T,new cp("beforestart",{sourceEvent:D,target:x,identifier:P,active:d,x:J[0],y:J[1],dx:0,dy:0,dispatch:K}),O))!=null)return G=B.x-J[0]||0,Z=B.y-J[1]||0,function U(k,L,I){var H=J,C;switch(k){case"start":l[P]=U,C=d++;break;case"end":delete l[P],--d;case"drag":J=Bn(I||L,R),C=d;break}K.call(k,T,new cp(k,{sourceEvent:L,subject:B,target:x,identifier:P,active:C,x:J[0]+G,y:J[1]+Z,dx:J[0]-H[0],dy:J[1]-H[1],dispatch:K}),O)}}return x.filter=function(T){return arguments.length?(e=typeof T=="function"?T:su(!!T),x):e},x.container=function(T){return arguments.length?(n=typeof T=="function"?T:su(T),x):n},x.subject=function(T){return arguments.length?(r=typeof T=="function"?T:su(T),x):r},x.touchable=function(T){return arguments.length?(a=typeof T=="function"?T:su(!!T),x):a},x.on=function(){var T=c.on.apply(c,arguments);return T===c?x:T},x.clickDistance=function(T){return arguments.length?(y=(T=+T)*T,x):Math.sqrt(y)},x}function fg(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function Z2(e,n){var r=Object.create(e.prototype);for(var a in n)r[a]=n[a];return r}function El(){}var ll=.7,qu=1/ll,va="\\s*([+-]?\\d+)\\s*",cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hO=/^#([0-9a-f]{3,8})$/,pO=new RegExp(`^rgb\\(${va},${va},${va}\\)$`),gO=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),xO=new RegExp(`^rgba\\(${va},${va},${va},${cl}\\)$`),yO=new RegExp(`^rgba\\(${is},${is},${is},${cl}\\)$`),vO=new RegExp(`^hsl\\(${cl},${is},${is}\\)$`),bO=new RegExp(`^hsla\\(${cl},${is},${is},${cl}\\)$`),eb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fg(El,go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tb,formatHex:tb,formatHex8:wO,formatHsl:NO,formatRgb:nb,toString:nb});function tb(){return this.rgb().formatHex()}function wO(){return this.rgb().formatHex8()}function NO(){return W2(this).formatHsl()}function nb(){return this.rgb().formatRgb()}function go(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=hO.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?sb(n):r===3?new cn(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?ru(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?ru(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=pO.exec(e))?new cn(n[1],n[2],n[3],1):(n=gO.exec(e))?new cn(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=xO.exec(e))?ru(n[1],n[2],n[3],n[4]):(n=yO.exec(e))?ru(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=vO.exec(e))?ab(n[1],n[2]/100,n[3]/100,1):(n=bO.exec(e))?ab(n[1],n[2]/100,n[3]/100,n[4]):eb.hasOwnProperty(e)?sb(eb[e]):e==="transparent"?new cn(NaN,NaN,NaN,0):null}function sb(e){return new cn(e>>16&255,e>>8&255,e&255,1)}function ru(e,n,r,a){return a<=0&&(e=n=r=NaN),new cn(e,n,r,a)}function jO(e){return e instanceof El||(e=go(e)),e?(e=e.rgb(),new cn(e.r,e.g,e.b,e.opacity)):new cn}function up(e,n,r,a){return arguments.length===1?jO(e):new cn(e,n,r,a??1)}function cn(e,n,r,a){this.r=+e,this.g=+n,this.b=+r,this.opacity=+a}fg(cn,up,Z2(El,{brighter(e){return e=e==null?qu:Math.pow(qu,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(lo(this.r),lo(this.g),lo(this.b),Fu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rb,formatHex:rb,formatHex8:SO,formatRgb:ob,toString:ob}));function rb(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}`}function SO(){return`#${ao(this.r)}${ao(this.g)}${ao(this.b)}${ao((isNaN(this.opacity)?1:this.opacity)*255)}`}function ob(){const e=Fu(this.opacity);return`${e===1?"rgb(":"rgba("}${lo(this.r)}, ${lo(this.g)}, ${lo(this.b)}${e===1?")":`, ${e})`}`}function Fu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ao(e){return e=lo(e),(e<16?"0":"")+e.toString(16)}function ab(e,n,r,a){return a<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Un(e,n,r,a)}function W2(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof El||(e=go(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var n=e.r/255,r=e.g/255,a=e.b/255,l=Math.min(n,r,a),c=Math.max(n,r,a),d=NaN,f=c-l,m=(c+l)/2;return f?(n===c?d=(r-a)/f+(r<a)*6:r===c?d=(a-n)/f+2:d=(n-r)/f+4,f/=m<.5?c+l:2-c-l,d*=60):f=m>0&&m<1?0:d,new Un(d,f,m,e.opacity)}function _O(e,n,r,a){return arguments.length===1?W2(e):new Un(e,n,r,a??1)}function Un(e,n,r,a){this.h=+e,this.s=+n,this.l=+r,this.opacity=+a}fg(Un,_O,Z2(El,{brighter(e){return e=e==null?qu:Math.pow(qu,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ll:Math.pow(ll,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*n,l=2*r-a;return new cn(Sh(e>=240?e-240:e+120,l,a),Sh(e,l,a),Sh(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Un(ib(this.h),ou(this.s),ou(this.l),Fu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fu(this.opacity);return`${e===1?"hsl(":"hsla("}${ib(this.h)}, ${ou(this.s)*100}%, ${ou(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ib(e){return e=(e||0)%360,e<0?e+360:e}function ou(e){return Math.max(0,Math.min(1,e||0))}function Sh(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const mg=e=>()=>e;function EO(e,n){return function(r){return e+r*n}}function CO(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(a){return Math.pow(e+a*n,r)}}function kO(e){return(e=+e)==1?K2:function(n,r){return r-n?CO(n,r,e):mg(isNaN(n)?r:n)}}function K2(e,n){var r=n-e;return r?EO(e,r):mg(isNaN(e)?n:e)}const Yu=(function e(n){var r=kO(n);function a(l,c){var d=r((l=up(l)).r,(c=up(c)).r),f=r(l.g,c.g),m=r(l.b,c.b),h=K2(l.opacity,c.opacity);return function(g){return l.r=d(g),l.g=f(g),l.b=m(g),l.opacity=h(g),l+""}}return a.gamma=e,a})(1);function AO(e,n){n||(n=[]);var r=e?Math.min(n.length,e.length):0,a=n.slice(),l;return function(c){for(l=0;l<r;++l)a[l]=e[l]*(1-c)+n[l]*c;return a}}function MO(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TO(e,n){var r=n?n.length:0,a=e?Math.min(r,e.length):0,l=new Array(a),c=new Array(r),d;for(d=0;d<a;++d)l[d]=el(e[d],n[d]);for(;d<r;++d)c[d]=n[d];return function(f){for(d=0;d<a;++d)c[d]=l[d](f);return c}}function RO(e,n){var r=new Date;return e=+e,n=+n,function(a){return r.setTime(e*(1-a)+n*a),r}}function ns(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function DO(e,n){var r={},a={},l;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(l in n)l in e?r[l]=el(e[l],n[l]):a[l]=n[l];return function(c){for(l in r)a[l]=r[l](c);return a}}var dp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_h=new RegExp(dp.source,"g");function OO(e){return function(){return e}}function zO(e){return function(n){return e(n)+""}}function Q2(e,n){var r=dp.lastIndex=_h.lastIndex=0,a,l,c,d=-1,f=[],m=[];for(e=e+"",n=n+"";(a=dp.exec(e))&&(l=_h.exec(n));)(c=l.index)>r&&(c=n.slice(r,c),f[d]?f[d]+=c:f[++d]=c),(a=a[0])===(l=l[0])?f[d]?f[d]+=l:f[++d]=l:(f[++d]=null,m.push({i:d,x:ns(a,l)})),r=_h.lastIndex;return r<n.length&&(c=n.slice(r),f[d]?f[d]+=c:f[++d]=c),f.length<2?m[0]?zO(m[0].x):OO(n):(n=m.length,function(h){for(var g=0,y;g<n;++g)f[(y=m[g]).i]=y.x(h);return f.join("")})}function el(e,n){var r=typeof n,a;return n==null||r==="boolean"?mg(n):(r==="number"?ns:r==="string"?(a=go(n))?(n=a,Yu):Q2:n instanceof go?Yu:n instanceof Date?RO:MO(n)?AO:Array.isArray(n)?TO:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?DO:ns)(e,n)}var lb=180/Math.PI,fp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function J2(e,n,r,a,l,c){var d,f,m;return(d=Math.sqrt(e*e+n*n))&&(e/=d,n/=d),(m=e*r+n*a)&&(r-=e*m,a-=n*m),(f=Math.sqrt(r*r+a*a))&&(r/=f,a/=f,m/=f),e*a<n*r&&(e=-e,n=-n,m=-m,d=-d),{translateX:l,translateY:c,rotate:Math.atan2(n,e)*lb,skewX:Math.atan(m)*lb,scaleX:d,scaleY:f}}var au;function IO(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?fp:J2(n.a,n.b,n.c,n.d,n.e,n.f)}function LO(e){return e==null||(au||(au=document.createElementNS("http://www.w3.org/2000/svg","g")),au.setAttribute("transform",e),!(e=au.transform.baseVal.consolidate()))?fp:(e=e.matrix,J2(e.a,e.b,e.c,e.d,e.e,e.f))}function ej(e,n,r,a){function l(h){return h.length?h.pop()+" ":""}function c(h,g,y,x,b,j){if(h!==y||g!==x){var N=b.push("translate(",null,n,null,r);j.push({i:N-4,x:ns(h,y)},{i:N-2,x:ns(g,x)})}else(y||x)&&b.push("translate("+y+n+x+r)}function d(h,g,y,x){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),x.push({i:y.push(l(y)+"rotate(",null,a)-2,x:ns(h,g)})):g&&y.push(l(y)+"rotate("+g+a)}function f(h,g,y,x){h!==g?x.push({i:y.push(l(y)+"skewX(",null,a)-2,x:ns(h,g)}):g&&y.push(l(y)+"skewX("+g+a)}function m(h,g,y,x,b,j){if(h!==y||g!==x){var N=b.push(l(b)+"scale(",null,",",null,")");j.push({i:N-4,x:ns(h,y)},{i:N-2,x:ns(g,x)})}else(y!==1||x!==1)&&b.push(l(b)+"scale("+y+","+x+")")}return function(h,g){var y=[],x=[];return h=e(h),g=e(g),c(h.translateX,h.translateY,g.translateX,g.translateY,y,x),d(h.rotate,g.rotate,y,x),f(h.skewX,g.skewX,y,x),m(h.scaleX,h.scaleY,g.scaleX,g.scaleY,y,x),h=g=null,function(b){for(var j=-1,N=x.length,S;++j<N;)y[(S=x[j]).i]=S.x(b);return y.join("")}}}var $O=ej(IO,"px, ","px)","deg)"),HO=ej(LO,", ",")",")"),PO=1e-12;function cb(e){return((e=Math.exp(e))+1/e)/2}function BO(e){return((e=Math.exp(e))-1/e)/2}function UO(e){return((e=Math.exp(2*e))-1)/(e+1)}const ju=(function e(n,r,a){function l(c,d){var f=c[0],m=c[1],h=c[2],g=d[0],y=d[1],x=d[2],b=g-f,j=y-m,N=b*b+j*j,S,_;if(N<PO)_=Math.log(x/h)/n,S=function(O){return[f+O*b,m+O*j,h*Math.exp(n*O*_)]};else{var M=Math.sqrt(N),E=(x*x-h*h+a*N)/(2*h*r*M),T=(x*x-h*h-a*N)/(2*x*r*M),R=Math.log(Math.sqrt(E*E+1)-E),D=Math.log(Math.sqrt(T*T+1)-T);_=(D-R)/n,S=function(O){var P=O*_,q=cb(R),K=h/(r*M)*(q*UO(n*P+R)-BO(R));return[f+K*b,m+K*j,h*q/cb(n*P+R)]}}return S.duration=_*1e3*n/Math.SQRT2,S}return l.rho=function(c){var d=Math.max(.001,+c),f=d*d,m=f*f;return e(d,f,m)},l})(Math.SQRT2,2,4);var Ea=0,Wi=0,Fi=0,tj=1e3,Gu,Ki,Xu=0,xo=0,Td=0,ul=typeof performance=="object"&&performance.now?performance:Date,nj=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hg(){return xo||(nj(VO),xo=ul.now()+Td)}function VO(){xo=0}function Zu(){this._call=this._time=this._next=null}Zu.prototype=sj.prototype={constructor:Zu,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?hg():+r)+(n==null?0:+n),!this._next&&Ki!==this&&(Ki?Ki._next=this:Gu=this,Ki=this),this._call=e,this._time=r,mp()},stop:function(){this._call&&(this._call=null,this._time=1/0,mp())}};function sj(e,n,r){var a=new Zu;return a.restart(e,n,r),a}function qO(){hg(),++Ea;for(var e=Gu,n;e;)(n=xo-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ea}function ub(){xo=(Xu=ul.now())+Td,Ea=Wi=0;try{qO()}finally{Ea=0,YO(),xo=0}}function FO(){var e=ul.now(),n=e-Xu;n>tj&&(Td-=n,Xu=e)}function YO(){for(var e,n=Gu,r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Gu=r);Ki=e,mp(a)}function mp(e){if(!Ea){Wi&&(Wi=clearTimeout(Wi));var n=e-xo;n>24?(e<1/0&&(Wi=setTimeout(ub,e-ul.now()-Td)),Fi&&(Fi=clearInterval(Fi))):(Fi||(Xu=ul.now(),Fi=setInterval(FO,tj)),Ea=1,nj(ub))}}function db(e,n,r){var a=new Zu;return n=n==null?0:+n,a.restart(l=>{a.stop(),e(l+n)},n,r),a}var GO=Ad("start","end","cancel","interrupt"),XO=[],rj=0,fb=1,hp=2,Su=3,mb=4,pp=5,_u=6;function Rd(e,n,r,a,l,c){var d=e.__transition;if(!d)e.__transition={};else if(r in d)return;ZO(e,r,{name:n,index:a,group:l,on:GO,tween:XO,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:rj})}function pg(e,n){var r=Xn(e,n);if(r.state>rj)throw new Error("too late; already scheduled");return r}function hs(e,n){var r=Xn(e,n);if(r.state>Su)throw new Error("too late; already running");return r}function Xn(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function ZO(e,n,r){var a=e.__transition,l;a[n]=r,r.timer=sj(c,0,r.time);function c(h){r.state=fb,r.timer.restart(d,r.delay,r.time),r.delay<=h&&d(h-r.delay)}function d(h){var g,y,x,b;if(r.state!==fb)return m();for(g in a)if(b=a[g],b.name===r.name){if(b.state===Su)return db(d);b.state===mb?(b.state=_u,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete a[g]):+g<n&&(b.state=_u,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete a[g])}if(db(function(){r.state===Su&&(r.state=mb,r.timer.restart(f,r.delay,r.time),f(h))}),r.state=hp,r.on.call("start",e,e.__data__,r.index,r.group),r.state===hp){for(r.state=Su,l=new Array(x=r.tween.length),g=0,y=-1;g<x;++g)(b=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(l[++y]=b);l.length=y+1}}function f(h){for(var g=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(m),r.state=pp,1),y=-1,x=l.length;++y<x;)l[y].call(e,g);r.state===pp&&(r.on.call("end",e,e.__data__,r.index,r.group),m())}function m(){r.state=_u,r.timer.stop(),delete a[n];for(var h in a)return;delete e.__transition}}function Eu(e,n){var r=e.__transition,a,l,c=!0,d;if(r){n=n==null?null:n+"";for(d in r){if((a=r[d]).name!==n){c=!1;continue}l=a.state>hp&&a.state<pp,a.state=_u,a.timer.stop(),a.on.call(l?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[d]}c&&delete e.__transition}}function WO(e){return this.each(function(){Eu(this,e)})}function KO(e,n){var r,a;return function(){var l=hs(this,e),c=l.tween;if(c!==r){a=r=c;for(var d=0,f=a.length;d<f;++d)if(a[d].name===n){a=a.slice(),a.splice(d,1);break}}l.tween=a}}function QO(e,n,r){var a,l;if(typeof r!="function")throw new Error;return function(){var c=hs(this,e),d=c.tween;if(d!==a){l=(a=d).slice();for(var f={name:n,value:r},m=0,h=l.length;m<h;++m)if(l[m].name===n){l[m]=f;break}m===h&&l.push(f)}c.tween=l}}function JO(e,n){var r=this._id;if(e+="",arguments.length<2){for(var a=Xn(this.node(),r).tween,l=0,c=a.length,d;l<c;++l)if((d=a[l]).name===e)return d.value;return null}return this.each((n==null?KO:QO)(r,e,n))}function gg(e,n,r){var a=e._id;return e.each(function(){var l=hs(this,a);(l.value||(l.value={}))[n]=r.apply(this,arguments)}),function(l){return Xn(l,a).value[n]}}function oj(e,n){var r;return(typeof n=="number"?ns:n instanceof go?Yu:(r=go(n))?(n=r,Yu):Q2)(e,n)}function e8(e){return function(){this.removeAttribute(e)}}function t8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n8(e,n,r){var a,l=r+"",c;return function(){var d=this.getAttribute(e);return d===l?null:d===a?c:c=n(a=d,r)}}function s8(e,n,r){var a,l=r+"",c;return function(){var d=this.getAttributeNS(e.space,e.local);return d===l?null:d===a?c:c=n(a=d,r)}}function r8(e,n,r){var a,l,c;return function(){var d,f=r(this),m;return f==null?void this.removeAttribute(e):(d=this.getAttribute(e),m=f+"",d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f)))}}function o8(e,n,r){var a,l,c;return function(){var d,f=r(this),m;return f==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),m=f+"",d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f)))}}function a8(e,n){var r=Md(e),a=r==="transform"?HO:oj;return this.attrTween(e,typeof n=="function"?(r.local?o8:r8)(r,a,gg(this,"attr."+e,n)):n==null?(r.local?t8:e8)(r):(r.local?s8:n8)(r,a,n))}function i8(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function l8(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function c8(e,n){var r,a;function l(){var c=n.apply(this,arguments);return c!==a&&(r=(a=c)&&l8(e,c)),r}return l._value=n,l}function u8(e,n){var r,a;function l(){var c=n.apply(this,arguments);return c!==a&&(r=(a=c)&&i8(e,c)),r}return l._value=n,l}function d8(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var a=Md(e);return this.tween(r,(a.local?c8:u8)(a,n))}function f8(e,n){return function(){pg(this,e).delay=+n.apply(this,arguments)}}function m8(e,n){return n=+n,function(){pg(this,e).delay=n}}function h8(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?f8:m8)(n,e)):Xn(this.node(),n).delay}function p8(e,n){return function(){hs(this,e).duration=+n.apply(this,arguments)}}function g8(e,n){return n=+n,function(){hs(this,e).duration=n}}function x8(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?p8:g8)(n,e)):Xn(this.node(),n).duration}function y8(e,n){if(typeof n!="function")throw new Error;return function(){hs(this,e).ease=n}}function v8(e){var n=this._id;return arguments.length?this.each(y8(n,e)):Xn(this.node(),n).ease}function b8(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;hs(this,e).ease=r}}function w8(e){if(typeof e!="function")throw new Error;return this.each(b8(this._id,e))}function N8(e){typeof e!="function"&&(e=I2(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=[],m,h=0;h<d;++h)(m=c[h])&&e.call(m,m.__data__,h,c)&&f.push(m);return new Fs(a,this._parents,this._name,this._id)}function j8(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,a=n.length,l=r.length,c=Math.min(a,l),d=new Array(a),f=0;f<c;++f)for(var m=n[f],h=r[f],g=m.length,y=d[f]=new Array(g),x,b=0;b<g;++b)(x=m[b]||h[b])&&(y[b]=x);for(;f<a;++f)d[f]=n[f];return new Fs(d,this._parents,this._name,this._id)}function S8(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function _8(e,n,r){var a,l,c=S8(n)?pg:hs;return function(){var d=c(this,e),f=d.on;f!==a&&(l=(a=f).copy()).on(n,r),d.on=l}}function E8(e,n){var r=this._id;return arguments.length<2?Xn(this.node(),r).on.on(e):this.each(_8(r,e,n))}function C8(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function k8(){return this.on("end.remove",C8(this._id))}function A8(e){var n=this._name,r=this._id;typeof e!="function"&&(e=ug(e));for(var a=this._groups,l=a.length,c=new Array(l),d=0;d<l;++d)for(var f=a[d],m=f.length,h=c[d]=new Array(m),g,y,x=0;x<m;++x)(g=f[x])&&(y=e.call(g,g.__data__,x,f))&&("__data__"in g&&(y.__data__=g.__data__),h[x]=y,Rd(h[x],n,r,x,h,Xn(g,r)));return new Fs(c,this._parents,n,r)}function M8(e){var n=this._name,r=this._id;typeof e!="function"&&(e=z2(e));for(var a=this._groups,l=a.length,c=[],d=[],f=0;f<l;++f)for(var m=a[f],h=m.length,g,y=0;y<h;++y)if(g=m[y]){for(var x=e.call(g,g.__data__,y,m),b,j=Xn(g,r),N=0,S=x.length;N<S;++N)(b=x[N])&&Rd(b,n,r,N,x,j);c.push(x),d.push(g)}return new Fs(c,d,n,r)}var T8=_l.prototype.constructor;function R8(){return new T8(this._groups,this._parents)}function D8(e,n){var r,a,l;return function(){var c=_a(this,e),d=(this.style.removeProperty(e),_a(this,e));return c===d?null:c===r&&d===a?l:l=n(r=c,a=d)}}function aj(e){return function(){this.style.removeProperty(e)}}function O8(e,n,r){var a,l=r+"",c;return function(){var d=_a(this,e);return d===l?null:d===a?c:c=n(a=d,r)}}function z8(e,n,r){var a,l,c;return function(){var d=_a(this,e),f=r(this),m=f+"";return f==null&&(m=f=(this.style.removeProperty(e),_a(this,e))),d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f))}}function I8(e,n){var r,a,l,c="style."+n,d="end."+c,f;return function(){var m=hs(this,e),h=m.on,g=m.value[c]==null?f||(f=aj(n)):void 0;(h!==r||l!==g)&&(a=(r=h).copy()).on(d,l=g),m.on=a}}function L8(e,n,r){var a=(e+="")=="transform"?$O:oj;return n==null?this.styleTween(e,D8(e,a)).on("end.style."+e,aj(e)):typeof n=="function"?this.styleTween(e,z8(e,a,gg(this,"style."+e,n))).each(I8(this._id,e)):this.styleTween(e,O8(e,a,n),r).on("end.style."+e,null)}function $8(e,n,r){return function(a){this.style.setProperty(e,n.call(this,a),r)}}function H8(e,n,r){var a,l;function c(){var d=n.apply(this,arguments);return d!==l&&(a=(l=d)&&$8(e,d,r)),a}return c._value=n,c}function P8(e,n,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,H8(e,n,r??""))}function B8(e){return function(){this.textContent=e}}function U8(e){return function(){var n=e(this);this.textContent=n??""}}function V8(e){return this.tween("text",typeof e=="function"?U8(gg(this,"text",e)):B8(e==null?"":e+""))}function q8(e){return function(n){this.textContent=e.call(this,n)}}function F8(e){var n,r;function a(){var l=e.apply(this,arguments);return l!==r&&(n=(r=l)&&q8(l)),n}return a._value=e,a}function Y8(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,F8(e))}function G8(){for(var e=this._name,n=this._id,r=ij(),a=this._groups,l=a.length,c=0;c<l;++c)for(var d=a[c],f=d.length,m,h=0;h<f;++h)if(m=d[h]){var g=Xn(m,n);Rd(m,e,r,h,d,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Fs(a,this._parents,e,r)}function X8(){var e,n,r=this,a=r._id,l=r.size();return new Promise(function(c,d){var f={value:d},m={value:function(){--l===0&&c()}};r.each(function(){var h=hs(this,a),g=h.on;g!==e&&(n=(e=g).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(m)),h.on=n}),l===0&&c()})}var Z8=0;function Fs(e,n,r,a){this._groups=e,this._parents=n,this._name=r,this._id=a}function ij(){return++Z8}var Is=_l.prototype;Fs.prototype={constructor:Fs,select:A8,selectAll:M8,selectChild:Is.selectChild,selectChildren:Is.selectChildren,filter:N8,merge:j8,selection:R8,transition:G8,call:Is.call,nodes:Is.nodes,node:Is.node,size:Is.size,empty:Is.empty,each:Is.each,on:E8,attr:a8,attrTween:d8,style:L8,styleTween:P8,text:V8,textTween:Y8,remove:k8,tween:JO,delay:h8,duration:x8,ease:v8,easeVarying:w8,end:X8,[Symbol.iterator]:Is[Symbol.iterator]};function W8(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var K8={time:null,delay:0,duration:250,ease:W8};function Q8(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function J8(e){var n,r;e instanceof Fs?(n=e._id,e=e._name):(n=ij(),(r=K8).time=hg(),e=e==null?null:e+"");for(var a=this._groups,l=a.length,c=0;c<l;++c)for(var d=a[c],f=d.length,m,h=0;h<f;++h)(m=d[h])&&Rd(m,e,n,h,d,r||Q8(m,n));return new Fs(a,this._parents,e,n)}_l.prototype.interrupt=WO;_l.prototype.transition=J8;const iu=e=>()=>e;function e9(e,{sourceEvent:n,target:r,transform:a,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:l}})}function $s(e,n,r){this.k=e,this.x=n,this.y=r}$s.prototype={constructor:$s,scale:function(e){return e===1?this:new $s(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new $s(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dd=new $s(1,0,0);lj.prototype=$s.prototype;function lj(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Dd;return e.__zoom}function Eh(e){e.stopImmediatePropagation()}function Yi(e){e.preventDefault(),e.stopImmediatePropagation()}function t9(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function n9(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hb(){return this.__zoom||Dd}function s9(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function r9(){return navigator.maxTouchPoints||"ontouchstart"in this}function o9(e,n,r){var a=e.invertX(n[0][0])-r[0][0],l=e.invertX(n[1][0])-r[1][0],c=e.invertY(n[0][1])-r[0][1],d=e.invertY(n[1][1])-r[1][1];return e.translate(l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function cj(){var e=t9,n=n9,r=o9,a=s9,l=r9,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],f=250,m=ju,h=Ad("start","zoom","end"),g,y,x,b=500,j=150,N=0,S=10;function _(B){B.property("__zoom",hb).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",K).filter(l).on("touchstart.zoom",J).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",Z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(B,U,k,L){var I=B.selection?B.selection():B;I.property("__zoom",hb),B!==I?R(B,U,k,L):I.interrupt().each(function(){D(this,arguments).event(L).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},_.scaleBy=function(B,U,k,L){_.scaleTo(B,function(){var I=this.__zoom.k,H=typeof U=="function"?U.apply(this,arguments):U;return I*H},k,L)},_.scaleTo=function(B,U,k,L){_.transform(B,function(){var I=n.apply(this,arguments),H=this.__zoom,C=k==null?T(I):typeof k=="function"?k.apply(this,arguments):k,$=H.invert(C),Y=typeof U=="function"?U.apply(this,arguments):U;return r(E(M(H,Y),C,$),I,d)},k,L)},_.translateBy=function(B,U,k,L){_.transform(B,function(){return r(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),d)},null,L)},_.translateTo=function(B,U,k,L,I){_.transform(B,function(){var H=n.apply(this,arguments),C=this.__zoom,$=L==null?T(H):typeof L=="function"?L.apply(this,arguments):L;return r(Dd.translate($[0],$[1]).scale(C.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof k=="function"?-k.apply(this,arguments):-k),H,d)},L,I)};function M(B,U){return U=Math.max(c[0],Math.min(c[1],U)),U===B.k?B:new $s(U,B.x,B.y)}function E(B,U,k){var L=U[0]-k[0]*B.k,I=U[1]-k[1]*B.k;return L===B.x&&I===B.y?B:new $s(B.k,L,I)}function T(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function R(B,U,k,L){B.on("start.zoom",function(){D(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(L).end()}).tween("zoom",function(){var I=this,H=arguments,C=D(I,H).event(L),$=n.apply(I,H),Y=k==null?T($):typeof k=="function"?k.apply(I,H):k,V=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),W=I.__zoom,fe=typeof U=="function"?U.apply(I,H):U,ue=m(W.invert(Y).concat(V/W.k),fe.invert(Y).concat(V/fe.k));return function(te){if(te===1)te=fe;else{var ie=ue(te),ge=V/ie[2];te=new $s(ge,Y[0]-ie[0]*ge,Y[1]-ie[1]*ge)}C.zoom(null,te)}})}function D(B,U,k){return!k&&B.__zooming||new O(B,U)}function O(B,U){this.that=B,this.args=U,this.active=0,this.sourceEvent=null,this.extent=n.apply(B,U),this.taps=0}O.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,U){return this.mouse&&B!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var U=bn(this.that).datum();h.call(B,this.that,new e9(B,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),U)}};function P(B,...U){if(!e.apply(this,arguments))return;var k=D(this,U).event(B),L=this.__zoom,I=Math.max(c[0],Math.min(c[1],L.k*Math.pow(2,a.apply(this,arguments)))),H=Bn(B);if(k.wheel)(k.mouse[0][0]!==H[0]||k.mouse[0][1]!==H[1])&&(k.mouse[1]=L.invert(k.mouse[0]=H)),clearTimeout(k.wheel);else{if(L.k===I)return;k.mouse=[H,L.invert(H)],Eu(this),k.start()}Yi(B),k.wheel=setTimeout(C,j),k.zoom("mouse",r(E(M(L,I),k.mouse[0],k.mouse[1]),k.extent,d));function C(){k.wheel=null,k.end()}}function q(B,...U){if(x||!e.apply(this,arguments))return;var k=B.currentTarget,L=D(this,U,!0).event(B),I=bn(B.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",V,!0),H=Bn(B,k),C=B.clientX,$=B.clientY;Y2(B.view),Eh(B),L.mouse=[H,this.__zoom.invert(H)],Eu(this),L.start();function Y(W){if(Yi(W),!L.moved){var fe=W.clientX-C,ue=W.clientY-$;L.moved=fe*fe+ue*ue>N}L.event(W).zoom("mouse",r(E(L.that.__zoom,L.mouse[0]=Bn(W,k),L.mouse[1]),L.extent,d))}function V(W){I.on("mousemove.zoom mouseup.zoom",null),G2(W.view,L.moved),Yi(W),L.event(W).end()}}function K(B,...U){if(e.apply(this,arguments)){var k=this.__zoom,L=Bn(B.changedTouches?B.changedTouches[0]:B,this),I=k.invert(L),H=k.k*(B.shiftKey?.5:2),C=r(E(M(k,H),L,I),n.apply(this,U),d);Yi(B),f>0?bn(this).transition().duration(f).call(R,C,L,B):bn(this).call(_.transform,C,L,B)}}function J(B,...U){if(e.apply(this,arguments)){var k=B.touches,L=k.length,I=D(this,U,B.changedTouches.length===L).event(B),H,C,$,Y;for(Eh(B),C=0;C<L;++C)$=k[C],Y=Bn($,this),Y=[Y,this.__zoom.invert(Y),$.identifier],I.touch0?!I.touch1&&I.touch0[2]!==Y[2]&&(I.touch1=Y,I.taps=0):(I.touch0=Y,H=!0,I.taps=1+!!g);g&&(g=clearTimeout(g)),H&&(I.taps<2&&(y=Y[0],g=setTimeout(function(){g=null},b)),Eu(this),I.start())}}function G(B,...U){if(this.__zooming){var k=D(this,U).event(B),L=B.changedTouches,I=L.length,H,C,$,Y;for(Yi(B),H=0;H<I;++H)C=L[H],$=Bn(C,this),k.touch0&&k.touch0[2]===C.identifier?k.touch0[0]=$:k.touch1&&k.touch1[2]===C.identifier&&(k.touch1[0]=$);if(C=k.that.__zoom,k.touch1){var V=k.touch0[0],W=k.touch0[1],fe=k.touch1[0],ue=k.touch1[1],te=(te=fe[0]-V[0])*te+(te=fe[1]-V[1])*te,ie=(ie=ue[0]-W[0])*ie+(ie=ue[1]-W[1])*ie;C=M(C,Math.sqrt(te/ie)),$=[(V[0]+fe[0])/2,(V[1]+fe[1])/2],Y=[(W[0]+ue[0])/2,(W[1]+ue[1])/2]}else if(k.touch0)$=k.touch0[0],Y=k.touch0[1];else return;k.zoom("touch",r(E(C,$,Y),k.extent,d))}}function Z(B,...U){if(this.__zooming){var k=D(this,U).event(B),L=B.changedTouches,I=L.length,H,C;for(Eh(B),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),H=0;H<I;++H)C=L[H],k.touch0&&k.touch0[2]===C.identifier?delete k.touch0:k.touch1&&k.touch1[2]===C.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(C=Bn(C,this),Math.hypot(y[0]-C[0],y[1]-C[1])<S)){var $=bn(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return _.wheelDelta=function(B){return arguments.length?(a=typeof B=="function"?B:iu(+B),_):a},_.filter=function(B){return arguments.length?(e=typeof B=="function"?B:iu(!!B),_):e},_.touchable=function(B){return arguments.length?(l=typeof B=="function"?B:iu(!!B),_):l},_.extent=function(B){return arguments.length?(n=typeof B=="function"?B:iu([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),_):n},_.scaleExtent=function(B){return arguments.length?(c[0]=+B[0],c[1]=+B[1],_):[c[0],c[1]]},_.translateExtent=function(B){return arguments.length?(d[0][0]=+B[0][0],d[1][0]=+B[1][0],d[0][1]=+B[0][1],d[1][1]=+B[1][1],_):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},_.constrain=function(B){return arguments.length?(r=B,_):r},_.duration=function(B){return arguments.length?(f=+B,_):f},_.interpolate=function(B){return arguments.length?(m=B,_):m},_.on=function(){var B=h.on.apply(h,arguments);return B===h?_:B},_.clickDistance=function(B){return arguments.length?(N=(B=+B)*B,_):Math.sqrt(N)},_.tapDistance=function(B){return arguments.length?(S=+B,_):S},_}const us={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:a}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},dl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],uj=["Enter"," ","Escape"],dj={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:r})=>`Moved selected node ${e}. New position, x: ${n}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Ca;(function(e){e.Strict="strict",e.Loose="loose"})(Ca||(Ca={}));var co;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(co||(co={}));var fl;(function(e){e.Partial="partial",e.Full="full"})(fl||(fl={}));const fj={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Er;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Er||(Er={}));var Wu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Wu||(Wu={}));var Le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Le||(Le={}));const pb={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top};function mj(e){return e===null?null:e?"valid":"invalid"}const hj=e=>"id"in e&&"source"in e&&"target"in e,a9=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),xg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Cl=(e,n=[0,0])=>{const{width:r,height:a}=Ys(e),l=e.origin??n,c=r*l[0],d=a*l[1];return{x:e.position.x-c,y:e.position.y-d}},i9=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,l)=>{const c=typeof l=="string";let d=!n.nodeLookup&&!c?l:void 0;n.nodeLookup&&(d=c?n.nodeLookup.get(l):xg(l)?l:n.nodeLookup.get(l.id));const f=d?Ku(d,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Od(a,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return zd(r)},kl=(e,n={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(a=>{if(n.filter===void 0||n.filter(a)){const l=Ku(a);r=Od(r,l)}}),zd(r)},yg=(e,n,[r,a,l]=[0,0,1],c=!1,d=!1)=>{const f={...Ml(n,[r,a,l]),width:n.width/l,height:n.height/l},m=[];for(const h of e.values()){const{measured:g,selectable:y=!0,hidden:x=!1}=h;if(d&&!y||x)continue;const b=g.width??h.width??h.initialWidth??null,j=g.height??h.height??h.initialHeight??null,N=ml(f,Aa(h)),S=(b??0)*(j??0),_=c&&N>0;(!h.internals.handleBounds||_||N>=S||h.dragging)&&m.push(h)}return m},l9=(e,n)=>{const r=new Set;return e.forEach(a=>{r.add(a.id)}),n.filter(a=>r.has(a.source)||r.has(a.target))};function c9(e,n){const r=new Map,a=n?.nodes?new Set(n.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(n?.includeHiddenNodes||!l.hidden)&&(!a||a.has(l.id))&&r.set(l.id,l)}),r}async function u9({nodes:e,width:n,height:r,panZoom:a,minZoom:l,maxZoom:c},d){if(e.size===0)return Promise.resolve(!0);const f=c9(e,d),m=kl(f),h=vg(m,n,r,d?.minZoom??l,d?.maxZoom??c,d?.padding??.1);return await a.setViewport(h,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function pj({nodeId:e,nextPosition:n,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:l,onError:c}){const d=r.get(e),f=d.parentId?r.get(d.parentId):void 0,{x:m,y:h}=f?f.internals.positionAbsolute:{x:0,y:0},g=d.origin??a;let y=d.extent||l;if(d.extent==="parent"&&!d.expandParent)if(!f)c?.("005",us.error005());else{const b=f.measured.width,j=f.measured.height;b&&j&&(y=[[m,h],[m+b,h+j]])}else f&&Ma(d.extent)&&(y=[[d.extent[0][0]+m,d.extent[0][1]+h],[d.extent[1][0]+m,d.extent[1][1]+h]]);const x=Ma(y)?yo(n,y,d.measured):n;return(d.measured.width===void 0||d.measured.height===void 0)&&c?.("015",us.error015()),{position:{x:x.x-m+(d.measured.width??0)*g[0],y:x.y-h+(d.measured.height??0)*g[1]},positionAbsolute:x}}async function d9({nodesToRemove:e=[],edgesToRemove:n=[],nodes:r,edges:a,onBeforeDelete:l}){const c=new Set(e.map(x=>x.id)),d=[];for(const x of r){if(x.deletable===!1)continue;const b=c.has(x.id),j=!b&&x.parentId&&d.find(N=>N.id===x.parentId);(b||j)&&d.push(x)}const f=new Set(n.map(x=>x.id)),m=a.filter(x=>x.deletable!==!1),g=l9(d,m);for(const x of m)f.has(x.id)&&!g.find(j=>j.id===x.id)&&g.push(x);if(!l)return{edges:g,nodes:d};const y=await l({nodes:d,edges:g});return typeof y=="boolean"?y?{edges:g,nodes:d}:{edges:[],nodes:[]}:y}const ka=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),yo=(e={x:0,y:0},n,r)=>({x:ka(e.x,n[0][0],n[1][0]-(r?.width??0)),y:ka(e.y,n[0][1],n[1][1]-(r?.height??0))});function gj(e,n,r){const{width:a,height:l}=Ys(r),{x:c,y:d}=r.internals.positionAbsolute;return yo(e,[[c,d],[c+a,d+l]],n)}const gb=(e,n,r)=>e<n?ka(Math.abs(e-n),1,n)/n:e>r?-ka(Math.abs(e-r),1,n)/n:0,xj=(e,n,r=15,a=40)=>{const l=gb(e.x,a,n.width-a)*r,c=gb(e.y,a,n.height-a)*r;return[l,c]},Od=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),gp=({x:e,y:n,width:r,height:a})=>({x:e,y:n,x2:e+r,y2:n+a}),zd=({x:e,y:n,x2:r,y2:a})=>({x:e,y:n,width:r-e,height:a-n}),Aa=(e,n=[0,0])=>{const{x:r,y:a}=xg(e)?e.internals.positionAbsolute:Cl(e,n);return{x:r,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Ku=(e,n=[0,0])=>{const{x:r,y:a}=xg(e)?e.internals.positionAbsolute:Cl(e,n);return{x:r,y:a,x2:r+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},yj=(e,n)=>zd(Od(gp(e),gp(n))),ml=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),a=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*a)},xb=e=>Vn(e.width)&&Vn(e.height)&&Vn(e.x)&&Vn(e.y),Vn=e=>!isNaN(e)&&isFinite(e),f9=(e,n)=>{},Al=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),Ml=({x:e,y:n},[r,a,l],c=!1,d=[1,1])=>{const f={x:(e-r)/l,y:(n-a)/l};return c?Al(f,d):f},Qu=({x:e,y:n},[r,a,l])=>({x:e*l+r,y:n*l+a});function da(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(n*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function m9(e,n,r){if(typeof e=="string"||typeof e=="number"){const a=da(e,r),l=da(e,n);return{top:a,right:l,bottom:a,left:l,x:l*2,y:a*2}}if(typeof e=="object"){const a=da(e.top??e.y??0,r),l=da(e.bottom??e.y??0,r),c=da(e.left??e.x??0,n),d=da(e.right??e.x??0,n);return{top:a,right:d,bottom:l,left:c,x:c+d,y:a+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function h9(e,n,r,a,l,c){const{x:d,y:f}=Qu(e,[n,r,a]),{x:m,y:h}=Qu({x:e.x+e.width,y:e.y+e.height},[n,r,a]),g=l-m,y=c-h;return{left:Math.floor(d),top:Math.floor(f),right:Math.floor(g),bottom:Math.floor(y)}}const vg=(e,n,r,a,l,c)=>{const d=m9(c,n,r),f=(n-d.x)/e.width,m=(r-d.y)/e.height,h=Math.min(f,m),g=ka(h,a,l),y=e.x+e.width/2,x=e.y+e.height/2,b=n/2-y*g,j=r/2-x*g,N=h9(e,b,j,g,n,r),S={left:Math.min(N.left-d.left,0),top:Math.min(N.top-d.top,0),right:Math.min(N.right-d.right,0),bottom:Math.min(N.bottom-d.bottom,0)};return{x:b-S.left+S.right,y:j-S.top+S.bottom,zoom:g}},hl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Ma(e){return e!=null&&e!=="parent"}function Ys(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function vj(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function bj(e,n={width:0,height:0},r,a,l){const c={...e},d=a.get(r);if(d){const f=d.origin||l;c.x+=d.internals.positionAbsolute.x-(n.width??0)*f[0],c.y+=d.internals.positionAbsolute.y-(n.height??0)*f[1]}return c}function yb(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function p9(){let e,n;return{promise:new Promise((a,l)=>{e=a,n=l}),resolve:e,reject:n}}function g9(e){return{...dj,...e||{}}}function tl(e,{snapGrid:n=[0,0],snapToGrid:r=!1,transform:a,containerBounds:l}){const{x:c,y:d}=os(e),f=Ml({x:c-(l?.left??0),y:d-(l?.top??0)},a),{x:m,y:h}=r?Al(f,n):f;return{xSnapped:m,ySnapped:h,...f}}const bg=e=>({width:e.offsetWidth,height:e.offsetHeight}),wj=e=>e?.getRootNode?.()||window?.document,x9=["INPUT","SELECT","TEXTAREA"];function Nj(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:x9.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const jj=e=>"clientX"in e,os=(e,n)=>{const r=jj(e),a=r?e.clientX:e.touches?.[0].clientX,l=r?e.clientY:e.touches?.[0].clientY;return{x:a-(n?.left??0),y:l-(n?.top??0)}},vb=(e,n,r,a,l)=>{const c=n.querySelectorAll(`.${e}`);return!c||!c.length?null:Array.from(c).map(d=>{const f=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:e,nodeId:l,position:d.getAttribute("data-handlepos"),x:(f.left-r.left)/a,y:(f.top-r.top)/a,...bg(d)}})};function Sj({sourceX:e,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f}){const m=e*.125+l*.375+d*.375+r*.125,h=n*.125+c*.375+f*.375+a*.125,g=Math.abs(m-e),y=Math.abs(h-n);return[m,h,g,y]}function lu(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function bb({pos:e,x1:n,y1:r,x2:a,y2:l,c}){switch(e){case Le.Left:return[n-lu(n-a,c),r];case Le.Right:return[n+lu(a-n,c),r];case Le.Top:return[n,r-lu(r-l,c)];case Le.Bottom:return[n,r+lu(l-r,c)]}}function _j({sourceX:e,sourceY:n,sourcePosition:r=Le.Bottom,targetX:a,targetY:l,targetPosition:c=Le.Top,curvature:d=.25}){const[f,m]=bb({pos:r,x1:e,y1:n,x2:a,y2:l,c:d}),[h,g]=bb({pos:c,x1:a,y1:l,x2:e,y2:n,c:d}),[y,x,b,j]=Sj({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:m,targetControlX:h,targetControlY:g});return[`M${e},${n} C${f},${m} ${h},${g} ${a},${l}`,y,x,b,j]}function Ej({sourceX:e,sourceY:n,targetX:r,targetY:a}){const l=Math.abs(r-e)/2,c=r<e?r+l:r-l,d=Math.abs(a-n)/2,f=a<n?a+d:a-d;return[c,f,l,d]}function y9({sourceNode:e,targetNode:n,selected:r=!1,zIndex:a,elevateOnSelect:l=!1}){if(a!==void 0)return a;const c=l&&r?1e3:0,d=Math.max(e.parentId?e.internals.z:0,n.parentId?n.internals.z:0);return c+d}function v9({sourceNode:e,targetNode:n,width:r,height:a,transform:l}){const c=Od(Ku(e),Ku(n));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d={x:-l[0]/l[2],y:-l[1]/l[2],width:r/l[2],height:a/l[2]};return ml(d,zd(c))>0}const b9=({source:e,sourceHandle:n,target:r,targetHandle:a})=>`xy-edge__${e}${n||""}-${r}${a||""}`,w9=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),N9=(e,n)=>{if(!e.source||!e.target)return n;let r;return hj(e)?r={...e}:r={...e,id:b9(e)},w9(r,n)?n:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,n.concat(r))};function Cj({sourceX:e,sourceY:n,targetX:r,targetY:a}){const[l,c,d,f]=Ej({sourceX:e,sourceY:n,targetX:r,targetY:a});return[`M ${e},${n}L ${r},${a}`,l,c,d,f]}const wb={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}},j9=({source:e,sourcePosition:n=Le.Bottom,target:r})=>n===Le.Left||n===Le.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Nb=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function S9({source:e,sourcePosition:n=Le.Bottom,target:r,targetPosition:a=Le.Top,center:l,offset:c,stepPosition:d}){const f=wb[n],m=wb[a],h={x:e.x+f.x*c,y:e.y+f.y*c},g={x:r.x+m.x*c,y:r.y+m.y*c},y=j9({source:h,sourcePosition:n,target:g}),x=y.x!==0?"x":"y",b=y[x];let j=[],N,S;const _={x:0,y:0},M={x:0,y:0},[,,E,T]=Ej({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(f[x]*m[x]===-1){x==="x"?(N=l.x??h.x+(g.x-h.x)*d,S=l.y??(h.y+g.y)/2):(N=l.x??(h.x+g.x)/2,S=l.y??h.y+(g.y-h.y)*d);const D=[{x:N,y:h.y},{x:N,y:g.y}],O=[{x:h.x,y:S},{x:g.x,y:S}];f[x]===b?j=x==="x"?D:O:j=x==="x"?O:D}else{const D=[{x:h.x,y:g.y}],O=[{x:g.x,y:h.y}];if(x==="x"?j=f.x===b?O:D:j=f.y===b?D:O,n===a){const G=Math.abs(e[x]-r[x]);if(G<=c){const Z=Math.min(c-1,c-G);f[x]===b?_[x]=(h[x]>e[x]?-1:1)*Z:M[x]=(g[x]>r[x]?-1:1)*Z}}if(n!==a){const G=x==="x"?"y":"x",Z=f[x]===m[G],B=h[G]>g[G],U=h[G]<g[G];(f[x]===1&&(!Z&&B||Z&&U)||f[x]!==1&&(!Z&&U||Z&&B))&&(j=x==="x"?D:O)}const P={x:h.x+_.x,y:h.y+_.y},q={x:g.x+M.x,y:g.y+M.y},K=Math.max(Math.abs(P.x-j[0].x),Math.abs(q.x-j[0].x)),J=Math.max(Math.abs(P.y-j[0].y),Math.abs(q.y-j[0].y));K>=J?(N=(P.x+q.x)/2,S=j[0].y):(N=j[0].x,S=(P.y+q.y)/2)}return[[e,{x:h.x+_.x,y:h.y+_.y},...j,{x:g.x+M.x,y:g.y+M.y},r],N,S,E,T]}function _9(e,n,r,a){const l=Math.min(Nb(e,n)/2,Nb(n,r)/2,a),{x:c,y:d}=n;if(e.x===c&&c===r.x||e.y===d&&d===r.y)return`L${c} ${d}`;if(e.y===d){const h=e.x<r.x?-1:1,g=e.y<r.y?1:-1;return`L ${c+l*h},${d}Q ${c},${d} ${c},${d+l*g}`}const f=e.x<r.x?1:-1,m=e.y<r.y?-1:1;return`L ${c},${d+l*m}Q ${c},${d} ${c+l*f},${d}`}function xp({sourceX:e,sourceY:n,sourcePosition:r=Le.Bottom,targetX:a,targetY:l,targetPosition:c=Le.Top,borderRadius:d=5,centerX:f,centerY:m,offset:h=20,stepPosition:g=.5}){const[y,x,b,j,N]=S9({source:{x:e,y:n},sourcePosition:r,target:{x:a,y:l},targetPosition:c,center:{x:f,y:m},offset:h,stepPosition:g});return[y.reduce((_,M,E)=>{let T="";return E>0&&E<y.length-1?T=_9(y[E-1],M,y[E+1],d):T=`${E===0?"M":"L"}${M.x} ${M.y}`,_+=T,_},""),x,b,j,N]}function jb(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function E9(e){const{sourceNode:n,targetNode:r}=e;if(!jb(n)||!jb(r))return null;const a=n.internals.handleBounds||Sb(n.handles),l=r.internals.handleBounds||Sb(r.handles),c=_b(a?.source??[],e.sourceHandle),d=_b(e.connectionMode===Ca.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!c||!d)return e.onError?.("008",us.error008(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=c?.position||Le.Bottom,m=d?.position||Le.Top,h=pl(n,c,f),g=pl(r,d,m);return{sourceX:h.x,sourceY:h.y,targetX:g.x,targetY:g.y,sourcePosition:f,targetPosition:m}}function Sb(e){if(!e)return null;const n=[],r=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?n.push(a):a.type==="target"&&r.push(a);return{source:n,target:r}}function pl(e,n,r=Le.Left,a=!1){const l=(n?.x??0)+e.internals.positionAbsolute.x,c=(n?.y??0)+e.internals.positionAbsolute.y,{width:d,height:f}=n??Ys(e);if(a)return{x:l+d/2,y:c+f/2};switch(n?.position??r){case Le.Top:return{x:l+d/2,y:c};case Le.Right:return{x:l+d,y:c+f/2};case Le.Bottom:return{x:l+d/2,y:c+f};case Le.Left:return{x:l,y:c+f/2}}}function _b(e,n){return e&&(n?e.find(r=>r.id===n):e[0])||null}function yp(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function C9(e,{id:n,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:l}){const c=new Set;return e.reduce((d,f)=>([f.markerStart||a,f.markerEnd||l].forEach(m=>{if(m&&typeof m=="object"){const h=yp(m,n);c.has(h)||(d.push({id:h,color:m.color||r,...m}),c.add(h))}}),d),[]).sort((d,f)=>d.id.localeCompare(f.id))}const wg={nodeOrigin:[0,0],nodeExtent:dl,elevateNodesOnSelect:!0,defaults:{}},k9={...wg,checkEquality:!0};function Ng(e,n){const r={...e};for(const a in n)n[a]!==void 0&&(r[a]=n[a]);return r}function A9(e,n,r){const a=Ng(wg,r);for(const l of e.values())if(l.parentId)jg(l,e,n,a);else{const c=Cl(l,a.nodeOrigin),d=Ma(l.extent)?l.extent:a.nodeExtent,f=yo(c,d,Ys(l));l.internals.positionAbsolute=f}}function vp(e,n,r,a){const l=Ng(k9,a);let c=e.length>0;const d=new Map(n),f=l?.elevateNodesOnSelect?1e3:0;n.clear(),r.clear();for(const m of e){let h=d.get(m.id);if(l.checkEquality&&m===h?.internals.userNode)n.set(m.id,h);else{const g=Cl(m,l.nodeOrigin),y=Ma(m.extent)?m.extent:l.nodeExtent,x=yo(g,y,Ys(m));h={...l.defaults,...m,measured:{width:m.measured?.width,height:m.measured?.height},internals:{positionAbsolute:x,handleBounds:m.measured?h?.internals.handleBounds:void 0,z:kj(m,f),userNode:m}},n.set(m.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),m.parentId&&jg(h,n,r,a)}return c}function M9(e,n){if(!e.parentId)return;const r=n.get(e.parentId);r?r.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function jg(e,n,r,a){const{elevateNodesOnSelect:l,nodeOrigin:c,nodeExtent:d}=Ng(wg,a),f=e.parentId,m=n.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}M9(e,r);const h=l?1e3:0,{x:g,y,z:x}=T9(e,m,c,d,h),{positionAbsolute:b}=e.internals,j=g!==b.x||y!==b.y;(j||x!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:j?{x:g,y}:b,z:x}})}function kj(e,n){return(Vn(e.zIndex)?e.zIndex:0)+(e.selected?n:0)}function T9(e,n,r,a,l){const{x:c,y:d}=n.internals.positionAbsolute,f=Ys(e),m=Cl(e,r),h=Ma(e.extent)?yo(m,e.extent,f):m;let g=yo({x:c+h.x,y:d+h.y},a,f);e.extent==="parent"&&(g=gj(g,f,n));const y=kj(e,l),x=n.internals.z??0;return{x:g.x,y:g.y,z:x>=y?x+1:y}}function Sg(e,n,r,a=[0,0]){const l=[],c=new Map;for(const d of e){const f=n.get(d.parentId);if(!f)continue;const m=c.get(d.parentId)?.expandedRect??Aa(f),h=yj(m,d.rect);c.set(d.parentId,{expandedRect:h,parent:f})}return c.size>0&&c.forEach(({expandedRect:d,parent:f},m)=>{const h=f.internals.positionAbsolute,g=Ys(f),y=f.origin??a,x=d.x<h.x?Math.round(Math.abs(h.x-d.x)):0,b=d.y<h.y?Math.round(Math.abs(h.y-d.y)):0,j=Math.max(g.width,Math.round(d.width)),N=Math.max(g.height,Math.round(d.height)),S=(j-g.width)*y[0],_=(N-g.height)*y[1];(x>0||b>0||S||_)&&(l.push({id:m,type:"position",position:{x:f.position.x-x+S,y:f.position.y-b+_}}),r.get(m)?.forEach(M=>{e.some(E=>E.id===M.id)||l.push({id:M.id,type:"position",position:{x:M.position.x+x,y:M.position.y+b}})})),(g.width<d.width||g.height<d.height||x||b)&&l.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:j+(x?y[0]*x-S:0),height:N+(b?y[1]*b-_:0)}})}),l}function R9(e,n,r,a,l,c){const d=a?.querySelector(".xyflow__viewport");let f=!1;if(!d)return{changes:[],updatedInternals:f};const m=[],h=window.getComputedStyle(d),{m22:g}=new window.DOMMatrixReadOnly(h.transform),y=[];for(const x of e.values()){const b=n.get(x.id);if(!b)continue;if(b.hidden){n.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),f=!0;continue}const j=bg(x.nodeElement),N=b.measured.width!==j.width||b.measured.height!==j.height;if(!!(j.width&&j.height&&(N||!b.internals.handleBounds||x.force))){const _=x.nodeElement.getBoundingClientRect(),M=Ma(b.extent)?b.extent:c;let{positionAbsolute:E}=b.internals;b.parentId&&b.extent==="parent"?E=gj(E,j,n.get(b.parentId)):M&&(E=yo(E,M,j));const T={...b,measured:j,internals:{...b.internals,positionAbsolute:E,handleBounds:{source:vb("source",x.nodeElement,_,g,b.id),target:vb("target",x.nodeElement,_,g,b.id)}}};n.set(b.id,T),b.parentId&&jg(T,n,r,{nodeOrigin:l}),f=!0,N&&(m.push({id:b.id,type:"dimensions",dimensions:j}),b.expandParent&&b.parentId&&y.push({id:b.id,parentId:b.parentId,rect:Aa(T,l)}))}}if(y.length>0){const x=Sg(y,n,r,l);m.push(...x)}return{changes:m,updatedInternals:f}}async function D9({delta:e,panZoom:n,transform:r,translateExtent:a,width:l,height:c}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const d=await n.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[l,c]],a),f=!!d&&(d.x!==r[0]||d.y!==r[1]||d.k!==r[2]);return Promise.resolve(f)}function Eb(e,n,r,a,l,c){let d=l;const f=a.get(d)||new Map;a.set(d,f.set(r,n)),d=`${l}-${e}`;const m=a.get(d)||new Map;if(a.set(d,m.set(r,n)),c){d=`${l}-${e}-${c}`;const h=a.get(d)||new Map;a.set(d,h.set(r,n))}}function Aj(e,n,r){e.clear(),n.clear();for(const a of r){const{source:l,target:c,sourceHandle:d=null,targetHandle:f=null}=a,m={edgeId:a.id,source:l,target:c,sourceHandle:d,targetHandle:f},h=`${l}-${d}--${c}-${f}`,g=`${c}-${f}--${l}-${d}`;Eb("source",m,g,e,l,d),Eb("target",m,h,e,c,f),n.set(a.id,a)}}function Mj(e,n){if(!e.parentId)return!1;const r=n.get(e.parentId);return r?r.selected?!0:Mj(r,n):!1}function Cb(e,n,r){let a=e;do{if(a?.matches?.(n))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function O9(e,n,r,a){const l=new Map;for(const[c,d]of e)if((d.selected||d.id===a)&&(!d.parentId||!Mj(d,e))&&(d.draggable||n&&typeof d.draggable>"u")){const f=e.get(c);f&&l.set(c,{id:c,position:f.position||{x:0,y:0},distance:{x:r.x-f.internals.positionAbsolute.x,y:r.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function Ch({nodeId:e,dragItems:n,nodeLookup:r,dragging:a=!0}){const l=[];for(const[d,f]of n){const m=r.get(d)?.internals.userNode;m&&l.push({...m,position:f.position,dragging:a})}if(!e)return[l[0],l];const c=r.get(e)?.internals.userNode;return[c?{...c,position:n.get(e)?.position||c.position,dragging:a}:l[0],l]}function z9({dragItems:e,snapGrid:n,x:r,y:a}){const l=e.values().next().value;if(!l)return null;const c={x:r-l.distance.x,y:a-l.distance.y},d=Al(c,n);return{x:d.x-c.x,y:d.y-c.y}}function I9({onNodeMouseDown:e,getStoreItems:n,onDragStart:r,onDrag:a,onDragStop:l}){let c={x:null,y:null},d=0,f=new Map,m=!1,h={x:0,y:0},g=null,y=!1,x=null,b=!1,j=!1,N=null;function S({noDragClassName:M,handleSelector:E,domNode:T,isSelectable:R,nodeId:D,nodeClickDistance:O=0}){x=bn(T);function P({x:G,y:Z}){const{nodeLookup:B,nodeExtent:U,snapGrid:k,snapToGrid:L,nodeOrigin:I,onNodeDrag:H,onSelectionDrag:C,onError:$,updateNodePositions:Y}=n();c={x:G,y:Z};let V=!1;const W=f.size>1,fe=W&&U?gp(kl(f)):null,ue=W&&L?z9({dragItems:f,snapGrid:k,x:G,y:Z}):null;for(const[te,ie]of f){if(!B.has(te))continue;let ge={x:G-ie.distance.x,y:Z-ie.distance.y};L&&(ge=ue?{x:Math.round(ge.x+ue.x),y:Math.round(ge.y+ue.y)}:Al(ge,k));let we=null;if(W&&U&&!ie.extent&&fe){const{positionAbsolute:pe}=ie.internals,he=pe.x-fe.x+U[0][0],ee=pe.x+ie.measured.width-fe.x2+U[1][0],ve=pe.y-fe.y+U[0][1],ye=pe.y+ie.measured.height-fe.y2+U[1][1];we=[[he,ve],[ee,ye]]}const{position:Ne,positionAbsolute:ne}=pj({nodeId:te,nextPosition:ge,nodeLookup:B,nodeExtent:we||U,nodeOrigin:I,onError:$});V=V||ie.position.x!==Ne.x||ie.position.y!==Ne.y,ie.position=Ne,ie.internals.positionAbsolute=ne}if(j=j||V,!!V&&(Y(f,!0),N&&(a||H||!D&&C))){const[te,ie]=Ch({nodeId:D,dragItems:f,nodeLookup:B});a?.(N,f,te,ie),H?.(N,te,ie),D||C?.(N,ie)}}async function q(){if(!g)return;const{transform:G,panBy:Z,autoPanSpeed:B,autoPanOnNodeDrag:U}=n();if(!U){m=!1,cancelAnimationFrame(d);return}const[k,L]=xj(h,g,B);(k!==0||L!==0)&&(c.x=(c.x??0)-k/G[2],c.y=(c.y??0)-L/G[2],await Z({x:k,y:L})&&P(c)),d=requestAnimationFrame(q)}function K(G){const{nodeLookup:Z,multiSelectionActive:B,nodesDraggable:U,transform:k,snapGrid:L,snapToGrid:I,selectNodesOnDrag:H,onNodeDragStart:C,onSelectionDragStart:$,unselectNodesAndEdges:Y}=n();y=!0,(!H||!R)&&!B&&D&&(Z.get(D)?.selected||Y()),R&&H&&D&&e?.(D);const V=tl(G.sourceEvent,{transform:k,snapGrid:L,snapToGrid:I,containerBounds:g});if(c=V,f=O9(Z,U,V,D),f.size>0&&(r||C||!D&&$)){const[W,fe]=Ch({nodeId:D,dragItems:f,nodeLookup:Z});r?.(G.sourceEvent,f,W,fe),C?.(G.sourceEvent,W,fe),D||$?.(G.sourceEvent,fe)}}const J=X2().clickDistance(O).on("start",G=>{const{domNode:Z,nodeDragThreshold:B,transform:U,snapGrid:k,snapToGrid:L}=n();g=Z?.getBoundingClientRect()||null,b=!1,j=!1,N=G.sourceEvent,B===0&&K(G),c=tl(G.sourceEvent,{transform:U,snapGrid:k,snapToGrid:L,containerBounds:g}),h=os(G.sourceEvent,g)}).on("drag",G=>{const{autoPanOnNodeDrag:Z,transform:B,snapGrid:U,snapToGrid:k,nodeDragThreshold:L,nodeLookup:I}=n(),H=tl(G.sourceEvent,{transform:B,snapGrid:U,snapToGrid:k,containerBounds:g});if(N=G.sourceEvent,(G.sourceEvent.type==="touchmove"&&G.sourceEvent.touches.length>1||D&&!I.has(D))&&(b=!0),!b){if(!m&&Z&&y&&(m=!0,q()),!y){const C=H.xSnapped-(c.x??0),$=H.ySnapped-(c.y??0);Math.sqrt(C*C+$*$)>L&&K(G)}(c.x!==H.xSnapped||c.y!==H.ySnapped)&&f&&y&&(h=os(G.sourceEvent,g),P(H))}}).on("end",G=>{if(!(!y||b)&&(m=!1,y=!1,cancelAnimationFrame(d),f.size>0)){const{nodeLookup:Z,updateNodePositions:B,onNodeDragStop:U,onSelectionDragStop:k}=n();if(j&&(B(f,!1),j=!1),l||U||!D&&k){const[L,I]=Ch({nodeId:D,dragItems:f,nodeLookup:Z,dragging:!1});l?.(G.sourceEvent,f,L,I),U?.(G.sourceEvent,L,I),D||k?.(G.sourceEvent,I)}}}).filter(G=>{const Z=G.target;return!G.button&&(!M||!Cb(Z,`.${M}`,T))&&(!E||Cb(Z,E,T))});x.call(J)}function _(){x?.on(".drag",null)}return{update:S,destroy:_}}function L9(e,n,r){const a=[],l={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const c of n.values())ml(l,Aa(c))>0&&a.push(c);return a}const $9=250;function H9(e,n,r,a){let l=[],c=1/0;const d=L9(e,r,n+$9);for(const f of d){const m=[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]];for(const h of m){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:g,y}=pl(f,h,h.position,!0),x=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(y-e.y,2));x>n||(x<c?(l=[{...h,x:g,y}],c=x):x===c&&l.push({...h,x:g,y}))}}if(!l.length)return null;if(l.length>1){const f=a.type==="source"?"target":"source";return l.find(m=>m.type===f)??l[0]}return l[0]}function Tj(e,n,r,a,l,c=!1){const d=a.get(e);if(!d)return null;const f=l==="strict"?d.internals.handleBounds?.[n]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],m=(r?f?.find(h=>h.id===r):f?.[0])??null;return m&&c?{...m,...pl(d,m,m.position,!0)}:m}function Rj(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function P9(e,n){let r=null;return n?r=!0:e&&!n&&(r=!1),r}const Dj=()=>!0;function B9(e,{connectionMode:n,connectionRadius:r,handleId:a,nodeId:l,edgeUpdaterType:c,isTarget:d,domNode:f,nodeLookup:m,lib:h,autoPanOnConnect:g,flowId:y,panBy:x,cancelConnection:b,onConnectStart:j,onConnect:N,onConnectEnd:S,isValidConnection:_=Dj,onReconnectEnd:M,updateConnection:E,getTransform:T,getFromHandle:R,autoPanSpeed:D,dragThreshold:O=1,handleDomNode:P}){const q=wj(e.target);let K=0,J;const{x:G,y:Z}=os(e),B=Rj(c,P),U=f?.getBoundingClientRect();let k=!1;if(!U||!B)return;const L=Tj(l,B,a,m,n);if(!L)return;let I=os(e,U),H=!1,C=null,$=!1,Y=null;function V(){if(!g||!U)return;const[Ne,ne]=xj(I,U,D);x({x:Ne,y:ne}),K=requestAnimationFrame(V)}const W={...L,nodeId:l,type:B,position:L.position},fe=m.get(l);let te={inProgress:!0,isValid:null,from:pl(fe,W,Le.Left,!0),fromHandle:W,fromPosition:W.position,fromNode:fe,to:I,toHandle:null,toPosition:pb[W.position],toNode:null};function ie(){k=!0,E(te),j?.(e,{nodeId:l,handleId:a,handleType:B})}O===0&&ie();function ge(Ne){if(!k){const{x:ee,y:ve}=os(Ne),ye=ee-G,Te=ve-Z;if(!(ye*ye+Te*Te>O*O))return;ie()}if(!R()||!W){we(Ne);return}const ne=T();I=os(Ne,U),J=H9(Ml(I,ne,!1,[1,1]),r,m,W),H||(V(),H=!0);const pe=Oj(Ne,{handle:J,connectionMode:n,fromNodeId:l,fromHandleId:a,fromType:d?"target":"source",isValidConnection:_,doc:q,lib:h,flowId:y,nodeLookup:m});Y=pe.handleDomNode,C=pe.connection,$=P9(!!J,pe.isValid);const he={...te,isValid:$,to:pe.toHandle&&$?Qu({x:pe.toHandle.x,y:pe.toHandle.y},ne):I,toHandle:pe.toHandle,toPosition:$&&pe.toHandle?pe.toHandle.position:pb[W.position],toNode:pe.toHandle?m.get(pe.toHandle.nodeId):null};$&&J&&te.toHandle&&he.toHandle&&te.toHandle.type===he.toHandle.type&&te.toHandle.nodeId===he.toHandle.nodeId&&te.toHandle.id===he.toHandle.id&&te.to.x===he.to.x&&te.to.y===he.to.y||(E(he),te=he)}function we(Ne){if(k){(J||Y)&&C&&$&&N?.(C);const{inProgress:ne,...pe}=te,he={...pe,toPosition:te.toHandle?te.toPosition:null};S?.(Ne,he),c&&M?.(Ne,he)}b(),cancelAnimationFrame(K),H=!1,$=!1,C=null,Y=null,q.removeEventListener("mousemove",ge),q.removeEventListener("mouseup",we),q.removeEventListener("touchmove",ge),q.removeEventListener("touchend",we)}q.addEventListener("mousemove",ge),q.addEventListener("mouseup",we),q.addEventListener("touchmove",ge),q.addEventListener("touchend",we)}function Oj(e,{handle:n,connectionMode:r,fromNodeId:a,fromHandleId:l,fromType:c,doc:d,lib:f,flowId:m,isValidConnection:h=Dj,nodeLookup:g}){const y=c==="target",x=n?d.querySelector(`.${f}-flow__handle[data-id="${m}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:b,y:j}=os(e),N=d.elementFromPoint(b,j),S=N?.classList.contains(`${f}-flow__handle`)?N:x,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const M=Rj(void 0,S),E=S.getAttribute("data-nodeid"),T=S.getAttribute("data-handleid"),R=S.classList.contains("connectable"),D=S.classList.contains("connectableend");if(!E||!M)return _;const O={source:y?E:a,sourceHandle:y?T:l,target:y?a:E,targetHandle:y?l:T};_.connection=O;const q=R&&D&&(r===Ca.Strict?y&&M==="source"||!y&&M==="target":E!==a||T!==l);_.isValid=q&&h(O),_.toHandle=Tj(E,M,T,g,r,!0)}return _}const bp={onPointerDown:B9,isValid:Oj};function U9({domNode:e,panZoom:n,getTransform:r,getViewScale:a}){const l=bn(e);function c({translateExtent:f,width:m,height:h,zoomStep:g=1,pannable:y=!0,zoomable:x=!0,inversePan:b=!1}){const j=E=>{if(E.sourceEvent.type!=="wheel"||!n)return;const T=r(),R=E.sourceEvent.ctrlKey&&hl()?10:1,D=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*g,O=T[2]*Math.pow(2,D*R);n.scaleTo(O)};let N=[0,0];const S=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(N=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},_=E=>{const T=r();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!n)return;const R=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],D=[R[0]-N[0],R[1]-N[1]];N=R;const O=a()*Math.max(T[2],Math.log(T[2]))*(b?-1:1),P={x:T[0]-D[0]*O,y:T[1]-D[1]*O},q=[[0,0],[m,h]];n.setViewportConstrained({x:P.x,y:P.y,zoom:T[2]},q,f)},M=cj().on("start",S).on("zoom",y?_:null).on("zoom.wheel",x?j:null);l.call(M,{})}function d(){l.on("zoom",null)}return{update:c,destroy:d,pointer:Bn}}const V9=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Id=e=>({x:e.x,y:e.y,zoom:e.k}),kh=({x:e,y:n,zoom:r})=>Dd.translate(e,n).scale(r),fa=(e,n)=>e.target.closest(`.${n}`),zj=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),q9=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Ah=(e,n=0,r=q9,a=()=>{})=>{const l=typeof n=="number"&&n>0;return l||a(),l?e.transition().duration(n).ease(r).on("end",a):e},Ij=e=>{const n=e.ctrlKey&&hl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function F9({zoomPanValues:e,noWheelClassName:n,d3Selection:r,d3Zoom:a,panOnScrollMode:l,panOnScrollSpeed:c,zoomOnPinch:d,onPanZoomStart:f,onPanZoom:m,onPanZoomEnd:h}){return g=>{if(fa(g,n))return!1;g.preventDefault(),g.stopImmediatePropagation();const y=r.property("__zoom").k||1;if(g.ctrlKey&&d){const S=Bn(g),_=Ij(g),M=y*Math.pow(2,_);a.scaleTo(r,M,S,g);return}const x=g.deltaMode===1?20:1;let b=l===co.Vertical?0:g.deltaX*x,j=l===co.Horizontal?0:g.deltaY*x;!hl()&&g.shiftKey&&l!==co.Vertical&&(b=g.deltaY*x,j=0),a.translateBy(r,-(b/y)*c,-(j/y)*c,{internal:!0});const N=Id(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,f?.(g,N)),e.isPanScrolling&&(m?.(g,N),e.panScrollTimeout=setTimeout(()=>{h?.(g,N),e.isPanScrolling=!1},150))}}function Y9({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:r}){return function(a,l){const c=a.type==="wheel",d=!n&&c&&!a.ctrlKey,f=fa(a,e);if(a.ctrlKey&&c&&f&&a.preventDefault(),d||f)return null;a.preventDefault(),r.call(this,a,l)}}function G9({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const l=Id(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,a.sourceEvent?.type==="mousedown"&&n(!0),r&&r?.(a.sourceEvent,l)}}function X9({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:r,onTransformChange:a,onPanZoom:l}){return c=>{e.usedRightMouseButton=!!(r&&zj(n,e.mouseButton??0)),c.sourceEvent?.sync||a([c.transform.x,c.transform.y,c.transform.k]),l&&!c.sourceEvent?.internal&&l?.(c.sourceEvent,Id(c.transform))}}function Z9({zoomPanValues:e,panOnDrag:n,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:l,onPaneContextMenu:c}){return d=>{if(!d.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,c&&zj(n,e.mouseButton??0)&&!e.usedRightMouseButton&&d.sourceEvent&&c(d.sourceEvent),e.usedRightMouseButton=!1,a(!1),l&&V9(e.prevViewport,d.transform))){const f=Id(d.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(d.sourceEvent,f)},r?150:0)}}}function W9({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:a,panOnScroll:l,zoomOnDoubleClick:c,userSelectionActive:d,noWheelClassName:f,noPanClassName:m,lib:h}){return g=>{const y=e||n,x=r&&g.ctrlKey;if(g.button===1&&g.type==="mousedown"&&(fa(g,`${h}-flow__node`)||fa(g,`${h}-flow__edge`)))return!0;if(!a&&!y&&!l&&!c&&!r||d||fa(g,f)&&g.type==="wheel"||fa(g,m)&&(g.type!=="wheel"||l&&g.type==="wheel"&&!e)||!r&&g.ctrlKey&&g.type==="wheel")return!1;if(!r&&g.type==="touchstart"&&g.touches?.length>1)return g.preventDefault(),!1;if(!y&&!l&&!x&&g.type==="wheel"||!a&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(a)&&!a.includes(g.button)&&g.type==="mousedown")return!1;const b=Array.isArray(a)&&a.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||g.type==="wheel")&&b}}function K9({domNode:e,minZoom:n,maxZoom:r,paneClickDistance:a,translateExtent:l,viewport:c,onPanZoom:d,onPanZoomStart:f,onPanZoomEnd:m,onDraggingChange:h}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},y=e.getBoundingClientRect(),x=cj().clickDistance(!Vn(a)||a<0?0:a).scaleExtent([n,r]).translateExtent(l),b=bn(e).call(x);E({x:c.x,y:c.y,zoom:ka(c.zoom,n,r)},[[0,0],[y.width,y.height]],l);const j=b.on("wheel.zoom"),N=b.on("dblclick.zoom");x.wheelDelta(Ij);function S(G,Z){return b?new Promise(B=>{x?.interpolate(Z?.interpolate==="linear"?el:ju).transform(Ah(b,Z?.duration,Z?.ease,()=>B(!0)),G)}):Promise.resolve(!1)}function _({noWheelClassName:G,noPanClassName:Z,onPaneContextMenu:B,userSelectionActive:U,panOnScroll:k,panOnDrag:L,panOnScrollMode:I,panOnScrollSpeed:H,preventScrolling:C,zoomOnPinch:$,zoomOnScroll:Y,zoomOnDoubleClick:V,zoomActivationKeyPressed:W,lib:fe,onTransformChange:ue}){U&&!g.isZoomingOrPanning&&M();const ie=k&&!W&&!U?F9({zoomPanValues:g,noWheelClassName:G,d3Selection:b,d3Zoom:x,panOnScrollMode:I,panOnScrollSpeed:H,zoomOnPinch:$,onPanZoomStart:f,onPanZoom:d,onPanZoomEnd:m}):Y9({noWheelClassName:G,preventScrolling:C,d3ZoomHandler:j});if(b.on("wheel.zoom",ie,{passive:!1}),!U){const we=G9({zoomPanValues:g,onDraggingChange:h,onPanZoomStart:f});x.on("start",we);const Ne=X9({zoomPanValues:g,panOnDrag:L,onPaneContextMenu:!!B,onPanZoom:d,onTransformChange:ue});x.on("zoom",Ne);const ne=Z9({zoomPanValues:g,panOnDrag:L,panOnScroll:k,onPaneContextMenu:B,onPanZoomEnd:m,onDraggingChange:h});x.on("end",ne)}const ge=W9({zoomActivationKeyPressed:W,panOnDrag:L,zoomOnScroll:Y,panOnScroll:k,zoomOnDoubleClick:V,zoomOnPinch:$,userSelectionActive:U,noPanClassName:Z,noWheelClassName:G,lib:fe});x.filter(ge),V?b.on("dblclick.zoom",N):b.on("dblclick.zoom",null)}function M(){x.on("zoom",null)}async function E(G,Z,B){const U=kh(G),k=x?.constrain()(U,Z,B);return k&&await S(k),new Promise(L=>L(k))}async function T(G,Z){const B=kh(G);return await S(B,Z),new Promise(U=>U(B))}function R(G){if(b){const Z=kh(G),B=b.property("__zoom");(B.k!==G.zoom||B.x!==G.x||B.y!==G.y)&&x?.transform(b,Z,null,{sync:!0})}}function D(){const G=b?lj(b.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function O(G,Z){return b?new Promise(B=>{x?.interpolate(Z?.interpolate==="linear"?el:ju).scaleTo(Ah(b,Z?.duration,Z?.ease,()=>B(!0)),G)}):Promise.resolve(!1)}function P(G,Z){return b?new Promise(B=>{x?.interpolate(Z?.interpolate==="linear"?el:ju).scaleBy(Ah(b,Z?.duration,Z?.ease,()=>B(!0)),G)}):Promise.resolve(!1)}function q(G){x?.scaleExtent(G)}function K(G){x?.translateExtent(G)}function J(G){const Z=!Vn(G)||G<0?0:G;x?.clickDistance(Z)}return{update:_,destroy:M,setViewport:T,setViewportConstrained:E,getViewport:D,scaleTo:O,scaleBy:P,setScaleExtent:q,setTranslateExtent:K,syncViewport:R,setClickDistance:J}}var Ta;(function(e){e.Line="line",e.Handle="handle"})(Ta||(Ta={}));function Q9({width:e,prevWidth:n,height:r,prevHeight:a,affectsX:l,affectsY:c}){const d=e-n,f=r-a,m=[d>0?1:d<0?-1:0,f>0?1:f<0?-1:0];return d&&l&&(m[0]=m[0]*-1),f&&c&&(m[1]=m[1]*-1),m}function J9(e){const n=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),a=e.includes("left"),l=e.includes("top");return{isHorizontal:n,isVertical:r,affectsX:a,affectsY:l}}function wr(e,n){return Math.max(0,n-e)}function Nr(e,n){return Math.max(0,e-n)}function cu(e,n,r){return Math.max(0,n-e,e-r)}function kb(e,n){return e?!n:n}function ez(e,n,r,a,l,c,d,f){let{affectsX:m,affectsY:h}=n;const{isHorizontal:g,isVertical:y}=n,x=g&&y,{xSnapped:b,ySnapped:j}=r,{minWidth:N,maxWidth:S,minHeight:_,maxHeight:M}=a,{x:E,y:T,width:R,height:D,aspectRatio:O}=e;let P=Math.floor(g?b-e.pointerX:0),q=Math.floor(y?j-e.pointerY:0);const K=R+(m?-P:P),J=D+(h?-q:q),G=-c[0]*R,Z=-c[1]*D;let B=cu(K,N,S),U=cu(J,_,M);if(d){let I=0,H=0;m&&P<0?I=wr(E+P+G,d[0][0]):!m&&P>0&&(I=Nr(E+K+G,d[1][0])),h&&q<0?H=wr(T+q+Z,d[0][1]):!h&&q>0&&(H=Nr(T+J+Z,d[1][1])),B=Math.max(B,I),U=Math.max(U,H)}if(f){let I=0,H=0;m&&P>0?I=Nr(E+P,f[0][0]):!m&&P<0&&(I=wr(E+K,f[1][0])),h&&q>0?H=Nr(T+q,f[0][1]):!h&&q<0&&(H=wr(T+J,f[1][1])),B=Math.max(B,I),U=Math.max(U,H)}if(l){if(g){const I=cu(K/O,_,M)*O;if(B=Math.max(B,I),d){let H=0;!m&&!h||m&&!h&&x?H=Nr(T+Z+K/O,d[1][1])*O:H=wr(T+Z+(m?P:-P)/O,d[0][1])*O,B=Math.max(B,H)}if(f){let H=0;!m&&!h||m&&!h&&x?H=wr(T+K/O,f[1][1])*O:H=Nr(T+(m?P:-P)/O,f[0][1])*O,B=Math.max(B,H)}}if(y){const I=cu(J*O,N,S)/O;if(U=Math.max(U,I),d){let H=0;!m&&!h||h&&!m&&x?H=Nr(E+J*O+G,d[1][0])/O:H=wr(E+(h?q:-q)*O+G,d[0][0])/O,U=Math.max(U,H)}if(f){let H=0;!m&&!h||h&&!m&&x?H=wr(E+J*O,f[1][0])/O:H=Nr(E+(h?q:-q)*O,f[0][0])/O,U=Math.max(U,H)}}}q=q+(q<0?U:-U),P=P+(P<0?B:-B),l&&(x?K>J*O?q=(kb(m,h)?-P:P)/O:P=(kb(m,h)?-q:q)*O:g?(q=P/O,h=m):(P=q*O,m=h));const k=m?E+P:E,L=h?T+q:T;return{width:R+(m?-P:P),height:D+(h?-q:q),x:c[0]*P*(m?-1:1)+k,y:c[1]*q*(h?-1:1)+L}}const Lj={width:0,height:0,x:0,y:0},tz={...Lj,pointerX:0,pointerY:0,aspectRatio:1};function nz(e){return[[0,0],[e.measured.width,e.measured.height]]}function sz(e,n,r){const a=n.position.x+e.position.x,l=n.position.y+e.position.y,c=e.measured.width??0,d=e.measured.height??0,f=r[0]*c,m=r[1]*d;return[[a-f,l-m],[a+c-f,l+d-m]]}function rz({domNode:e,nodeId:n,getStoreItems:r,onChange:a,onEnd:l}){const c=bn(e);function d({controlPosition:m,boundaries:h,keepAspectRatio:g,resizeDirection:y,onResizeStart:x,onResize:b,onResizeEnd:j,shouldResize:N}){let S={...Lj},_={...tz};const M=J9(m);let E,T=null,R=[],D,O,P;const q=X2().on("start",K=>{const{nodeLookup:J,transform:G,snapGrid:Z,snapToGrid:B,nodeOrigin:U,paneDomNode:k}=r();if(E=J.get(n),!E)return;T=k?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:I}=tl(K.sourceEvent,{transform:G,snapGrid:Z,snapToGrid:B,containerBounds:T});S={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},_={...S,pointerX:L,pointerY:I,aspectRatio:S.width/S.height},D=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(D=J.get(E.parentId),O=D&&E.extent==="parent"?nz(D):void 0),R=[],P=void 0;for(const[H,C]of J)if(C.parentId===n&&(R.push({id:H,position:{...C.position},extent:C.extent}),C.extent==="parent"||C.expandParent)){const $=sz(C,E,C.origin??U);P?P=[[Math.min($[0][0],P[0][0]),Math.min($[0][1],P[0][1])],[Math.max($[1][0],P[1][0]),Math.max($[1][1],P[1][1])]]:P=$}x?.(K,{...S})}).on("drag",K=>{const{transform:J,snapGrid:G,snapToGrid:Z,nodeOrigin:B}=r(),U=tl(K.sourceEvent,{transform:J,snapGrid:G,snapToGrid:Z,containerBounds:T}),k=[];if(!E)return;const{x:L,y:I,width:H,height:C}=S,$={},Y=E.origin??B,{width:V,height:W,x:fe,y:ue}=ez(_,M,U,h,g,Y,O,P),te=V!==H,ie=W!==C,ge=fe!==L&&te,we=ue!==I&&ie;if(!ge&&!we&&!te&&!ie)return;if((ge||we||Y[0]===1||Y[1]===1)&&($.x=ge?fe:S.x,$.y=we?ue:S.y,S.x=$.x,S.y=$.y,R.length>0)){const he=fe-L,ee=ue-I;for(const ve of R)ve.position={x:ve.position.x-he+Y[0]*(V-H),y:ve.position.y-ee+Y[1]*(W-C)},k.push(ve)}if((te||ie)&&($.width=te&&(!y||y==="horizontal")?V:S.width,$.height=ie&&(!y||y==="vertical")?W:S.height,S.width=$.width,S.height=$.height),D&&E.expandParent){const he=Y[0]*($.width??0);$.x&&$.x<he&&(S.x=he,_.x=_.x-($.x-he));const ee=Y[1]*($.height??0);$.y&&$.y<ee&&(S.y=ee,_.y=_.y-($.y-ee))}const Ne=Q9({width:S.width,prevWidth:H,height:S.height,prevHeight:C,affectsX:M.affectsX,affectsY:M.affectsY}),ne={...S,direction:Ne};N?.(K,ne)!==!1&&(b?.(K,ne),a($,k))}).on("end",K=>{j?.(K,{...S}),l?.({...S})});c.call(q)}function f(){c.on(".drag",null)}return{update:d,destroy:f}}var Mh={exports:{}},Th={},Rh={exports:{}},Dh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function oz(){if(Ab)return Dh;Ab=1;var e=xl();function n(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:n,a=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function f(y,x){var b=x(),j=a({inst:{value:b,getSnapshot:x}}),N=j[0].inst,S=j[1];return c(function(){N.value=b,N.getSnapshot=x,m(N)&&S({inst:N})},[y,b,x]),l(function(){return m(N)&&S({inst:N}),y(function(){m(N)&&S({inst:N})})},[y]),d(b),b}function m(y){var x=y.getSnapshot;y=y.value;try{var b=x();return!r(y,b)}catch{return!0}}function h(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Dh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Dh}var Mb;function az(){return Mb||(Mb=1,Rh.exports=oz()),Rh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function iz(){if(Tb)return Th;Tb=1;var e=xl(),n=az();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:r,l=n.useSyncExternalStore,c=e.useRef,d=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Th.useSyncExternalStoreWithSelector=function(h,g,y,x,b){var j=c(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=f(function(){function _(D){if(!M){if(M=!0,E=D,D=x(D),b!==void 0&&N.hasValue){var O=N.value;if(b(O,D))return T=O}return T=D}if(O=T,a(E,D))return O;var P=x(D);return b!==void 0&&b(O,P)?(E=D,O):(E=D,T=P)}var M=!1,E,T,R=y===void 0?null:y;return[function(){return _(g())},R===null?void 0:function(){return _(R())}]},[g,y,x,b]);var S=l(h,j[0],j[1]);return d(function(){N.hasValue=!0,N.value=S},[S]),m(S),S},Th}var Rb;function lz(){return Rb||(Rb=1,Mh.exports=iz()),Mh.exports}var cz=lz();const uz=Np(cz),dz={},Db=e=>{let n;const r=new Set,a=(g,y)=>{const x=typeof g=="function"?g(n):g;if(!Object.is(x,n)){const b=n;n=y??(typeof x!="object"||x===null)?x:Object.assign({},n,x),r.forEach(j=>j(n,b))}},l=()=>n,m={setState:a,getState:l,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(dz?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=n=e(a,l,m);return m},fz=e=>e?Db(e):Db,{useDebugValue:mz}=yn,{useSyncExternalStoreWithSelector:hz}=uz,pz=e=>e;function $j(e,n=pz,r){const a=hz(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return mz(a),a}const Ob=(e,n)=>{const r=fz(e),a=(l,c=n)=>$j(r,l,c);return Object.assign(a,r),a},gz=(e,n)=>e?Ob(e,n):Ob;function bt(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[a,l]of e)if(!Object.is(l,n.get(a)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(n,a)||!Object.is(e[a],n[a]))return!1;return!0}const Ld=w.createContext(null),xz=Ld.Provider,Hj=us.error001();function nt(e,n){const r=w.useContext(Ld);if(r===null)throw new Error(Hj);return $j(r,e,n)}function wt(){const e=w.useContext(Ld);if(e===null)throw new Error(Hj);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const zb={display:"none"},yz={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Pj="react-flow__node-desc",Bj="react-flow__edge-desc",vz="react-flow__aria-live",bz=e=>e.ariaLiveMessage,wz=e=>e.ariaLabelConfig;function Nz({rfId:e}){const n=nt(bz);return o.jsx("div",{id:`${vz}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:yz,children:n})}function jz({rfId:e,disableKeyboardA11y:n}){const r=nt(wz);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${Pj}-${e}`,style:zb,children:n?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${Bj}-${e}`,style:zb,children:r["edge.a11yDescription.default"]}),!n&&o.jsx(Nz,{rfId:e})]})}const $d=w.forwardRef(({position:e="top-left",children:n,className:r,style:a,...l},c)=>{const d=`${e}`.split("-");return o.jsx("div",{className:Ot(["react-flow__panel",r,...d]),style:a,ref:c,...l,children:n})});$d.displayName="Panel";function Sz({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:o.jsx($d,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _z=e=>{const n=[],r=[];for(const[,a]of e.nodeLookup)a.selected&&n.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&r.push(a);return{selectedNodes:n,selectedEdges:r}},uu=e=>e.id;function Ez(e,n){return bt(e.selectedNodes.map(uu),n.selectedNodes.map(uu))&&bt(e.selectedEdges.map(uu),n.selectedEdges.map(uu))}function Cz({onSelectionChange:e}){const n=wt(),{selectedNodes:r,selectedEdges:a}=nt(_z,Ez);return w.useEffect(()=>{const l={nodes:r,edges:a};e?.(l),n.getState().onSelectionChangeHandlers.forEach(c=>c(l))},[r,a,e]),null}const kz=e=>!!e.onSelectionChangeHandlers;function Az({onSelectionChange:e}){const n=nt(kz);return e||n?o.jsx(Cz,{onSelectionChange:e}):null}const Uj=[0,0],Mz={x:0,y:0,zoom:1},Tz=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Ib=[...Tz,"rfId"],Rz=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Lb={translateExtent:dl,nodeOrigin:Uj,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Dz(e){const{setNodes:n,setEdges:r,setMinZoom:a,setMaxZoom:l,setTranslateExtent:c,setNodeExtent:d,reset:f,setDefaultNodesAndEdges:m,setPaneClickDistance:h}=nt(Rz,bt),g=wt();w.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{y.current=Lb,f()}),[]);const y=w.useRef(Lb);return w.useEffect(()=>{for(const x of Ib){const b=e[x],j=y.current[x];b!==j&&(typeof e[x]>"u"||(x==="nodes"?n(b):x==="edges"?r(b):x==="minZoom"?a(b):x==="maxZoom"?l(b):x==="translateExtent"?c(b):x==="nodeExtent"?d(b):x==="paneClickDistance"?h(b):x==="ariaLabelConfig"?g.setState({ariaLabelConfig:g9(b)}):x==="fitView"?g.setState({fitViewQueued:b}):x==="fitViewOptions"?g.setState({fitViewOptions:b}):g.setState({[x]:b})))}y.current=e},Ib.map(x=>e[x])),null}function $b(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Oz(e){const[n,r]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){r(e);return}const a=$b(),l=()=>r(a?.matches?"dark":"light");return l(),a?.addEventListener("change",l),()=>{a?.removeEventListener("change",l)}},[e]),n!==null?n:$b()?.matches?"dark":"light"}const Hb=typeof document<"u"?document:null;function gl(e=null,n={target:Hb,actInsideInputWithModifier:!0}){const[r,a]=w.useState(!1),l=w.useRef(!1),c=w.useRef(new Set([])),[d,f]=w.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=h.reduce((y,x)=>y.concat(...x),[]);return[h,g]}return[[],[]]},[e]);return w.useEffect(()=>{const m=n?.target??Hb,h=n?.actInsideInputWithModifier??!0;if(e!==null){const g=b=>{if(l.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!l.current||l.current&&!h)&&Nj(b))return!1;const N=Bb(b.code,f);if(c.current.add(b[N]),Pb(d,c.current,!1)){const S=b.composedPath?.()?.[0]||b.target,_=S?.nodeName==="BUTTON"||S?.nodeName==="A";n.preventDefault!==!1&&(l.current||!_)&&b.preventDefault(),a(!0)}},y=b=>{const j=Bb(b.code,f);Pb(d,c.current,!0)?(a(!1),c.current.clear()):c.current.delete(b[j]),b.key==="Meta"&&c.current.clear(),l.current=!1},x=()=>{c.current.clear(),a(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,a]),r}function Pb(e,n,r){return e.filter(a=>r||a.length===n.size).some(a=>a.every(l=>n.has(l)))}function Bb(e,n){return n.includes(e)?"code":"key"}const zz=()=>{const e=wt();return w.useMemo(()=>({zoomIn:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,r)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(n,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,r)=>{const{transform:[a,l,c],panZoom:d}=e.getState();return d?(await d.setViewport({x:n.x??a,y:n.y??l,zoom:n.zoom??c},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,r,a]=e.getState().transform;return{x:n,y:r,zoom:a}},setCenter:async(n,r,a)=>e.getState().setCenter(n,r,a),fitBounds:async(n,r)=>{const{width:a,height:l,minZoom:c,maxZoom:d,panZoom:f}=e.getState(),m=vg(n,a,l,c,d,r?.padding??.1);return f?(await f.setViewport(m,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,r={})=>{const{transform:a,snapGrid:l,snapToGrid:c,domNode:d}=e.getState();if(!d)return n;const{x:f,y:m}=d.getBoundingClientRect(),h={x:n.x-f,y:n.y-m},g=r.snapGrid??l,y=r.snapToGrid??c;return Ml(h,a,y,g)},flowToScreenPosition:n=>{const{transform:r,domNode:a}=e.getState();if(!a)return n;const{x:l,y:c}=a.getBoundingClientRect(),d=Qu(n,r);return{x:d.x+l,y:d.y+c}}}),[])};function Vj(e,n){const r=[],a=new Map,l=[];for(const c of e)if(c.type==="add"){l.push(c);continue}else if(c.type==="remove"||c.type==="replace")a.set(c.id,[c]);else{const d=a.get(c.id);d?d.push(c):a.set(c.id,[c])}for(const c of n){const d=a.get(c.id);if(!d){r.push(c);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){r.push({...d[0].item});continue}const f={...c};for(const m of d)Iz(m,f);r.push(f)}return l.length&&l.forEach(c=>{c.index!==void 0?r.splice(c.index,0,{...c.item}):r.push({...c.item})}),r}function Iz(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured??={},n.measured.width=e.dimensions.width,n.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function qj(e,n){return Vj(e,n)}function Fj(e,n){return Vj(e,n)}function ro(e,n){return{id:e,type:"select",selected:n}}function ma(e,n=new Set,r=!1){const a=[];for(const[l,c]of e){const d=n.has(l);!(c.selected===void 0&&!d)&&c.selected!==d&&(r&&(c.selected=d),a.push(ro(c.id,d)))}return a}function Ub({items:e=[],lookup:n}){const r=[],a=new Map(e.map(l=>[l.id,l]));for(const[l,c]of e.entries()){const d=n.get(c.id),f=d?.internals?.userNode??d;f!==void 0&&f!==c&&r.push({id:c.id,item:c,type:"replace"}),f===void 0&&r.push({item:c,type:"add",index:l})}for(const[l]of n)a.get(l)===void 0&&r.push({id:l,type:"remove"});return r}function Vb(e){return{id:e.id,type:"remove"}}const qb=e=>a9(e),Lz=e=>hj(e);function Yj(e){return w.forwardRef(e)}const $z=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Fb(e){const[n,r]=w.useState(BigInt(0)),[a]=w.useState(()=>Hz(()=>r(l=>l+BigInt(1))));return $z(()=>{const l=a.get();l.length&&(e(l),a.reset())},[n]),a}function Hz(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:r=>{n.push(r),e()}}}const Gj=w.createContext(null);function Pz({children:e}){const n=wt(),r=w.useCallback(f=>{const{nodes:m=[],setNodes:h,hasDefaultNodes:g,onNodesChange:y,nodeLookup:x,fitViewQueued:b}=n.getState();let j=m;for(const S of f)j=typeof S=="function"?S(j):S;const N=Ub({items:j,lookup:x});g&&h(j),N.length>0?y?.(N):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:_,setNodes:M}=n.getState();S&&M(_)})},[]),a=Fb(r),l=w.useCallback(f=>{const{edges:m=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:y,edgeLookup:x}=n.getState();let b=m;for(const j of f)b=typeof j=="function"?j(b):j;g?h(b):y&&y(Ub({items:b,lookup:x}))},[]),c=Fb(l),d=w.useMemo(()=>({nodeQueue:a,edgeQueue:c}),[]);return o.jsx(Gj.Provider,{value:d,children:e})}function Bz(){const e=w.useContext(Gj);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Uz=e=>!!e.panZoom;function $a(){const e=zz(),n=wt(),r=Bz(),a=nt(Uz),l=w.useMemo(()=>{const c=y=>n.getState().nodeLookup.get(y),d=y=>{r.nodeQueue.push(y)},f=y=>{r.edgeQueue.push(y)},m=y=>{const{nodeLookup:x,nodeOrigin:b}=n.getState(),j=qb(y)?y:x.get(y.id),N=j.parentId?bj(j.position,j.measured,j.parentId,x,b):j.position,S={...j,position:N,width:j.measured?.width??j.width,height:j.measured?.height??j.height};return Aa(S)},h=(y,x,b={replace:!1})=>{d(j=>j.map(N=>{if(N.id===y){const S=typeof x=="function"?x(N):x;return b.replace&&qb(S)?S:{...N,...S}}return N}))},g=(y,x,b={replace:!1})=>{f(j=>j.map(N=>{if(N.id===y){const S=typeof x=="function"?x(N):x;return b.replace&&Lz(S)?S:{...N,...S}}return N}))};return{getNodes:()=>n.getState().nodes.map(y=>({...y})),getNode:y=>c(y)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:y=[]}=n.getState();return y.map(x=>({...x}))},getEdge:y=>n.getState().edgeLookup.get(y),setNodes:d,setEdges:f,addNodes:y=>{const x=Array.isArray(y)?y:[y];r.nodeQueue.push(b=>[...b,...x])},addEdges:y=>{const x=Array.isArray(y)?y:[y];r.edgeQueue.push(b=>[...b,...x])},toObject:()=>{const{nodes:y=[],edges:x=[],transform:b}=n.getState(),[j,N,S]=b;return{nodes:y.map(_=>({..._})),edges:x.map(_=>({..._})),viewport:{x:j,y:N,zoom:S}}},deleteElements:async({nodes:y=[],edges:x=[]})=>{const{nodes:b,edges:j,onNodesDelete:N,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:M,onDelete:E,onBeforeDelete:T}=n.getState(),{nodes:R,edges:D}=await d9({nodesToRemove:y,edgesToRemove:x,nodes:b,edges:j,onBeforeDelete:T}),O=D.length>0,P=R.length>0;if(O){const q=D.map(Vb);S?.(D),M(q)}if(P){const q=R.map(Vb);N?.(R),_(q)}return(P||O)&&E?.({nodes:R,edges:D}),{deletedNodes:R,deletedEdges:D}},getIntersectingNodes:(y,x=!0,b)=>{const j=xb(y),N=j?y:m(y),S=b!==void 0;return N?(b||n.getState().nodes).filter(_=>{const M=n.getState().nodeLookup.get(_.id);if(M&&!j&&(_.id===y.id||!M.internals.positionAbsolute))return!1;const E=Aa(S?_:M),T=ml(E,N);return x&&T>0||T>=E.width*E.height||T>=N.width*N.height}):[]},isNodeIntersecting:(y,x,b=!0)=>{const N=xb(y)?y:m(y);if(!N)return!1;const S=ml(N,x);return b&&S>0||S>=N.width*N.height},updateNode:h,updateNodeData:(y,x,b={replace:!1})=>{h(y,j=>{const N=typeof x=="function"?x(j):x;return b.replace?{...j,data:N}:{...j,data:{...j.data,...N}}},b)},updateEdge:g,updateEdgeData:(y,x,b={replace:!1})=>{g(y,j=>{const N=typeof x=="function"?x(j):x;return b.replace?{...j,data:N}:{...j,data:{...j.data,...N}}},b)},getNodesBounds:y=>{const{nodeLookup:x,nodeOrigin:b}=n.getState();return i9(y,{nodeLookup:x,nodeOrigin:b})},getHandleConnections:({type:y,id:x,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}-${y}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:x,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}${y?x?`-${y}-${x}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const x=n.getState().fitViewResolver??p9();return n.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:x}),r.nodeQueue.push(b=>[...b]),x.promise}}},[]);return w.useMemo(()=>({...l,...e,viewportInitialized:a}),[a])}const Yb=e=>e.selected,Vz=typeof window<"u"?window:void 0;function qz({deleteKeyCode:e,multiSelectionKeyCode:n}){const r=wt(),{deleteElements:a}=$a(),l=gl(e,{actInsideInputWithModifier:!1}),c=gl(n,{target:Vz});w.useEffect(()=>{if(l){const{edges:d,nodes:f}=r.getState();a({nodes:f.filter(Yb),edges:d.filter(Yb)}),r.setState({nodesSelectionActive:!1})}},[l]),w.useEffect(()=>{r.setState({multiSelectionActive:c})},[c])}function Fz(e){const n=wt();w.useEffect(()=>{const r=()=>{if(!e.current)return!1;const a=bg(e.current);(a.height===0||a.width===0)&&n.getState().onError?.("004",us.error004()),n.setState({width:a.width||500,height:a.height||500})};if(e.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(e.current),()=>{window.removeEventListener("resize",r),a&&e.current&&a.unobserve(e.current)}}},[])}const Hd={position:"absolute",width:"100%",height:"100%",top:0,left:0},Yz=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function Gz({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=co.Free,zoomOnDoubleClick:d=!0,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:g,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:b=!0,children:j,noWheelClassName:N,noPanClassName:S,onViewportChange:_,isControlledViewport:M,paneClickDistance:E}){const T=wt(),R=w.useRef(null),{userSelectionActive:D,lib:O}=nt(Yz,bt),P=gl(x),q=w.useRef();Fz(R);const K=w.useCallback(J=>{_?.({x:J[0],y:J[1],zoom:J[2]}),M||T.setState({transform:J})},[_,M]);return w.useEffect(()=>{if(R.current){q.current=K9({domNode:R.current,minZoom:g,maxZoom:y,translateExtent:h,viewport:m,paneClickDistance:E,onDraggingChange:B=>T.setState({paneDragging:B}),onPanZoomStart:(B,U)=>{const{onViewportChangeStart:k,onMoveStart:L}=T.getState();L?.(B,U),k?.(U)},onPanZoom:(B,U)=>{const{onViewportChange:k,onMove:L}=T.getState();L?.(B,U),k?.(U)},onPanZoomEnd:(B,U)=>{const{onViewportChangeEnd:k,onMoveEnd:L}=T.getState();L?.(B,U),k?.(U)}});const{x:J,y:G,zoom:Z}=q.current.getViewport();return T.setState({panZoom:q.current,transform:[J,G,Z],domNode:R.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),w.useEffect(()=>{q.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:l,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:f,zoomActivationKeyPressed:P,preventScrolling:b,noPanClassName:S,userSelectionActive:D,noWheelClassName:N,lib:O,onTransformChange:K})},[e,n,r,a,l,c,d,f,P,b,S,D,N,O,K]),o.jsx("div",{className:"react-flow__renderer",ref:R,style:Hd,children:j})}const Xz=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Zz(){const{userSelectionActive:e,userSelectionRect:n}=nt(Xz,bt);return e&&n?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const Oh=(e,n)=>r=>{r.target===n.current&&e?.(r)},Wz=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function Kz({isSelecting:e,selectionKeyPressed:n,selectionMode:r=fl.Full,panOnDrag:a,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:m,onPaneScroll:h,onPaneMouseEnter:g,onPaneMouseMove:y,onPaneMouseLeave:x,children:b}){const j=wt(),{userSelectionActive:N,elementsSelectable:S,dragging:_,connectionInProgress:M}=nt(Wz,bt),E=S&&(e||N),T=w.useRef(null),R=w.useRef(),D=w.useRef(new Set),O=w.useRef(new Set),P=w.useRef(!1),q=w.useRef(!1),K=L=>{if(P.current||M){P.current=!1;return}f?.(L),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},J=L=>{if(Array.isArray(a)&&a?.includes(2)){L.preventDefault();return}m?.(L)},G=h?L=>h(L):void 0,Z=L=>{const{resetSelectedElements:I,domNode:H}=j.getState();if(R.current=H?.getBoundingClientRect(),!S||!e||L.button!==0||L.target!==T.current||!R.current)return;L.target?.setPointerCapture?.(L.pointerId),q.current=!0,P.current=!1;const{x:C,y:$}=os(L.nativeEvent,R.current);I(),j.setState({userSelectionRect:{width:0,height:0,startX:C,startY:$,x:C,y:$}}),c?.(L)},B=L=>{const{userSelectionRect:I,transform:H,nodeLookup:C,edgeLookup:$,connectionLookup:Y,triggerNodeChanges:V,triggerEdgeChanges:W,defaultEdgeOptions:fe}=j.getState();if(!R.current||!I)return;P.current=!0;const{x:ue,y:te}=os(L.nativeEvent,R.current),{startX:ie,startY:ge}=I,we={startX:ie,startY:ge,x:ue<ie?ue:ie,y:te<ge?te:ge,width:Math.abs(ue-ie),height:Math.abs(te-ge)},Ne=D.current,ne=O.current;D.current=new Set(yg(C,we,H,r===fl.Partial,!0).map(he=>he.id)),O.current=new Set;const pe=fe?.selectable??!0;for(const he of D.current){const ee=Y.get(he);if(ee)for(const{edgeId:ve}of ee.values()){const ye=$.get(ve);ye&&(ye.selectable??pe)&&O.current.add(ve)}}if(!yb(Ne,D.current)){const he=ma(C,D.current,!0);V(he)}if(!yb(ne,O.current)){const he=ma($,O.current);W(he)}j.setState({userSelectionRect:we,userSelectionActive:!0,nodesSelectionActive:!1})},U=L=>{if(L.button!==0||!q.current)return;L.target?.releasePointerCapture?.(L.pointerId);const{userSelectionRect:I}=j.getState();!N&&I&&L.target===T.current&&K?.(L),j.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),d?.(L),(n||l)&&(P.current=!1),q.current=!1},k=a===!0||Array.isArray(a)&&a.includes(0);return o.jsxs("div",{className:Ot(["react-flow__pane",{draggable:k,dragging:_,selection:e}]),onClick:E?void 0:Oh(K,T),onContextMenu:Oh(J,T),onWheel:Oh(G,T),onPointerEnter:E?void 0:g,onPointerDown:E?Z:y,onPointerMove:E?B:y,onPointerUp:E?U:void 0,onPointerLeave:x,ref:T,style:Hd,children:[b,o.jsx(Zz,{})]})}function wp({id:e,store:n,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:l,unselectNodesAndEdges:c,multiSelectionActive:d,nodeLookup:f,onError:m}=n.getState(),h=f.get(e);if(!h){m?.("012",us.error012(e));return}n.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&d)&&(c({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):l([e])}function Xj({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:l,isSelectable:c,nodeClickDistance:d}){const f=wt(),[m,h]=w.useState(!1),g=w.useRef();return w.useEffect(()=>{g.current=I9({getStoreItems:()=>f.getState(),onNodeMouseDown:y=>{wp({id:y,store:f,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),w.useEffect(()=>{if(n)g.current?.destroy();else if(e.current)return g.current?.update({noDragClassName:r,handleSelector:a,domNode:e.current,isSelectable:c,nodeId:l,nodeClickDistance:d}),()=>{g.current?.destroy()}},[r,a,n,c,e,l]),m}const Qz=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function Zj(){const e=wt();return w.useCallback(r=>{const{nodeExtent:a,snapToGrid:l,snapGrid:c,nodesDraggable:d,onError:f,updateNodePositions:m,nodeLookup:h,nodeOrigin:g}=e.getState(),y=new Map,x=Qz(d),b=l?c[0]:5,j=l?c[1]:5,N=r.direction.x*b*r.factor,S=r.direction.y*j*r.factor;for(const[,_]of h){if(!x(_))continue;let M={x:_.internals.positionAbsolute.x+N,y:_.internals.positionAbsolute.y+S};l&&(M=Al(M,c));const{position:E,positionAbsolute:T}=pj({nodeId:_.id,nextPosition:M,nodeLookup:h,nodeExtent:a,nodeOrigin:g,onError:f});_.position=E,_.internals.positionAbsolute=T,y.set(_.id,_)}m(y)},[])}const _g=w.createContext(null),Jz=_g.Provider;_g.Consumer;const Wj=()=>w.useContext(_g),eI=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),tI=(e,n,r)=>a=>{const{connectionClickStartHandle:l,connectionMode:c,connection:d}=a,{fromHandle:f,toHandle:m,isValid:h}=d,g=m?.nodeId===e&&m?.id===n&&m?.type===r;return{connectingFrom:f?.nodeId===e&&f?.id===n&&f?.type===r,connectingTo:g,clickConnecting:l?.nodeId===e&&l?.id===n&&l?.type===r,isPossibleEndHandle:c===Ca.Strict?f?.type!==r:e!==f?.nodeId||n!==f?.id,connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:g&&h}};function nI({type:e="source",position:n=Le.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:l=!0,isConnectableEnd:c=!0,id:d,onConnect:f,children:m,className:h,onMouseDown:g,onTouchStart:y,...x},b){const j=d||null,N=e==="target",S=wt(),_=Wj(),{connectOnClick:M,noPanClassName:E,rfId:T}=nt(eI,bt),{connectingFrom:R,connectingTo:D,clickConnecting:O,isPossibleEndHandle:P,connectionInProcess:q,clickConnectionInProcess:K,valid:J}=nt(tI(_,j,e),bt);_||S.getState().onError?.("010",us.error010());const G=U=>{const{defaultEdgeOptions:k,onConnect:L,hasDefaultEdges:I}=S.getState(),H={...k,...U};if(I){const{edges:C,setEdges:$}=S.getState();$(N9(H,C))}L?.(H),f?.(H)},Z=U=>{if(!_)return;const k=jj(U.nativeEvent);if(l&&(k&&U.button===0||!k)){const L=S.getState();bp.onPointerDown(U.nativeEvent,{handleDomNode:U.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:N,handleId:j,nodeId:_,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:G,isValidConnection:r||L.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}k?g?.(U):y?.(U)},B=U=>{const{onClickConnectStart:k,onClickConnectEnd:L,connectionClickStartHandle:I,connectionMode:H,isValidConnection:C,lib:$,rfId:Y,nodeLookup:V,connection:W}=S.getState();if(!_||!I&&!l)return;if(!I){k?.(U.nativeEvent,{nodeId:_,handleId:j,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:_,type:e,id:j}});return}const fe=wj(U.target),ue=r||C,{connection:te,isValid:ie}=bp.isValid(U.nativeEvent,{handle:{nodeId:_,id:j,type:e},connectionMode:H,fromNodeId:I.nodeId,fromHandleId:I.id||null,fromType:I.type,isValidConnection:ue,flowId:Y,doc:fe,lib:$,nodeLookup:V});ie&&te&&G(te);const ge=structuredClone(W);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,L?.(U,ge),S.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":j,"data-nodeid":_,"data-handlepos":n,"data-id":`${T}-${_}-${j}-${e}`,className:Ot(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",E,h,{source:!N,target:N,connectable:a,connectablestart:l,connectableend:c,clickconnecting:O,connectingfrom:R,connectingto:D,valid:J,connectionindicator:a&&(!q||P)&&(q||K?c:l)}]),onMouseDown:Z,onTouchStart:Z,onClick:M?B:void 0,ref:b,...x,children:m})}const Ra=w.memo(Yj(nI));function sI({data:e,isConnectable:n,sourcePosition:r=Le.Bottom}){return o.jsxs(o.Fragment,{children:[e?.label,o.jsx(Ra,{type:"source",position:r,isConnectable:n})]})}function rI({data:e,isConnectable:n,targetPosition:r=Le.Top,sourcePosition:a=Le.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx(Ra,{type:"target",position:r,isConnectable:n}),e?.label,o.jsx(Ra,{type:"source",position:a,isConnectable:n})]})}function oI(){return null}function aI({data:e,isConnectable:n,targetPosition:r=Le.Top}){return o.jsxs(o.Fragment,{children:[o.jsx(Ra,{type:"target",position:r,isConnectable:n}),e?.label]})}const Ju={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Gb={input:sI,default:rI,output:aI,group:oI};function iI(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const lI=e=>{const{width:n,height:r,x:a,y:l}=kl(e.nodeLookup,{filter:c=>!!c.selected});return{width:Vn(n)?n:null,height:Vn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${l}px)`}};function cI({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const a=wt(),{width:l,height:c,transformString:d,userSelectionActive:f}=nt(lI,bt),m=Zj(),h=w.useRef(null);if(w.useEffect(()=>{r||h.current?.focus({preventScroll:!0})},[r]),Xj({nodeRef:h}),f||!l||!c)return null;const g=e?x=>{const b=a.getState().nodes.filter(j=>j.selected);e(x,b)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(Ju,x.key)&&(x.preventDefault(),m({direction:Ju[x.key],factor:x.shiftKey?4:1}))};return o.jsx("div",{className:Ot(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d},children:o.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:r?void 0:-1,onKeyDown:r?void 0:y,style:{width:l,height:c}})})}const Xb=typeof window<"u"?window:void 0,uI=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Kj({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,paneClickDistance:f,deleteKeyCode:m,selectionKeyCode:h,selectionOnDrag:g,selectionMode:y,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:N,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:E,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:P,defaultViewport:q,translateExtent:K,minZoom:J,maxZoom:G,preventScrolling:Z,onSelectionContextMenu:B,noWheelClassName:U,noPanClassName:k,disableKeyboardA11y:L,onViewportChange:I,isControlledViewport:H}){const{nodesSelectionActive:C,userSelectionActive:$}=nt(uI),Y=gl(h,{target:Xb}),V=gl(N,{target:Xb}),W=V||P,fe=V||T,ue=g&&W!==!0,te=Y||$||ue;return qz({deleteKeyCode:m,multiSelectionKeyCode:j}),o.jsx(Gz,{onPaneContextMenu:c,elementsSelectable:_,zoomOnScroll:M,zoomOnPinch:E,panOnScroll:fe,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:!Y&&W,defaultViewport:q,translateExtent:K,minZoom:J,maxZoom:G,zoomActivationKeyCode:S,preventScrolling:Z,noWheelClassName:U,noPanClassName:k,onViewportChange:I,isControlledViewport:H,paneClickDistance:f,children:o.jsxs(Kz,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:W,isSelecting:!!te,selectionMode:y,selectionKeyPressed:Y,selectionOnDrag:ue,children:[e,C&&o.jsx(cI,{onSelectionContextMenu:B,noPanClassName:k,disableKeyboardA11y:L})]})})}Kj.displayName="FlowRenderer";const dI=w.memo(Kj),fI=e=>n=>e?yg(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(r=>r.id):Array.from(n.nodeLookup.keys());function mI(e){return nt(w.useCallback(fI(e),[e]),bt)}const hI=e=>e.updateNodeInternals;function pI(){const e=nt(hI),[n]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(l=>{const c=l.target.getAttribute("data-id");a.set(c,{id:c,nodeElement:l.target,force:!0})}),e(a)}));return w.useEffect(()=>()=>{n?.disconnect()},[n]),n}function gI({node:e,nodeType:n,hasDimensions:r,resizeObserver:a}){const l=wt(),c=w.useRef(null),d=w.useRef(null),f=w.useRef(e.sourcePosition),m=w.useRef(e.targetPosition),h=w.useRef(n),g=r&&!!e.internals.handleBounds;return w.useEffect(()=>{c.current&&!e.hidden&&(!g||d.current!==c.current)&&(d.current&&a?.unobserve(d.current),a?.observe(c.current),d.current=c.current)},[g,e.hidden]),w.useEffect(()=>()=>{d.current&&(a?.unobserve(d.current),d.current=null)},[]),w.useEffect(()=>{if(c.current){const y=h.current!==n,x=f.current!==e.sourcePosition,b=m.current!==e.targetPosition;(y||x||b)&&(h.current=n,f.current=e.sourcePosition,m.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:c.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),c}function xI({id:e,onClick:n,onMouseEnter:r,onMouseMove:a,onMouseLeave:l,onContextMenu:c,onDoubleClick:d,nodesDraggable:f,elementsSelectable:m,nodesConnectable:h,nodesFocusable:g,resizeObserver:y,noDragClassName:x,noPanClassName:b,disableKeyboardA11y:j,rfId:N,nodeTypes:S,nodeClickDistance:_,onError:M}){const{node:E,internals:T,isParent:R}=nt(ie=>{const ge=ie.nodeLookup.get(e),we=ie.parentLookup.has(e);return{node:ge,internals:ge.internals,isParent:we}},bt);let D=E.type||"default",O=S?.[D]||Gb[D];O===void 0&&(M?.("003",us.error003(D)),D="default",O=S?.default||Gb.default);const P=!!(E.draggable||f&&typeof E.draggable>"u"),q=!!(E.selectable||m&&typeof E.selectable>"u"),K=!!(E.connectable||h&&typeof E.connectable>"u"),J=!!(E.focusable||g&&typeof E.focusable>"u"),G=wt(),Z=vj(E),B=gI({node:E,nodeType:D,hasDimensions:Z,resizeObserver:y}),U=Xj({nodeRef:B,disabled:E.hidden||!P,noDragClassName:x,handleSelector:E.dragHandle,nodeId:e,isSelectable:q,nodeClickDistance:_}),k=Zj();if(E.hidden)return null;const L=Ys(E),I=iI(E),H=q||P||n||r||a||l,C=r?ie=>r(ie,{...T.userNode}):void 0,$=a?ie=>a(ie,{...T.userNode}):void 0,Y=l?ie=>l(ie,{...T.userNode}):void 0,V=c?ie=>c(ie,{...T.userNode}):void 0,W=d?ie=>d(ie,{...T.userNode}):void 0,fe=ie=>{const{selectNodesOnDrag:ge,nodeDragThreshold:we}=G.getState();q&&(!ge||!P||we>0)&&wp({id:e,store:G,nodeRef:B}),n&&n(ie,{...T.userNode})},ue=ie=>{if(!(Nj(ie.nativeEvent)||j)){if(uj.includes(ie.key)&&q){const ge=ie.key==="Escape";wp({id:e,store:G,unselect:ge,nodeRef:B})}else if(P&&E.selected&&Object.prototype.hasOwnProperty.call(Ju,ie.key)){ie.preventDefault();const{ariaLabelConfig:ge}=G.getState();G.setState({ariaLiveMessage:ge["node.a11yDescription.ariaLiveMessage"]({direction:ie.key.replace("Arrow","").toLowerCase(),x:~~T.positionAbsolute.x,y:~~T.positionAbsolute.y})}),k({direction:Ju[ie.key],factor:ie.shiftKey?4:1})}}},te=()=>{if(j||!B.current?.matches(":focus-visible"))return;const{transform:ie,width:ge,height:we,autoPanOnNodeFocus:Ne,setCenter:ne}=G.getState();if(!Ne)return;yg(new Map([[e,E]]),{x:0,y:0,width:ge,height:we},ie,!0).length>0||ne(E.position.x+L.width/2,E.position.y+L.height/2,{zoom:ie[2]})};return o.jsx("div",{className:Ot(["react-flow__node",`react-flow__node-${D}`,{[b]:P},E.className,{selected:E.selected,selectable:q,parent:R,draggable:P,dragging:U}]),ref:B,style:{zIndex:T.z,transform:`translate(${T.positionAbsolute.x}px,${T.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:Z?"visible":"hidden",...E.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:C,onMouseMove:$,onMouseLeave:Y,onContextMenu:V,onClick:fe,onDoubleClick:W,onKeyDown:J?ue:void 0,tabIndex:J?0:void 0,onFocus:J?te:void 0,role:E.ariaRole??(J?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${Pj}-${N}`,"aria-label":E.ariaLabel,...E.domAttributes,children:o.jsx(Jz,{value:e,children:o.jsx(O,{id:e,data:E.data,type:D,positionAbsoluteX:T.positionAbsolute.x,positionAbsoluteY:T.positionAbsolute.y,selected:E.selected??!1,selectable:q,draggable:P,deletable:E.deletable??!0,isConnectable:K,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:U,dragHandle:E.dragHandle,zIndex:T.z,parentId:E.parentId,...L})})})}const yI=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Qj(e){const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:l,onError:c}=nt(yI,bt),d=mI(e.onlyRenderVisibleElements),f=pI();return o.jsx("div",{className:"react-flow__nodes",style:Hd,children:d.map(m=>o.jsx(xI,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:c},m))})}Qj.displayName="NodeRenderer";const vI=w.memo(Qj);function bI(e){return nt(w.useCallback(r=>{if(!e)return r.edges.map(l=>l.id);const a=[];if(r.width&&r.height)for(const l of r.edges){const c=r.nodeLookup.get(l.source),d=r.nodeLookup.get(l.target);c&&d&&v9({sourceNode:c,targetNode:d,width:r.width,height:r.height,transform:r.transform})&&a.push(l.id)}return a},[e]),bt)}const wI=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},NI=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Zb={[Wu.Arrow]:wI,[Wu.ArrowClosed]:NI};function jI(e){const n=wt();return w.useMemo(()=>Object.prototype.hasOwnProperty.call(Zb,e)?Zb[e]:(n.getState().onError?.("009",us.error009(e)),null),[e])}const SI=({id:e,type:n,color:r,width:a=12.5,height:l=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:f="auto-start-reverse"})=>{const m=jI(n);return m?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:f,refX:"0",refY:"0",children:o.jsx(m,{color:r,strokeWidth:d})}):null},Jj=({defaultColor:e,rfId:n})=>{const r=nt(c=>c.edges),a=nt(c=>c.defaultEdgeOptions),l=w.useMemo(()=>C9(r,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,n,e]);return l.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:l.map(c=>o.jsx(SI,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};Jj.displayName="MarkerDefinitions";var _I=w.memo(Jj);function eS({x:e,y:n,label:r,labelStyle:a,labelShowBg:l=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:f=2,children:m,className:h,...g}){const[y,x]=w.useState({x:1,y:0,width:0,height:0}),b=Ot(["react-flow__edge-textwrapper",h]),j=w.useRef(null);return w.useEffect(()=>{if(j.current){const N=j.current.getBBox();x({x:N.x,y:N.y,width:N.width,height:N.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-y.width/2} ${n-y.height/2})`,className:b,visibility:y.width?"visible":"hidden",...g,children:[l&&o.jsx("rect",{width:y.width+2*d[0],x:-d[0],y:-d[1],height:y.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:f,ry:f}),o.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:j,style:a,children:r}),m]}):null}eS.displayName="EdgeText";const EI=w.memo(eS);function Tl({path:e,labelX:n,labelY:r,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,interactionWidth:h=20,...g}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...g,d:e,fill:"none",className:Ot(["react-flow__edge-path",g.className])}),h?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&Vn(n)&&Vn(r)?o.jsx(EI,{x:n,y:r,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m}):null]})}function Wb({pos:e,x1:n,y1:r,x2:a,y2:l}){return e===Le.Left||e===Le.Right?[.5*(n+a),r]:[n,.5*(r+l)]}function tS({sourceX:e,sourceY:n,sourcePosition:r=Le.Bottom,targetX:a,targetY:l,targetPosition:c=Le.Top}){const[d,f]=Wb({pos:r,x1:e,y1:n,x2:a,y2:l}),[m,h]=Wb({pos:c,x1:a,y1:l,x2:e,y2:n}),[g,y,x,b]=Sj({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:d,sourceControlY:f,targetControlX:m,targetControlY:h});return[`M${e},${n} C${d},${f} ${m},${h} ${a},${l}`,g,y,x,b]}function nS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:_})=>{const[M,E,T]=tS({sourceX:r,sourceY:a,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),R=e.isInternal?void 0:n;return o.jsx(Tl,{id:R,path:M,labelX:E,labelY:T,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:_})})}const CI=nS({isInternal:!1}),sS=nS({isInternal:!0});CI.displayName="SimpleBezierEdge";sS.displayName="SimpleBezierEdgeInternal";function rS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,sourcePosition:b=Le.Bottom,targetPosition:j=Le.Top,markerEnd:N,markerStart:S,pathOptions:_,interactionWidth:M})=>{const[E,T,R]=xp({sourceX:r,sourceY:a,sourcePosition:b,targetX:l,targetY:c,targetPosition:j,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),D=e.isInternal?void 0:n;return o.jsx(Tl,{id:D,path:E,labelX:T,labelY:R,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:N,markerStart:S,interactionWidth:M})})}const oS=rS({isInternal:!1}),aS=rS({isInternal:!0});oS.displayName="SmoothStepEdge";aS.displayName="SmoothStepEdgeInternal";function iS(e){return w.memo(({id:n,...r})=>{const a=e.isInternal?void 0:n;return o.jsx(oS,{...r,id:a,pathOptions:w.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const kI=iS({isInternal:!1}),lS=iS({isInternal:!0});kI.displayName="StepEdge";lS.displayName="StepEdgeInternal";function cS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:j,interactionWidth:N})=>{const[S,_,M]=Cj({sourceX:r,sourceY:a,targetX:l,targetY:c}),E=e.isInternal?void 0:n;return o.jsx(Tl,{id:E,path:S,labelX:_,labelY:M,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:j,interactionWidth:N})})}const AI=cS({isInternal:!1}),uS=cS({isInternal:!0});AI.displayName="StraightEdge";uS.displayName="StraightEdgeInternal";function dS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,sourcePosition:d=Le.Bottom,targetPosition:f=Le.Top,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,pathOptions:_,interactionWidth:M})=>{const[E,T,R]=_j({sourceX:r,sourceY:a,sourcePosition:d,targetX:l,targetY:c,targetPosition:f,curvature:_?.curvature}),D=e.isInternal?void 0:n;return o.jsx(Tl,{id:D,path:E,labelX:T,labelY:R,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:M})})}const MI=dS({isInternal:!1}),fS=dS({isInternal:!0});MI.displayName="BezierEdge";fS.displayName="BezierEdgeInternal";const Kb={default:fS,straight:uS,step:lS,smoothstep:aS,simplebezier:sS},Qb={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},TI=(e,n,r)=>r===Le.Left?e-n:r===Le.Right?e+n:e,RI=(e,n,r)=>r===Le.Top?e-n:r===Le.Bottom?e+n:e,Jb="react-flow__edgeupdater";function ew({position:e,centerX:n,centerY:r,radius:a=10,onMouseDown:l,onMouseEnter:c,onMouseOut:d,type:f}){return o.jsx("circle",{onMouseDown:l,onMouseEnter:c,onMouseOut:d,className:Ot([Jb,`${Jb}-${f}`]),cx:TI(n,a,e),cy:RI(r,a,e),r:a,stroke:"transparent",fill:"transparent"})}function DI({isReconnectable:e,reconnectRadius:n,edge:r,sourceX:a,sourceY:l,targetX:c,targetY:d,sourcePosition:f,targetPosition:m,onReconnect:h,onReconnectStart:g,onReconnectEnd:y,setReconnecting:x,setUpdateHover:b}){const j=wt(),N=(T,R)=>{if(T.button!==0)return;const{autoPanOnConnect:D,domNode:O,isValidConnection:P,connectionMode:q,connectionRadius:K,lib:J,onConnectStart:G,onConnectEnd:Z,cancelConnection:B,nodeLookup:U,rfId:k,panBy:L,updateConnection:I}=j.getState(),H=R.type==="target",C=(V,W)=>{x(!1),y?.(V,r,R.type,W)},$=V=>h?.(r,V),Y=(V,W)=>{x(!0),g?.(T,r,R.type),G?.(V,W)};bp.onPointerDown(T.nativeEvent,{autoPanOnConnect:D,connectionMode:q,connectionRadius:K,domNode:O,handleId:R.id,nodeId:R.nodeId,nodeLookup:U,isTarget:H,edgeUpdaterType:R.type,lib:J,flowId:k,cancelConnection:B,panBy:L,isValidConnection:P,onConnect:$,onConnectStart:Y,onConnectEnd:Z,onReconnectEnd:C,updateConnection:I,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold,handleDomNode:T.currentTarget})},S=T=>N(T,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),_=T=>N(T,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),M=()=>b(!0),E=()=>b(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(ew,{position:f,centerX:a,centerY:l,radius:n,onMouseDown:S,onMouseEnter:M,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&o.jsx(ew,{position:m,centerX:c,centerY:d,radius:n,onMouseDown:_,onMouseEnter:M,onMouseOut:E,type:"target"})]})}function OI({id:e,edgesFocusable:n,edgesReconnectable:r,elementsSelectable:a,onClick:l,onDoubleClick:c,onContextMenu:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,reconnectRadius:g,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,rfId:j,edgeTypes:N,noPanClassName:S,onError:_,disableKeyboardA11y:M}){let E=nt(ne=>ne.edgeLookup.get(e));const T=nt(ne=>ne.defaultEdgeOptions);E=T?{...T,...E}:E;let R=E.type||"default",D=N?.[R]||Kb[R];D===void 0&&(_?.("011",us.error011(R)),R="default",D=N?.default||Kb.default);const O=!!(E.focusable||n&&typeof E.focusable>"u"),P=typeof y<"u"&&(E.reconnectable||r&&typeof E.reconnectable>"u"),q=!!(E.selectable||a&&typeof E.selectable>"u"),K=w.useRef(null),[J,G]=w.useState(!1),[Z,B]=w.useState(!1),U=wt(),{zIndex:k,sourceX:L,sourceY:I,targetX:H,targetY:C,sourcePosition:$,targetPosition:Y}=nt(w.useCallback(ne=>{const pe=ne.nodeLookup.get(E.source),he=ne.nodeLookup.get(E.target);if(!pe||!he)return{zIndex:E.zIndex,...Qb};const ee=E9({id:e,sourceNode:pe,targetNode:he,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:ne.connectionMode,onError:_});return{zIndex:y9({selected:E.selected,zIndex:E.zIndex,sourceNode:pe,targetNode:he,elevateOnSelect:ne.elevateEdgesOnSelect}),...ee||Qb}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),bt),V=w.useMemo(()=>E.markerStart?`url('#${yp(E.markerStart,j)}')`:void 0,[E.markerStart,j]),W=w.useMemo(()=>E.markerEnd?`url('#${yp(E.markerEnd,j)}')`:void 0,[E.markerEnd,j]);if(E.hidden||L===null||I===null||H===null||C===null)return null;const fe=ne=>{const{addSelectedEdges:pe,unselectNodesAndEdges:he,multiSelectionActive:ee}=U.getState();q&&(U.setState({nodesSelectionActive:!1}),E.selected&&ee?(he({nodes:[],edges:[E]}),K.current?.blur()):pe([e])),l&&l(ne,E)},ue=c?ne=>{c(ne,{...E})}:void 0,te=d?ne=>{d(ne,{...E})}:void 0,ie=f?ne=>{f(ne,{...E})}:void 0,ge=m?ne=>{m(ne,{...E})}:void 0,we=h?ne=>{h(ne,{...E})}:void 0,Ne=ne=>{if(!M&&uj.includes(ne.key)&&q){const{unselectNodesAndEdges:pe,addSelectedEdges:he}=U.getState();ne.key==="Escape"?(K.current?.blur(),pe({edges:[E]})):he([e])}};return o.jsx("svg",{style:{zIndex:k},children:o.jsxs("g",{className:Ot(["react-flow__edge",`react-flow__edge-${R}`,E.className,S,{selected:E.selected,animated:E.animated,inactive:!q&&!l,updating:J,selectable:q}]),onClick:fe,onDoubleClick:ue,onContextMenu:te,onMouseEnter:ie,onMouseMove:ge,onMouseLeave:we,onKeyDown:O?Ne:void 0,tabIndex:O?0:void 0,role:E.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":O?`${Bj}-${j}`:void 0,ref:K,...E.domAttributes,children:[!Z&&o.jsx(D,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:q,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:L,sourceY:I,targetX:H,targetY:C,sourcePosition:$,targetPosition:Y,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:V,markerEnd:W,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),P&&o.jsx(DI,{edge:E,isReconnectable:P,reconnectRadius:g,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,sourceX:L,sourceY:I,targetX:H,targetY:C,sourcePosition:$,targetPosition:Y,setUpdateHover:G,setReconnecting:B})]})})}const zI=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function mS({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:r,edgeTypes:a,noPanClassName:l,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:f,onEdgeMouseMove:m,onEdgeMouseLeave:h,onEdgeClick:g,reconnectRadius:y,onEdgeDoubleClick:x,onReconnectStart:b,onReconnectEnd:j,disableKeyboardA11y:N}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:M,onError:E}=nt(zI,bt),T=bI(n);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(_I,{defaultColor:e,rfId:r}),T.map(R=>o.jsx(OI,{id:R,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:M,noPanClassName:l,onReconnect:c,onContextMenu:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onClick:g,reconnectRadius:y,onDoubleClick:x,onReconnectStart:b,onReconnectEnd:j,rfId:r,onError:E,edgeTypes:a,disableKeyboardA11y:N},R))]})}mS.displayName="EdgeRenderer";const II=w.memo(mS),LI=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function $I({children:e}){const n=nt(LI);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function HI(e){const n=$a(),r=w.useRef(!1);w.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const PI=e=>e.panZoom?.syncViewport;function BI(e){const n=nt(PI),r=wt();return w.useEffect(()=>{e&&(n?.(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function UI(e){return e.connection.inProgress?{...e.connection,to:Ml(e.connection.to,e.transform)}:{...e.connection}}function VI(e){return UI}function qI(e){const n=VI();return nt(n,bt)}const FI=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function YI({containerStyle:e,style:n,type:r,component:a}){const{nodesConnectable:l,width:c,height:d,isValid:f,inProgress:m}=nt(FI,bt);return!(c&&l&&m)?null:o.jsx("svg",{style:e,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:Ot(["react-flow__connection",mj(f)]),children:o.jsx(hS,{style:n,type:r,CustomComponent:a,isValid:f})})})}const hS=({style:e,type:n=Er.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:l,from:c,fromNode:d,fromHandle:f,fromPosition:m,to:h,toNode:g,toHandle:y,toPosition:x}=qI();if(!l)return;if(r)return o.jsx(r,{connectionLineType:n,connectionLineStyle:e,fromNode:d,fromHandle:f,fromX:c.x,fromY:c.y,toX:h.x,toY:h.y,fromPosition:m,toPosition:x,connectionStatus:mj(a),toNode:g,toHandle:y});let b="";const j={sourceX:c.x,sourceY:c.y,sourcePosition:m,targetX:h.x,targetY:h.y,targetPosition:x};switch(n){case Er.Bezier:[b]=_j(j);break;case Er.SimpleBezier:[b]=tS(j);break;case Er.Step:[b]=xp({...j,borderRadius:0});break;case Er.SmoothStep:[b]=xp(j);break;default:[b]=Cj(j)}return o.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};hS.displayName="ConnectionLine";const GI={};function tw(e=GI){w.useRef(e),wt(),w.useEffect(()=>{},[e])}function XI(){wt(),w.useRef(!1),w.useEffect(()=>{},[])}function pS({nodeTypes:e,edgeTypes:n,onInit:r,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:b,connectionLineType:j,connectionLineStyle:N,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:M,selectionOnDrag:E,selectionMode:T,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:O,deleteKeyCode:P,onlyRenderVisibleElements:q,elementsSelectable:K,defaultViewport:J,translateExtent:G,minZoom:Z,maxZoom:B,preventScrolling:U,defaultMarkerColor:k,zoomOnScroll:L,zoomOnPinch:I,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:$,zoomOnDoubleClick:Y,panOnDrag:V,onPaneClick:W,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:te,onPaneScroll:ie,onPaneContextMenu:ge,paneClickDistance:we,nodeClickDistance:Ne,onEdgeContextMenu:ne,onEdgeMouseEnter:pe,onEdgeMouseMove:he,onEdgeMouseLeave:ee,reconnectRadius:ve,onReconnect:ye,onReconnectStart:Te,onReconnectEnd:_e,noDragClassName:Ee,noWheelClassName:at,noPanClassName:Pe,disableKeyboardA11y:je,nodeExtent:Re,rfId:ze,viewport:Be,onViewportChange:Ue}){return tw(e),tw(n),XI(),HI(r),BI(Be),o.jsx(dI,{onPaneClick:W,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:te,onPaneContextMenu:ge,onPaneScroll:ie,paneClickDistance:we,deleteKeyCode:P,selectionKeyCode:M,selectionOnDrag:E,selectionMode:T,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:O,elementsSelectable:K,zoomOnScroll:L,zoomOnPinch:I,zoomOnDoubleClick:Y,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:$,panOnDrag:V,defaultViewport:J,translateExtent:G,minZoom:Z,maxZoom:B,onSelectionContextMenu:y,preventScrolling:U,noDragClassName:Ee,noWheelClassName:at,noPanClassName:Pe,disableKeyboardA11y:je,onViewportChange:Ue,isControlledViewport:!!Be,children:o.jsxs($I,{children:[o.jsx(II,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:d,onReconnect:ye,onReconnectStart:Te,onReconnectEnd:_e,onlyRenderVisibleElements:q,onEdgeContextMenu:ne,onEdgeMouseEnter:pe,onEdgeMouseMove:he,onEdgeMouseLeave:ee,reconnectRadius:ve,defaultMarkerColor:k,noPanClassName:Pe,disableKeyboardA11y:je,rfId:ze}),o.jsx(YI,{style:N,type:j,component:S,containerStyle:_}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(vI,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:g,nodeClickDistance:Ne,onlyRenderVisibleElements:q,noPanClassName:Pe,noDragClassName:Ee,disableKeyboardA11y:je,nodeExtent:Re,rfId:ze}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}pS.displayName="GraphView";const ZI=w.memo(pS),nw=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m=.5,maxZoom:h=2,nodeOrigin:g,nodeExtent:y}={})=>{const x=new Map,b=new Map,j=new Map,N=new Map,S=a??n??[],_=r??e??[],M=g??[0,0],E=y??dl;Aj(j,N,S);const T=vp(_,x,b,{nodeOrigin:M,nodeExtent:E,elevateNodesOnSelect:!1});let R=[0,0,1];if(d&&l&&c){const D=kl(x,{filter:K=>!!((K.width||K.initialWidth)&&(K.height||K.initialHeight))}),{x:O,y:P,zoom:q}=vg(D,l,c,m,h,f?.padding??.1);R=[O,P,q]}return{rfId:"1",width:0,height:0,transform:R,nodes:_,nodesInitialized:T,nodeLookup:x,parentLookup:b,edges:S,edgeLookup:N,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:m,maxZoom:h,translateExtent:dl,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ca.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:M,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:f,fitViewResolver:null,connection:{...fj},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:f9,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:dj}},WI=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m,maxZoom:h,nodeOrigin:g,nodeExtent:y})=>gz((x,b)=>{async function j(){const{nodeLookup:N,panZoom:S,fitViewOptions:_,fitViewResolver:M,width:E,height:T,minZoom:R,maxZoom:D}=b();S&&(await u9({nodes:N,width:E,height:T,panZoom:S,minZoom:R,maxZoom:D},_),M?.resolve(!0),x({fitViewResolver:null}))}return{...nw({nodes:e,edges:n,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m,maxZoom:h,nodeOrigin:g,nodeExtent:y,defaultNodes:r,defaultEdges:a}),setNodes:N=>{const{nodeLookup:S,parentLookup:_,nodeOrigin:M,elevateNodesOnSelect:E,fitViewQueued:T}=b(),R=vp(N,S,_,{nodeOrigin:M,nodeExtent:y,elevateNodesOnSelect:E,checkEquality:!0});T&&R?(j(),x({nodes:N,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:N,nodesInitialized:R})},setEdges:N=>{const{connectionLookup:S,edgeLookup:_}=b();Aj(S,_,N),x({edges:N})},setDefaultNodesAndEdges:(N,S)=>{if(N){const{setNodes:_}=b();_(N),x({hasDefaultNodes:!0})}if(S){const{setEdges:_}=b();_(S),x({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:S,nodeLookup:_,parentLookup:M,domNode:E,nodeOrigin:T,nodeExtent:R,debug:D,fitViewQueued:O}=b(),{changes:P,updatedInternals:q}=R9(N,_,M,E,T,R);q&&(A9(_,M,{nodeOrigin:T,nodeExtent:R}),O?(j(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),P?.length>0&&(D&&console.log("React Flow: trigger node changes",P),S?.(P)))},updateNodePositions:(N,S=!1)=>{const _=[],M=[],{nodeLookup:E,triggerNodeChanges:T}=b();for(const[R,D]of N){const O=E.get(R),P=!!(O?.expandParent&&O?.parentId&&D?.position),q={id:R,type:"position",position:P?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:S};P&&O.parentId&&_.push({id:R,parentId:O.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),M.push(q)}if(_.length>0){const{parentLookup:R,nodeOrigin:D}=b(),O=Sg(_,E,R,D);M.push(...O)}T(M)},triggerNodeChanges:N=>{const{onNodesChange:S,setNodes:_,nodes:M,hasDefaultNodes:E,debug:T}=b();if(N?.length){if(E){const R=qj(N,M);_(R)}T&&console.log("React Flow: trigger node changes",N),S?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:S,setEdges:_,edges:M,hasDefaultEdges:E,debug:T}=b();if(N?.length){if(E){const R=Fj(N,M);_(R)}T&&console.log("React Flow: trigger edge changes",N),S?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:M,triggerNodeChanges:E,triggerEdgeChanges:T}=b();if(S){const R=N.map(D=>ro(D,!0));E(R);return}E(ma(M,new Set([...N]),!0)),T(ma(_))},addSelectedEdges:N=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:M,triggerNodeChanges:E,triggerEdgeChanges:T}=b();if(S){const R=N.map(D=>ro(D,!0));T(R);return}T(ma(_,new Set([...N]))),E(ma(M,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:S}={})=>{const{edges:_,nodes:M,nodeLookup:E,triggerNodeChanges:T,triggerEdgeChanges:R}=b(),D=N||M,O=S||_,P=D.map(K=>{const J=E.get(K.id);return J&&(J.selected=!1),ro(K.id,!1)}),q=O.map(K=>ro(K.id,!1));T(P),R(q)},setMinZoom:N=>{const{panZoom:S,maxZoom:_}=b();S?.setScaleExtent([N,_]),x({minZoom:N})},setMaxZoom:N=>{const{panZoom:S,minZoom:_}=b();S?.setScaleExtent([_,N]),x({maxZoom:N})},setTranslateExtent:N=>{b().panZoom?.setTranslateExtent(N),x({translateExtent:N})},setPaneClickDistance:N=>{b().panZoom?.setClickDistance(N)},resetSelectedElements:()=>{const{edges:N,nodes:S,triggerNodeChanges:_,triggerEdgeChanges:M,elementsSelectable:E}=b();if(!E)return;const T=S.reduce((D,O)=>O.selected?[...D,ro(O.id,!1)]:D,[]),R=N.reduce((D,O)=>O.selected?[...D,ro(O.id,!1)]:D,[]);_(T),M(R)},setNodeExtent:N=>{const{nodes:S,nodeLookup:_,parentLookup:M,nodeOrigin:E,elevateNodesOnSelect:T,nodeExtent:R}=b();N[0][0]===R[0][0]&&N[0][1]===R[0][1]&&N[1][0]===R[1][0]&&N[1][1]===R[1][1]||(vp(S,_,M,{nodeOrigin:E,nodeExtent:N,elevateNodesOnSelect:T,checkEquality:!1}),x({nodeExtent:N}))},panBy:N=>{const{transform:S,width:_,height:M,panZoom:E,translateExtent:T}=b();return D9({delta:N,panZoom:E,transform:S,translateExtent:T,width:_,height:M})},setCenter:async(N,S,_)=>{const{width:M,height:E,maxZoom:T,panZoom:R}=b();if(!R)return Promise.resolve(!1);const D=typeof _?.zoom<"u"?_.zoom:T;return await R.setViewport({x:M/2-N*D,y:E/2-S*D,zoom:D},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...fj}})},updateConnection:N=>{x({connection:N})},reset:()=>x({...nw()})}},Object.is);function KI({initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:l,initialHeight:c,initialMinZoom:d,initialMaxZoom:f,initialFitViewOptions:m,fitView:h,nodeOrigin:g,nodeExtent:y,children:x}){const[b]=w.useState(()=>WI({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:h,minZoom:d,maxZoom:f,fitViewOptions:m,nodeOrigin:g,nodeExtent:y}));return o.jsx(xz,{value:b,children:o.jsx(Pz,{children:x})})}function QI({children:e,nodes:n,edges:r,defaultNodes:a,defaultEdges:l,width:c,height:d,fitView:f,fitViewOptions:m,minZoom:h,maxZoom:g,nodeOrigin:y,nodeExtent:x}){return w.useContext(Ld)?o.jsx(o.Fragment,{children:e}):o.jsx(KI,{initialNodes:n,initialEdges:r,defaultNodes:a,defaultEdges:l,initialWidth:c,initialHeight:d,fitView:f,initialFitViewOptions:m,initialMinZoom:h,initialMaxZoom:g,nodeOrigin:y,nodeExtent:x,children:e})}const JI={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function e7({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,className:l,nodeTypes:c,edgeTypes:d,onNodeClick:f,onEdgeClick:m,onInit:h,onMove:g,onMoveStart:y,onMoveEnd:x,onConnect:b,onConnectStart:j,onConnectEnd:N,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:M,onNodeMouseMove:E,onNodeMouseLeave:T,onNodeContextMenu:R,onNodeDoubleClick:D,onNodeDragStart:O,onNodeDrag:P,onNodeDragStop:q,onNodesDelete:K,onEdgesDelete:J,onDelete:G,onSelectionChange:Z,onSelectionDragStart:B,onSelectionDrag:U,onSelectionDragStop:k,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:H,onBeforeDelete:C,connectionMode:$,connectionLineType:Y=Er.Bezier,connectionLineStyle:V,connectionLineComponent:W,connectionLineContainerStyle:fe,deleteKeyCode:ue="Backspace",selectionKeyCode:te="Shift",selectionOnDrag:ie=!1,selectionMode:ge=fl.Full,panActivationKeyCode:we="Space",multiSelectionKeyCode:Ne=hl()?"Meta":"Control",zoomActivationKeyCode:ne=hl()?"Meta":"Control",snapToGrid:pe,snapGrid:he,onlyRenderVisibleElements:ee=!1,selectNodesOnDrag:ve,nodesDraggable:ye,autoPanOnNodeFocus:Te,nodesConnectable:_e,nodesFocusable:Ee,nodeOrigin:at=Uj,edgesFocusable:Pe,edgesReconnectable:je,elementsSelectable:Re=!0,defaultViewport:ze=Mz,minZoom:Be=.5,maxZoom:Ue=2,translateExtent:Nt=dl,preventScrolling:pt=!0,nodeExtent:ps,defaultMarkerColor:jo="#b1b1b7",zoomOnScroll:xe=!0,zoomOnPinch:De=!0,panOnScroll:$e=!1,panOnScrollSpeed:Ct=.5,panOnScrollMode:On=co.Free,zoomOnDoubleClick:He=!0,panOnDrag:be=!0,onPaneClick:gt,onPaneMouseEnter:St,onPaneMouseMove:tt,onPaneMouseLeave:tn,onPaneScroll:zn,onPaneContextMenu:Zn,paneClickDistance:Ha=0,nodeClickDistance:Pa=0,children:Ba,onReconnect:Rl,onReconnectStart:Pd,onReconnectEnd:Wn,onEdgeContextMenu:Ht,onEdgeDoubleClick:Xt,onEdgeMouseEnter:Gs,onEdgeMouseMove:Ua,onEdgeMouseLeave:Bd,reconnectRadius:Ud=10,onNodesChange:Dl,onEdgesChange:$r,noDragClassName:Va="nodrag",noWheelClassName:Xs="nowheel",noPanClassName:gs="nopan",fitView:Zs,fitViewOptions:xs,connectOnClick:Tt,attributionPosition:Ol,proOptions:zl,defaultEdgeOptions:ys,elevateNodesOnSelect:Ws,elevateEdgesOnSelect:Vd,disableKeyboardA11y:qa=!1,autoPanOnConnect:Il,autoPanOnNodeDrag:qd,autoPanSpeed:So,connectionRadius:_o,isValidConnection:In,onError:Fa,style:Ll,id:vs,nodeDragThreshold:Ya,connectionDragThreshold:Ga,viewport:Fd,onViewportChange:$l,width:nn,height:Hl,colorMode:Yd="light",debug:Eo,onScroll:Xa,ariaLabelConfig:Co,...Gd},sn){const Hr=vs||"1",Pl=Oz(Yd),Za=w.useCallback(bs=>{bs.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Xa?.(bs)},[Xa]);return o.jsx("div",{"data-testid":"rf__wrapper",...Gd,onScroll:Za,style:{...Ll,...JI},ref:sn,className:Ot(["react-flow",l,Pl]),id:vs,role:"application",children:o.jsxs(QI,{nodes:e,edges:n,width:nn,height:Hl,fitView:Zs,fitViewOptions:xs,minZoom:Be,maxZoom:Ue,nodeOrigin:at,nodeExtent:ps,children:[o.jsx(ZI,{onInit:h,onNodeClick:f,onEdgeClick:m,onNodeMouseEnter:M,onNodeMouseMove:E,onNodeMouseLeave:T,onNodeContextMenu:R,onNodeDoubleClick:D,nodeTypes:c,edgeTypes:d,connectionLineType:Y,connectionLineStyle:V,connectionLineComponent:W,connectionLineContainerStyle:fe,selectionKeyCode:te,selectionOnDrag:ie,selectionMode:ge,deleteKeyCode:ue,multiSelectionKeyCode:Ne,panActivationKeyCode:we,zoomActivationKeyCode:ne,onlyRenderVisibleElements:ee,defaultViewport:ze,translateExtent:Nt,minZoom:Be,maxZoom:Ue,preventScrolling:pt,zoomOnScroll:xe,zoomOnPinch:De,zoomOnDoubleClick:He,panOnScroll:$e,panOnScrollSpeed:Ct,panOnScrollMode:On,panOnDrag:be,onPaneClick:gt,onPaneMouseEnter:St,onPaneMouseMove:tt,onPaneMouseLeave:tn,onPaneScroll:zn,onPaneContextMenu:Zn,paneClickDistance:Ha,nodeClickDistance:Pa,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:H,onReconnect:Rl,onReconnectStart:Pd,onReconnectEnd:Wn,onEdgeContextMenu:Ht,onEdgeDoubleClick:Xt,onEdgeMouseEnter:Gs,onEdgeMouseMove:Ua,onEdgeMouseLeave:Bd,reconnectRadius:Ud,defaultMarkerColor:jo,noDragClassName:Va,noWheelClassName:Xs,noPanClassName:gs,rfId:Hr,disableKeyboardA11y:qa,nodeExtent:ps,viewport:Fd,onViewportChange:$l}),o.jsx(Dz,{nodes:e,edges:n,defaultNodes:r,defaultEdges:a,onConnect:b,onConnectStart:j,onConnectEnd:N,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:ye,autoPanOnNodeFocus:Te,nodesConnectable:_e,nodesFocusable:Ee,edgesFocusable:Pe,edgesReconnectable:je,elementsSelectable:Re,elevateNodesOnSelect:Ws,elevateEdgesOnSelect:Vd,minZoom:Be,maxZoom:Ue,nodeExtent:ps,onNodesChange:Dl,onEdgesChange:$r,snapToGrid:pe,snapGrid:he,connectionMode:$,translateExtent:Nt,connectOnClick:Tt,defaultEdgeOptions:ys,fitView:Zs,fitViewOptions:xs,onNodesDelete:K,onEdgesDelete:J,onDelete:G,onNodeDragStart:O,onNodeDrag:P,onNodeDragStop:q,onSelectionDrag:U,onSelectionDragStart:B,onSelectionDragStop:k,onMove:g,onMoveStart:y,onMoveEnd:x,noPanClassName:gs,nodeOrigin:at,rfId:Hr,autoPanOnConnect:Il,autoPanOnNodeDrag:qd,autoPanSpeed:So,onError:Fa,connectionRadius:_o,isValidConnection:In,selectNodesOnDrag:ve,nodeDragThreshold:Ya,connectionDragThreshold:Ga,onBeforeDelete:C,paneClickDistance:Ha,debug:Eo,ariaLabelConfig:Co}),o.jsx(Az,{onSelectionChange:Z}),Ba,o.jsx(Sz,{proOptions:zl,position:Ol}),o.jsx(jz,{rfId:Hr,disableKeyboardA11y:qa})]})})}var t7=Yj(e7);function n7(e){const[n,r]=w.useState(e),a=w.useCallback(l=>r(c=>qj(l,c)),[]);return[n,r,a]}function s7(e){const[n,r]=w.useState(e),a=w.useCallback(l=>r(c=>Fj(l,c)),[]);return[n,r,a]}function r7(e){return nt(w.useCallback(r=>r.nodeLookup.get(e),[e]),bt)}function o7({dimensions:e,lineWidth:n,variant:r,className:a}){return o.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Ot(["react-flow__background-pattern",r,a])})}function a7({radius:e,className:n}){return o.jsx("circle",{cx:e,cy:e,r:e,className:Ot(["react-flow__background-pattern","dots",n])})}var Bs;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Bs||(Bs={}));const i7={[Bs.Dots]:1,[Bs.Lines]:1,[Bs.Cross]:6},l7=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function gS({id:e,variant:n=Bs.Dots,gap:r=20,size:a,lineWidth:l=1,offset:c=0,color:d,bgColor:f,style:m,className:h,patternClassName:g}){const y=w.useRef(null),{transform:x,patternId:b}=nt(l7,bt),j=a||i7[n],N=n===Bs.Dots,S=n===Bs.Cross,_=Array.isArray(r)?r:[r,r],M=[_[0]*x[2]||1,_[1]*x[2]||1],E=j*x[2],T=Array.isArray(c)?c:[c,c],R=S?[E,E]:M,D=[T[0]*x[2]||1+R[0]/2,T[1]*x[2]||1+R[1]/2],O=`${b}${e||""}`;return o.jsxs("svg",{className:Ot(["react-flow__background",h]),style:{...m,...Hd,"--xy-background-color-props":f,"--xy-background-pattern-color-props":d},ref:y,"data-testid":"rf__background",children:[o.jsx("pattern",{id:O,x:x[0]%M[0],y:x[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:N?o.jsx(a7,{radius:E/2,className:g}):o.jsx(o7,{dimensions:R,lineWidth:l,variant:n,className:g})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}gS.displayName="Background";const c7=w.memo(gS);function u7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function d7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function f7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function m7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function h7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function du({children:e,className:n,...r}){return o.jsx("button",{type:"button",className:Ot(["react-flow__controls-button",n]),...r,children:e})}const p7=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function xS({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:l,onZoomIn:c,onZoomOut:d,onFitView:f,onInteractiveChange:m,className:h,children:g,position:y="bottom-left",orientation:x="vertical","aria-label":b}){const j=wt(),{isInteractive:N,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:M}=nt(p7,bt),{zoomIn:E,zoomOut:T,fitView:R}=$a(),D=()=>{E(),c?.()},O=()=>{T(),d?.()},P=()=>{R(l),f?.()},q=()=>{j.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),m?.(!N)},K=x==="horizontal"?"horizontal":"vertical";return o.jsxs($d,{className:Ot(["react-flow__controls",K,h]),position:y,style:e,"data-testid":"rf__controls","aria-label":b??M["controls.ariaLabel"],children:[n&&o.jsxs(o.Fragment,{children:[o.jsx(du,{onClick:D,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:_,children:o.jsx(u7,{})}),o.jsx(du,{onClick:O,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:S,children:o.jsx(d7,{})})]}),r&&o.jsx(du,{className:"react-flow__controls-fitview",onClick:P,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:o.jsx(f7,{})}),a&&o.jsx(du,{className:"react-flow__controls-interactive",onClick:q,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:N?o.jsx(h7,{}):o.jsx(m7,{})}),g]})}xS.displayName="Controls";const g7=w.memo(xS);function x7({id:e,x:n,y:r,width:a,height:l,style:c,color:d,strokeColor:f,strokeWidth:m,className:h,borderRadius:g,shapeRendering:y,selected:x,onClick:b}){const{background:j,backgroundColor:N}=c||{},S=d||j||N;return o.jsx("rect",{className:Ot(["react-flow__minimap-node",{selected:x},h]),x:n,y:r,rx:g,ry:g,width:a,height:l,style:{fill:S,stroke:f,strokeWidth:m},shapeRendering:y,onClick:b?_=>b(_,e):void 0})}const y7=w.memo(x7),v7=e=>e.nodes.map(n=>n.id),zh=e=>e instanceof Function?e:()=>e;function b7({nodeStrokeColor:e,nodeColor:n,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:c=y7,onClick:d}){const f=nt(v7,bt),m=zh(n),h=zh(e),g=zh(r),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:f.map(x=>o.jsx(N7,{id:x,nodeColorFunc:m,nodeStrokeColorFunc:h,nodeClassNameFunc:g,nodeBorderRadius:a,nodeStrokeWidth:l,NodeComponent:c,onClick:d,shapeRendering:y},x))})}function w7({id:e,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:l,nodeStrokeWidth:c,shapeRendering:d,NodeComponent:f,onClick:m}){const{node:h,x:g,y,width:x,height:b}=nt(j=>{const{internals:N}=j.nodeLookup.get(e),S=N.userNode,{x:_,y:M}=N.positionAbsolute,{width:E,height:T}=Ys(S);return{node:S,x:_,y:M,width:E,height:T}},bt);return!h||h.hidden||!vj(h)?null:o.jsx(f,{x:g,y,width:x,height:b,style:h.style,selected:!!h.selected,className:a(h),color:n(h),borderRadius:l,strokeColor:r(h),strokeWidth:c,shapeRendering:d,onClick:m,id:h.id})}const N7=w.memo(w7);var j7=w.memo(b7);const S7=200,_7=150,E7=e=>!e.hidden,C7=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?yj(kl(e.nodeLookup,{filter:E7}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},k7="react-flow__minimap-desc";function yS({style:e,className:n,nodeStrokeColor:r,nodeColor:a,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:f,bgColor:m,maskColor:h,maskStrokeColor:g,maskStrokeWidth:y,position:x="bottom-right",onClick:b,onNodeClick:j,pannable:N=!1,zoomable:S=!1,ariaLabel:_,inversePan:M,zoomStep:E=1,offsetScale:T=5}){const R=wt(),D=w.useRef(null),{boundingRect:O,viewBB:P,rfId:q,panZoom:K,translateExtent:J,flowWidth:G,flowHeight:Z,ariaLabelConfig:B}=nt(C7,bt),U=e?.width??S7,k=e?.height??_7,L=O.width/U,I=O.height/k,H=Math.max(L,I),C=H*U,$=H*k,Y=T*H,V=O.x-(C-O.width)/2-Y,W=O.y-($-O.height)/2-Y,fe=C+Y*2,ue=$+Y*2,te=`${k7}-${q}`,ie=w.useRef(0),ge=w.useRef();ie.current=H,w.useEffect(()=>{if(D.current&&K)return ge.current=U9({domNode:D.current,panZoom:K,getTransform:()=>R.getState().transform,getViewScale:()=>ie.current}),()=>{ge.current?.destroy()}},[K]),w.useEffect(()=>{ge.current?.update({translateExtent:J,width:G,height:Z,inversePan:M,pannable:N,zoomStep:E,zoomable:S})},[N,S,M,E,J,G,Z]);const we=b?pe=>{const[he,ee]=ge.current?.pointer(pe)||[0,0];b(pe,{x:he,y:ee})}:void 0,Ne=j?w.useCallback((pe,he)=>{const ee=R.getState().nodeLookup.get(he).internals.userNode;j(pe,ee)},[]):void 0,ne=_??B["minimap.ariaLabel"];return o.jsx($d,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*H:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:Ot(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:U,height:k,viewBox:`${V} ${W} ${fe} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":te,ref:D,onClick:we,children:[ne&&o.jsx("title",{id:te,children:ne}),o.jsx(j7,{onClick:Ne,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:f}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${V-Y},${W-Y}h${fe+Y*2}v${ue+Y*2}h${-fe-Y*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}yS.displayName="MiniMap";const A7=w.memo(yS),M7=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,T7={[Ta.Line]:"right",[Ta.Handle]:"bottom-right"};function R7({nodeId:e,position:n,variant:r=Ta.Handle,className:a,style:l=void 0,children:c,color:d,minWidth:f=10,minHeight:m=10,maxWidth:h=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:x,autoScale:b=!0,shouldResize:j,onResizeStart:N,onResize:S,onResizeEnd:_}){const M=Wj(),E=typeof e=="string"?e:M,T=wt(),R=w.useRef(null),D=r===Ta.Handle,O=nt(w.useCallback(M7(D&&b),[D,b]),bt),P=w.useRef(null),q=n??T7[r];w.useEffect(()=>{if(!(!R.current||!E))return P.current||(P.current=rz({domNode:R.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:J,transform:G,snapGrid:Z,snapToGrid:B,nodeOrigin:U,domNode:k}=T.getState();return{nodeLookup:J,transform:G,snapGrid:Z,snapToGrid:B,nodeOrigin:U,paneDomNode:k}},onChange:(J,G)=>{const{triggerNodeChanges:Z,nodeLookup:B,parentLookup:U,nodeOrigin:k}=T.getState(),L=[],I={x:J.x,y:J.y},H=B.get(E);if(H&&H.expandParent&&H.parentId){const C=H.origin??k,$=J.width??H.measured.width??0,Y=J.height??H.measured.height??0,V={id:H.id,parentId:H.parentId,rect:{width:$,height:Y,...bj({x:J.x??H.position.x,y:J.y??H.position.y},{width:$,height:Y},H.parentId,B,C)}},W=Sg([V],B,U,k);L.push(...W),I.x=J.x?Math.max(C[0]*$,J.x):void 0,I.y=J.y?Math.max(C[1]*Y,J.y):void 0}if(I.x!==void 0&&I.y!==void 0){const C={id:E,type:"position",position:{...I}};L.push(C)}if(J.width!==void 0&&J.height!==void 0){const $={id:E,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:J.width,height:J.height}};L.push($)}for(const C of G){const $={...C,type:"position"};L.push($)}Z(L)},onEnd:({width:J,height:G})=>{const Z={id:E,type:"dimensions",resizing:!1,dimensions:{width:J,height:G}};T.getState().triggerNodeChanges([Z])}})),P.current.update({controlPosition:q,boundaries:{minWidth:f,minHeight:m,maxWidth:h,maxHeight:g},keepAspectRatio:y,resizeDirection:x,onResizeStart:N,onResize:S,onResizeEnd:_,shouldResize:j}),()=>{P.current?.destroy()}},[q,f,m,h,g,y,N,S,_,j]);const K=q.split("-");return o.jsx("div",{className:Ot(["react-flow__resize-control","nodrag",...K,r,a]),ref:R,style:{...l,scale:O,...d&&{[D?"backgroundColor":"borderColor"]:d}},children:c})}w.memo(R7);const D7=e=>{switch(e){case"running":return{borderColor:"border-[#643FB2] dark:border-[#8B5CF6]",glow:"shadow-lg shadow-[#643FB2]/20",badgeColor:"bg-[#643FB2] dark:bg-[#8B5CF6]"};case"completed":return{borderColor:"border-green-500 dark:border-green-400",glow:"shadow-lg shadow-green-500/20",badgeColor:"bg-green-500 dark:bg-green-400"};case"failed":return{borderColor:"border-red-500 dark:border-red-400",glow:"shadow-lg shadow-red-500/20",badgeColor:"bg-red-500 dark:bg-red-400"};case"cancelled":return{borderColor:"border-orange-500 dark:border-orange-400",glow:"shadow-lg shadow-orange-500/20",badgeColor:"bg-orange-500 dark:bg-orange-400"};case"pending":default:return{borderColor:"border-gray-300 dark:border-gray-600",glow:"",badgeColor:"bg-gray-400 dark:bg-gray-500"}}},vS=w.memo(({data:e,selected:n})=>{const r=e,a=D7(r.state),l=r.inputData||r.outputData||r.error,c=r.state==="running",d=c&&(r.isStreaming??!0),f=r.layoutDirection==="TB",m=f?Le.Top:Le.Left,h=f?Le.Bottom:Le.Right,g=()=>{const y=[];if(r.error&&typeof r.error=="string"){const x=wu(r.error,150);y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"Error:"}),o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/20 p-2 rounded border border-red-200 dark:border-red-800 break-words",children:x})]},"error"))}if(r.outputData)try{const x=typeof r.outputData=="string"?r.outputData:JSON.stringify(r.outputData,null,2);y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800 max-h-20 overflow-auto",children:o.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:x})})]},"output"))}catch{y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-green-50 dark:bg-green-950/20 p-2 rounded border border-green-200 dark:border-green-800",children:"[Unable to display output data]"})]},"output"))}if(r.inputData)try{const x=typeof r.inputData=="string"?r.inputData:JSON.stringify(r.inputData,null,2);y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800 max-h-20 overflow-auto",children:o.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:x})})]},"input"))}catch{y.push(o.jsxs("div",{className:"mb-2",children:[o.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Input:"}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-950/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:"[Unable to display input data]"})]},"input"))}return y.length>0?y:null};return o.jsxs("div",{className:Xe("group relative w-64 bg-card dark:bg-card rounded border-2 transition-all duration-200",a.borderColor,n?"ring-2 ring-blue-500 ring-offset-2":"",c?a.glow:"shadow-sm"),children:[o.jsx(Ra,{type:"target",position:m,id:"target",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),o.jsx(Ra,{type:"source",position:h,id:"source",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 relative",children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-900/90 dark:bg-gray-800/90 flex items-center justify-center",children:r.isStartNode?o.jsx(wM,{className:"w-5 h-5 text-[#643FB2] dark:text-[#8B5CF6]"}):o.jsx(Ls,{className:"w-5 h-5 text-gray-300 dark:text-gray-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("h3",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:r.name||r.executorId}),c&&o.jsx(Mr,{className:`w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] ${d?"animate-spin":""} flex-shrink-0`})]}),r.executorType&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:r.executorType})]})]}),l&&o.jsx("div",{className:"mt-3",children:g()}),c&&o.jsx("div",{className:"absolute inset-0 rounded border-2 border-[#643FB2]/30 dark:border-[#8B5CF6]/30 animate-pulse pointer-events-none"})]})]})});vS.displayName="ExecutorNode";const O7=w.memo(function({id:n,source:r,markerEnd:a,style:l}){const c=r7(r);if(!c)return null;const{width:d,height:f}=c.measured,{x:m,y:h}=c.internals.positionAbsolute;if(!d||!f)return null;const y=c.data?.layoutDirection==="TB",x=100,b=40;let j;if(y){const N=m+d/2,S=h+f,_=m+d/2,M=h,E=m+d+x;j=`M ${N} ${S} C ${N} ${S+b}, ${E} ${S+b}, ${E} ${h+f/2} C ${E} ${M-b}, ${_} ${M-b}, ${_} ${M}`}else{const N=m+d,S=h+f/2,_=m,M=h+f/2,E=h+f+x;j=`M ${N} ${S} C ${N+b} ${S}, ${N+b} ${E}, ${m+d/2} ${E} C ${_-b} ${E}, ${_-b} ${M}, ${_} ${M}`}return o.jsx(Tl,{id:n,path:j,markerEnd:a,style:l})}),z7={executor:vS},I7={selfLoop:O7};function L7({workflowDump:e,onNodeSelect:n,viewOptions:r,onToggleViewOption:a,layoutDirection:l,onLayoutDirectionChange:c}){const{fitView:d,setViewport:f,setNodes:m}=$a(),h=()=>{f({x:0,y:0,zoom:1})},g=()=>{d({padding:.2})},y=()=>{if(!e)return;const x=op(e,n,l),b=ap(e),j=ip(x,b,l);m(j)};return o.jsx("div",{className:"absolute top-4 right-4 z-10",children:o.jsxs(md,{children:[o.jsx(hd,{asChild:!0,children:o.jsxs(Oe,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white/90 backdrop-blur-sm border-gray-200 shadow-sm hover:bg-white dark:bg-gray-800/90 dark:border-gray-600 dark:hover:bg-gray-800",children:[o.jsx(mM,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"View options"})]})}),o.jsxs(pd,{align:"end",className:"w-56",children:[o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("showMinimap"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(zM,{className:"mr-2 h-4 w-4"}),"Show Minimap"]}),o.jsx(Sr,{checked:r.showMinimap,onChange:()=>{}})]}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("showGrid"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(vM,{className:"mr-2 h-4 w-4"}),"Show Grid"]}),o.jsx(Sr,{checked:r.showGrid,onChange:()=>{}})]}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("animateRun"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Jp,{className:"mr-2 h-4 w-4"}),"Animate Run"]}),o.jsx(Sr,{checked:r.animateRun,onChange:()=>{}})]}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("consolidateBidirectionalEdges"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($A,{className:"mr-2 h-4 w-4"}),"Merge Bidirectional Edges"]}),o.jsx(Sr,{checked:r.consolidateBidirectionalEdges,onChange:()=>{}})]}),o.jsx(ga,{}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>{const x=l==="LR"?"TB":"LR";if(c?.(x),e){const b=op(e,n,x),j=ap(e),N=ip(b,j,x);m(N)}},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(IA,{className:"mr-2 h-4 w-4"}),"Vertical Layout"]}),o.jsx(Sr,{checked:l==="TB",onChange:()=>{}})]}),o.jsx(ga,{}),o.jsxs($t,{onClick:h,children:[o.jsx(Wp,{className:"mr-2 h-4 w-4"}),"Reset Zoom"]}),o.jsxs($t,{onClick:g,children:[o.jsx(LM,{className:"mr-2 h-4 w-4"}),"Fit to Screen"]}),o.jsxs($t,{onClick:y,children:[o.jsx(aT,{className:"mr-2 h-4 w-4"}),"Auto-arrange"]})]})]})})}function $7({nodes:e,nodeUpdates:n,isStreaming:r,animateRun:a}){const{fitView:l}=$a();return w.useEffect(()=>{if(a)if(r){const c=e.filter(d=>d.data.state==="running");if(c.length>0){const d=c[0];l({nodes:[d],duration:800,padding:.3,minZoom:.8,maxZoom:1.5})}}else e.length>0&&l({duration:1e3,padding:.2})},[n,r,a,e]),null}const H7=w.memo(({timelineVisible:e})=>{const{fitView:n}=$a();return w.useEffect(()=>{const r=setTimeout(()=>{n({padding:.2,duration:300})},350);return()=>clearTimeout(r)},[e]),null}),P7=w.memo(function({workflowDump:n,events:r,isStreaming:a,onNodeSelect:l,className:c="",viewOptions:d={showMinimap:!1,showGrid:!0,animateRun:!0,consolidateBidirectionalEdges:!0},onToggleViewOption:f,layoutDirection:m="TB",onLayoutDirectionChange:h,timelineVisible:g=!1}){const{initialNodes:y,initialEdges:x}=w.useMemo(()=>{if(!n)return{initialNodes:[],initialEdges:[]};const R=op(n,l,m),D=ap(n),O=d.consolidateBidirectionalEdges?Nh(D):D;return{initialNodes:R.length>0?ip(R,O,m):R,initialEdges:O}},[n,l,m,d.consolidateBidirectionalEdges]),[b,j,N]=n7(y),[S,_,M]=s7(x),E=w.useMemo(()=>j6(r,n?.start_executor_id),[r,n?.start_executor_id]);w.useMemo(()=>{Object.keys(E).length>0?j(R=>S6(R,E,a)):r.length===0&&j(R=>R.map(D=>({...D,data:{...D.data,state:"pending",outputData:void 0,error:void 0,isStreaming:!1}})))},[E,j,r.length,a]),w.useMemo(()=>{r.length>0?_(R=>{const D=E6(R,r);return d.consolidateBidirectionalEdges?Nh(D):D}):_(R=>{const D=R.map(O=>({...O,animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}));return d.consolidateBidirectionalEdges?Nh(D):D})},[r,_,d.consolidateBidirectionalEdges]),w.useEffect(()=>{y.length>0&&(j(y),_(x))},[n,d.consolidateBidirectionalEdges]);const T=w.useCallback((R,D)=>{R.stopPropagation(),l?.(D.data.executorId,D.data)},[l]);return n?y.length===0?o.jsx("div",{className:`flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 ${c}`,children:o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-lg font-medium mb-2",children:"No Executors Found"}),o.jsx("div",{className:"text-sm",children:"Could not extract executors from workflow dump."}),o.jsxs("details",{className:"mt-2 text-xs",children:[o.jsx("summary",{className:"cursor-pointer",children:"Debug Info"}),o.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-800 rounded text-left overflow-auto",children:JSON.stringify(n,null,2)})]})]})}):o.jsxs("div",{className:`h-full w-full ${c}`,children:[o.jsxs(t7,{nodes:b,edges:S,onNodesChange:N,onEdgesChange:M,onNodeClick:T,nodeTypes:z7,edgeTypes:I7,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:1.5,defaultEdgeOptions:{type:"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}},nodesDraggable:!a,nodesConnectable:!1,elementsSelectable:!0,proOptions:{hideAttribution:!0},children:[d.showGrid&&o.jsx(c7,{variant:Bs.Dots,gap:20,size:1,color:"#e5e7eb",className:"dark:opacity-30"}),o.jsx(g7,{position:"bottom-left",showInteractive:!1,style:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"3px"},className:"dark:!bg-gray-800/90 dark:!border-gray-600"}),d.showMinimap&&o.jsx(A7,{nodeColor:R=>{switch(R.data?.state){case"running":return"#643FB2";case"completed":return"#10b981";case"failed":return"#ef4444";case"cancelled":return"#f97316";default:return"#6b7280"}},maskColor:"rgba(0, 0, 0, 0.1)",position:"bottom-right",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"8px"},className:"dark:!bg-gray-800/90 dark:!border-gray-600"}),o.jsx($7,{nodes:b,nodeUpdates:E,isStreaming:a,animateRun:d.animateRun}),o.jsx(H7,{timelineVisible:g}),o.jsx(L7,{workflowDump:n,onNodeSelect:l,viewOptions:d,onToggleViewOption:f,layoutDirection:m,onLayoutDirectionChange:h})]}),o.jsx("style",{children:`
        .react-flow__edge-path {
          transition: stroke 0.3s ease, stroke-width 0.3s ease;
        }
        .react-flow__edge.animated .react-flow__edge-path {
          stroke-dasharray: 5 5;
          animation: dash 1s linear infinite;
        }
        @keyframes dash {
          0% { stroke-dashoffset: 0; }
          100% { stroke-dashoffset: -10; }
        }
        
        /* Dark theme styles for React Flow controls */
        .dark .react-flow__controls {
          background-color: rgba(31, 41, 55, 0.9) !important;
          border-color: rgb(75, 85, 99) !important;
        }
        .dark .react-flow__controls-button {
          background-color: rgba(31, 41, 55, 0.9) !important;
          border-color: rgb(75, 85, 99) !important;
          color: rgb(229, 231, 235) !important;
        }
        .dark .react-flow__controls-button:hover {
          background-color: rgba(55, 65, 81, 0.9) !important;
          color: rgb(255, 255, 255) !important;
        }
        .dark .react-flow__controls-button svg {
          fill: rgb(229, 231, 235) !important;
        }
        .dark .react-flow__controls-button:hover svg {
          fill: rgb(255, 255, 255) !important;
        }
      `})]}):o.jsx("div",{className:`flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 ${c}`,children:o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-lg font-medium mb-2",children:"No Workflow Data"}),o.jsx("div",{className:"text-sm",children:"Workflow dump is not available."})]})})});function fu({title:e,icon:n,children:r,className:a=""}){return o.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n,o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function B7({workflow:e,open:n,onOpenChange:r}){const a=e.source==="directory"?o.jsx(G1,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?o.jsx(Gh,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(X1,{className:"h-4 w-4 text-muted-foreground"}),l=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return o.jsx(Rr,{open:n,onOpenChange:r,children:o.jsxs(Dr,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs(Or,{className:"px-6 pt-6 flex-shrink-0",children:[o.jsx(zr,{children:"Workflow Details"}),o.jsx(No,{onClose:()=>r(!1)})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Ls,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"h-px bg-border mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(fu,{title:"Start Executor",icon:o.jsx(tM,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("div",{className:"font-mono text-foreground",children:e.start_executor_id})}),o.jsx(fu,{title:"Source",icon:a,children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-foreground",children:l}),e.module_path&&o.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),o.jsx(fu,{title:"Environment",icon:e.has_env?o.jsx(Sl,{className:"h-4 w-4 text-orange-500"}):o.jsx(dd,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:o.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),o.jsx(fu,{title:`Executors (${e.executors.length})`,icon:o.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"}),children:e.executors.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:e.executors.map((c,d)=>o.jsx("div",{className:"font-mono text-xs text-foreground bg-muted px-2 py-1 rounded truncate",title:c,children:c},d))}):o.jsx("div",{className:"text-muted-foreground",children:"No executors configured"})})]})]})})}function U7({session:e,checkpoints:n,open:r,onOpenChange:a}){const[l,c]=w.useState(null),[d,f]=w.useState(null),[m,h]=w.useState(!1),[g,y]=w.useState(!0);if(w.useEffect(()=>{r&&n.length>0&&(n.some(_=>_.checkpoint_id===l)||c(n[0].checkpoint_id))},[r,n]),w.useEffect(()=>{if(!l||!e)return;(async()=>{h(!0);try{const _=await Qe.getConversationItem(e.conversation_id,`checkpoint_${l}`);f(_.metadata?.full_checkpoint??null)}catch(_){console.error("Failed to load checkpoint:",_),f(null)}finally{h(!1)}})()},[l,e]),!e)return null;const x=n.find(S=>S.checkpoint_id===l),b=d?.shared_state?._executor_state?Object.keys(d.shared_state._executor_state):[],j=d?.messages?Object.keys(d.messages):[],N=S=>{if(!S)return"";const _=S/1024;return _<1?`${S} B`:_<1024?`${_.toFixed(1)} KB`:`${(_/1024).toFixed(1)} MB`};return o.jsx(Rr,{open:r,onOpenChange:a,children:o.jsxs(Dr,{className:"w-[90vw] max-w-6xl min-w-[800px] h-[85vh] flex flex-col p-0",children:[o.jsx(Or,{className:"px-6 pt-6 pb-4 border-b flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(zr,{children:e.metadata.name}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[n.length," checkpoint",n.length!==1?"s":""]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-2 max-w-2xl",children:"This is a read only view of the current checkpoint ids in the checkpoint storage for this workflow run."})]}),o.jsx(No,{onClose:()=>a(!1)})]})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[o.jsx("div",{className:"w-80 border-r flex flex-col",children:o.jsx(Yn,{className:"flex-1",children:o.jsx("div",{className:"p-4 space-y-2",children:n.length===0?o.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No checkpoints yet"}):n.map((S,_)=>{const M=S.checkpoint_id===l,E=S.metadata.has_pending_hil;return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>c(S.checkpoint_id),className:Xe("relative w-full text-left p-3 rounded-lg border transition-colors",M?"bg-primary/10 border-primary":"hover:bg-muted/50 border-transparent"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex flex-col items-center pt-1",children:o.jsx("div",{className:Xe("w-2 h-2 rounded-full z-10",E?"bg-blue-500 ring-2 ring-blue-500/20":"bg-muted-foreground/30")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:S.metadata.iteration_count===0?"Initial State":`Step ${S.metadata.iteration_count}`}),o.jsx("span",{className:"text-[10px] font-mono text-muted-foreground/70",title:S.checkpoint_id,children:S.checkpoint_id.slice(0,8)}),_===0&&o.jsx(ut,{variant:"secondary",className:"text-[10px] h-4 px-1",children:"Latest"}),E&&o.jsxs(ut,{variant:"secondary",className:"text-[10px] h-4 px-1.5",children:[S.metadata.pending_hil_count," HIL"]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:new Date(S.timestamp).toLocaleTimeString()}),S.metadata.size_bytes&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:N(S.metadata.size_bytes)})]})]})]})]})}),_<n.length-1&&o.jsx("div",{className:"absolute left-[18px] top-[30px] w-px h-[calc(100%+8px)] bg-border"})]},S.checkpoint_id)})})})}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!d&&!m?o.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:"Select a checkpoint to view details"}):o.jsx(Yn,{className:"flex-1",children:o.jsxs("div",{className:"p-6 space-y-6 relative",children:[m&&o.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-10",children:o.jsx(Mr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o.jsxs("div",{className:"flex items-start justify-between pb-4 border-b",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Yp,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:x?.metadata.iteration_count===0?"Initial State":`Step ${x?.metadata.iteration_count}`}),x?.metadata.size_bytes&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",N(x.metadata.size_bytes)]})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:x&&new Date(x.timestamp).toLocaleString()}),x&&o.jsxs("div",{className:"text-xs font-mono text-muted-foreground/70 mt-1",children:["ID: ",x.checkpoint_id]})]}),x?.metadata.has_pending_hil&&o.jsxs(ut,{variant:"secondary",children:[x.metadata.pending_hil_count," HIL Pending"]})]}),b.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(Iu,{className:"h-4 w-4"}),"Active Executors (",b.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(S=>o.jsx(ut,{variant:"outline",className:"font-mono text-xs",children:S},S))})]}),j.length>0&&d&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(Gp,{className:"h-4 w-4"}),"Messages"]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(S=>{const _=d.messages[S]?.length;return o.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[o.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-1",children:S}),o.jsxs("div",{className:"font-medium",children:[_," message",_!==1?"s":""]})]},S)})})]}),d?.pending_request_info_events&&Object.keys(d.pending_request_info_events).length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(cs,{className:"h-4 w-4"}),"Pending HIL Requests (",Object.keys(d.pending_request_info_events).length,")"]}),o.jsx("div",{className:"space-y-2",children:Object.entries(d.pending_request_info_events).map(([S,_])=>o.jsxs("div",{className:"bg-muted/50 border border-border p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("code",{className:"text-xs bg-background px-2 py-1 rounded",children:[S.slice(0,24),"..."]}),o.jsx(ut,{variant:"outline",className:"text-xs",children:_.source_executor_id})]}),o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Request:"})," ",o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:_.request_type?.split(".").pop()||_.request_type})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Response:"})," ",o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:_.response_type?.split(".").pop()||_.response_type})]})]})]},S))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-3",children:"Shared State"}),d?.shared_state&&Object.keys(d.shared_state).filter(S=>S!=="_executor_state").length>0?o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(d.shared_state).filter(S=>S!=="_executor_state").map(S=>o.jsx(ut,{variant:"secondary",className:"font-mono text-xs",children:S},S))}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"No custom state"})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-2 text-sm font-medium hover:text-primary transition-colors w-full",children:[g?o.jsx(Mt,{className:"h-4 w-4"}):o.jsx(Jt,{className:"h-4 w-4"}),"Raw JSON"]}),g&&o.jsx("pre",{className:"mt-3 text-[10px] font-mono bg-muted p-4 rounded overflow-x-auto",children:JSON.stringify(d,null,2)})]})]})})})]})]})})}function V7(e){return["name","title","id","key","label","type","status","tag","category","code","username","password","email"].includes(e.toLowerCase())}function bS(e,n){return n.format==="textarea"||!!n.description&&n.description.length>100||n.type==="string"&&!n.enum&&!V7(e)}function q7(e,n){const r=bS(e,n),a=!!n.description&&n.description.length>150;return r||a?"md:col-span-2 lg:col-span-3 xl:col-span-4":n.type==="array"||n.description&&n.description.length>80?"xl:col-span-2":""}function F7(e,n){if(e.type!=="object"||!e.properties)return!1;const r=e.properties,a=Object.keys(r).filter(l=>!n.includes(l));return n.includes("role")&&a.some(l=>["text","message","content"].includes(l))&&r.role?.type==="string"}function Ih({name:e,schema:n,value:r,onChange:a,isRequired:l=!1,isReadOnly:c=!1}){const{type:d,description:f,enum:m,default:h}=n,g=bS(e,n),y=()=>{if(c)return o.jsxs("div",{className:"space-y-2",children:[o.jsx(yt,{htmlFor:e,className:"text-muted-foreground",children:e}),o.jsx("div",{className:"text-sm p-2 bg-muted rounded border",children:typeof r=="object"?JSON.stringify(r,null,2):String(r)}),f&&o.jsx("p",{className:"text-xs text-muted-foreground",children:f})]});switch(d){case"string":return m?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs(Sd,{value:typeof r=="string"&&r?r:typeof h=="string"?h:m[0],onValueChange:x=>a(x),children:[o.jsx(Ed,{children:o.jsx(_d,{placeholder:`Select ${e}`})}),o.jsx(Cd,{children:m.map(x=>o.jsx(kd,{value:x,children:x},x))})]}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]}):g?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(io,{id:e,value:typeof r=="string"?r:"",onChange:x=>a(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`,rows:4,className:"min-w-[300px] w-full"}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Tn,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:x=>a(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"integer":case"number":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Tn,{id:e,type:"number",step:d==="integer"?"1":"any",value:typeof r=="number"?r:"",onChange:x=>{const b=d==="integer"?parseInt(x.target.value):parseFloat(x.target.value);a(isNaN(b)?"":b)},placeholder:typeof h=="number"?h.toString():`Enter ${e}`}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"boolean":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sr,{id:e,checked:!!r,onCheckedChange:x=>a(x)}),o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"array":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(io,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:x=>{const b=x.target.value.split(",").map(j=>j.trim()).filter(j=>j.length>0);a(b)},placeholder:"Enter items separated by commas",rows:2}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"object":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(io,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:x=>{try{const b=JSON.parse(x.target.value);a(b)}catch{a(x.target.value)}},placeholder:'{"key": "value"}',rows:3,className:"font-mono text-xs"}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})}};return o.jsx("div",{className:q7(e,n),children:y()})}function Y7({schema:e,values:n,onChange:r,disabled:a=!1,readOnlyFields:l=[],hideFields:c=[],showCollapsedByDefault:d=!1}){const[f,m]=w.useState(d),h=e.properties||{},g=Object.keys(h).filter(O=>!c.includes(O)),y=(e.required||[]).filter(O=>!c.includes(O)),x=F7(e,y),b=g.filter(O=>y.includes(O)&&!(x&&O==="role")),j=g.filter(O=>!y.includes(O)),N=x?[...j].sort((O,P)=>{const q=K=>["text","message","content"].includes(K)?1:0;return q(P)-q(O)}):j,_=Math.max(0,(x?1:6)-b.length),M=N.slice(0,_),E=N.slice(_),T=E.length>0,R=b.length>0,D=(O,P)=>{r({...n,[O]:P})};return o.jsxs("div",{className:"space-y-3",children:[b.map(O=>o.jsx(Ih,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!0,isReadOnly:a||l.includes(O)},O)),R&&j.length>0&&o.jsx("div",{children:o.jsx("div",{className:"border-t border-border"})}),M.map(O=>o.jsx(Ih,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!1,isReadOnly:a||l.includes(O)},O)),T&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",disabled:a,children:f?o.jsxs(o.Fragment,{children:[o.jsx(Du,{className:"h-4 w-4"}),"Hide ",E.length," optional field",E.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Mt,{className:"h-4 w-4"}),"Show ",E.length," optional field",E.length!==1?"s":""]})})}),f&&E.map(O=>o.jsx(Ih,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!1,isReadOnly:a||l.includes(O)},O))]})}function wS(e,n){return(e.required||[]).every(a=>{const l=n[a];return l!==void 0&&l!==""&&l!==null})}function G7({request:e,response:n,onResponseChange:r,onSubmit:a,isSubmitting:l}){const[c,d]=w.useState(!0),f=h=>{r(h)},m=wS(e.request_schema,n);return o.jsx("div",{className:"relative group",children:o.jsx("div",{children:o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"border border-orange-200 dark:border-orange-800 bg-orange-50/50 dark:bg-orange-950/20 overflow-hidden rounded-lg",children:[o.jsxs("div",{className:"px-4 py-3 bg-orange-100/50 dark:bg-orange-950/30 border-b border-orange-200 dark:border-orange-800 flex items-center justify-between cursor-pointer hover:bg-orange-100 dark:hover:bg-orange-950/40 transition-colors",onClick:()=>d(!c),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm text-orange-900 dark:text-orange-100",children:"Workflow needs your input"}),o.jsx(ut,{variant:"outline",className:"text-xs font-mono border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300",children:e.request_id.slice(0,8)}),!c&&o.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 animate-pulse",children:"Click to respond"})]}),l&&o.jsx(ut,{variant:"secondary",className:"animate-pulse",children:"Submitting..."})]}),c&&o.jsxs("div",{className:"p-4 space-y-4",children:[Object.keys(e.request_data).length>0&&o.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/30 rounded-md p-3 space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Context"}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 pr-2",children:Object.entries(e.request_data).filter(([h])=>!["request_id","source_executor_id"].includes(h)).map(([h,g])=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"font-medium text-muted-foreground",children:[h,":"]})," ",o.jsx("span",{className:"text-foreground break-all",children:typeof g=="object"?JSON.stringify(g,null,2):String(g)})]},h))})]}),e.request_schema?.description&&o.jsxs("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded-md border border-blue-200 dark:border-blue-800",children:[o.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"What's needed:"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:e.request_schema.description})]}),o.jsx("div",{className:"space-y-3",children:o.jsx(Y7,{schema:e.request_schema,values:n,onChange:f})}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsxs(Oe,{size:"default",onClick:a,disabled:!m||l,className:"w-full gap-2",children:[o.jsx(Qi,{className:"w-4 h-4"}),"Submit Response"]}),!m&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Please fill in all required fields"})]})]})]})})})})}function X7(e,n=!0){switch(e){case"running":return o.jsx(Mr,{className:`w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] ${n?"animate-spin":""}`});case"completed":return o.jsx(dd,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(Sl,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"cancelled":return o.jsx(cs,{className:"w-4 h-4 text-orange-500 dark:text-orange-400"});default:return o.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400 dark:border-gray-500"})}}function Z7(e){switch(e){case"running":return"bg-[#643FB2]/10 text-[#643FB2] dark:bg-[#8B5CF6]/10 dark:text-[#8B5CF6] border-[#643FB2]/20 dark:border-[#8B5CF6]/20";case"completed":return"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20";case"failed":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20";case"cancelled":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20"}}function W7({run:e,isExpanded:n,onToggle:r,onClick:a,isSelected:l,isStreaming:c}){const d=new Date(e.timestamp).toLocaleTimeString(),m=e.output.trim().length>0||e.error,h=w.useRef(null);return w.useEffect(()=>{n&&e.state==="running"&&h.current&&(h.current.scrollTop=h.current.scrollHeight)},[e.output,n,e.state]),o.jsxs("div",{className:`border rounded-lg transition-all ${l?"border-blue-500 dark:border-blue-400 bg-blue-500/5 dark:bg-blue-500/10":"border-border hover:border-muted-foreground/30"}`,children:[o.jsxs("div",{className:"p-3 cursor-pointer",onClick:()=>{a(),m&&r()},children:[o.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr_auto] items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-3 text-muted-foreground",children:m&&o.jsx(o.Fragment,{children:n?o.jsx(Mt,{className:"w-3 h-3"}):o.jsx(Jt,{className:"w-3 h-3"})})}),o.jsx("div",{children:X7(e.state,c)}),o.jsx("span",{className:"font-medium text-sm truncate overflow-hidden",children:e.executorName}),e.runNumber>1?o.jsxs(ut,{variant:"outline",className:"text-xs whitespace-nowrap",children:["Run #",e.runNumber]}):o.jsx("div",{})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-5",children:[o.jsx("span",{className:"font-mono",children:d}),o.jsx(ut,{variant:"outline",className:`text-xs border ${Z7(e.state)}`,children:e.state})]})]}),n&&m&&o.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:e.error?o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error:"}),o.jsx("pre",{className:"text-xs bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-2 overflow-y-auto overflow-x-hidden max-h-40 whitespace-pre-wrap break-all",children:e.error})]}):o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Output:"}),o.jsx("pre",{ref:h,className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:e.output})]})})]})}function K7({events:e,itemOutputs:n,currentExecutorId:r,isStreaming:a,onExecutorClick:l,selectedExecutorId:c,workflowResult:d,pendingHilRequests:f=[],hilResponses:m={},onHilResponseChange:h,onHilSubmit:g,isSubmittingHil:y=!1,inputSchema:x,onRun:b,onCancel:j,isCancelling:N=!1,workflowState:S="ready",wasCancelled:_=!1,checkpoints:M=[]}){const[E,T]=w.useState(new Set),[R,D]=w.useState(0),[O,P]=w.useState(!1),q=w.useRef(null),K=w.useRef(null),J=w.useRef(null);w.useEffect(()=>{if(a){const U=setInterval(()=>{D(k=>k+1)},100);return()=>clearInterval(U)}},[a]);const{executorRuns:G,executorRunCount:Z}=w.useMemo(()=>{const U=[],k=new Map;return e.forEach(L=>{const I="_uiTimestamp"in L&&typeof L._uiTimestamp=="number"?L._uiTimestamp*1e3:Date.now();if(L.type==="response.output_item.added"){const H=L.item;if(H&&H.type==="executor_action"&&"executor_id"in H&&H.id){const C=String(H.executor_id),$=H.id,Y=(k.get(C)||0)+1;k.set(C,Y),U.push({executorId:C,executorName:wu(C,35),itemId:$,state:"running",output:n[$]||"",timestamp:I,runNumber:Y})}else if(H&&H.type==="message"&&"metadata"in H&&H.id){const C=H.metadata;if(C?.agent_id&&C?.source==="magentic"){const $=C.agent_id,Y=H.id,V=(k.get($)||0)+1;k.set($,V),U.push({executorId:$,executorName:wu($,35),itemId:Y,state:"running",output:n[Y]||"",timestamp:I,runNumber:V})}}}if(L.type==="response.output_item.done"){const H=L.item;if(H&&H.type==="executor_action"&&"executor_id"in H&&H.id){const C=H.id,$=U.find(Y=>Y.itemId===C);$&&($.state=H.status==="completed"?"completed":H.status==="failed"?"failed":"completed",$.output=n[C]||"",H.status==="failed"&&"error"in H&&H.error&&($.error=String(H.error)))}else if(H&&H.type==="message"&&"metadata"in H&&H.id){const C=H.metadata;if(C?.agent_id&&C?.source==="magentic"){const $=H.id,Y=U.find(V=>V.itemId===$);Y&&(Y.state=H.status==="completed"?"completed":"failed",Y.output=n[$]||"")}}}if(L.type==="response.workflow_event.completed"&&"data"in L&&L.data){const H=L.data,C=H.executor_id;if(!C)return;const $=H.event_type;if($==="ExecutorInvokedEvent"){const Y=(k.get(C)||0)+1;k.set(C,Y);const V=`fallback_${C}_${I}`;U.push({executorId:C,executorName:wu(C,35),itemId:V,state:"running",output:n[V]||"",timestamp:I,runNumber:Y})}else if($==="ExecutorCompletedEvent"){let Y;for(let V=U.length-1;V>=0;V--)if(U[V].executorId===C&&U[V].state==="running"){Y=U[V];break}Y&&(Y.state="completed",Y.output=n[Y.itemId]||"")}else if($?.includes("Error")||$?.includes("Failed")){let Y;for(let V=U.length-1;V>=0;V--)if(U[V].executorId===C&&U[V].state==="running"){Y=U[V];break}Y&&(Y.state="failed",Y.error=typeof H.data=="string"?H.data:"Execution failed")}}}),U.forEach(L=>{L.state==="running"&&n[L.itemId]&&(L.output=n[L.itemId])}),{executorRuns:U,executorRunCount:k}},[e,n,R]);w.useEffect(()=>{r&&T(U=>{const k=new Set(U);return k.add(`${r}-${Z.get(r)||1}`),k})},[r,Z]),w.useEffect(()=>{if(G.length>0&&a){const U=G[G.length-1],k=`${U.executorId}-${U.runNumber}`;k!==q.current&&(q.current=k,K.current&&K.current.scrollIntoView({behavior:"smooth",block:"end"}))}},[G,a]),w.useEffect(()=>{d&&!a&&K.current&&setTimeout(()=>{K.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[d,a]),w.useEffect(()=>{!a&&G.length>0&&f.length===0&&setTimeout(()=>{K.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[a,f.length,G.length]),w.useEffect(()=>{f.length>0&&J.current&&setTimeout(()=>{J.current?.scrollIntoView({behavior:"smooth",block:"end"}),J.current?.classList.add("highlight-attention"),setTimeout(()=>{J.current?.classList.remove("highlight-attention")},1e3)},100)},[f.length]);const B=()=>{const U=G.map(k=>{const I=`[${new Date(k.timestamp).toLocaleTimeString()}] ${k.executorName} (${k.state})`,H=k.error||k.output||"(no output)";return`${I}
${H}
`}).join(`
`);navigator.clipboard.writeText(U),P(!0),setTimeout(()=>P(!1),2e3)};return o.jsxs("div",{className:"h-full flex flex-col border-l bg-muted/30",children:[o.jsxs("div",{className:"p-3 border-b bg-background flex items-center justify-between flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm",children:"Execution Timeline"}),o.jsx(ut,{variant:"outline",className:"text-xs",children:G.length}),a&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-[#643FB2] dark:bg-[#8B5CF6]"}),o.jsx("span",{children:"Running"})]})]}),G.length>0&&o.jsx(Oe,{variant:"ghost",size:"sm",onClick:B,className:`h-7 px-2 text-xs ${O?"text-green-600 dark:text-green-400":""}`,children:O?o.jsxs(o.Fragment,{children:[o.jsx(wo,{className:"w-3 h-3 mr-1"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(oo,{className:"w-3 h-3 mr-1"}),"Copy All"]})})]}),o.jsx(Yn,{className:"flex-1",children:o.jsxs("div",{className:"p-3 space-y-2",children:[G.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:a?"Workflow is running...":"Ready to run workflow"}):o.jsxs(o.Fragment,{children:[G.map((U,k)=>{const L=`${U.executorId}-${U.runNumber}`;return o.jsx(W7,{run:U,isExpanded:E.has(L),onToggle:()=>{T(I=>{const H=new Set(I);return H.has(L)?H.delete(L):H.add(L),H})},onClick:()=>l?.(U.executorId),isSelected:c===U.executorId,isStreaming:a},`${L}-${k}`)}),f.length>0&&o.jsx("div",{ref:J,"data-hil-form":!0,className:"transition-all duration-300",children:f.map(U=>o.jsx(G7,{request:U,response:m[U.request_id]||{},onResponseChange:k=>h?.(U.request_id,k),onSubmit:()=>g?.(),isSubmitting:y},U.request_id))})]}),d&&d.trim().length>0&&!a&&!_&&o.jsxs("div",{className:"border rounded-lg border-green-500/40 bg-green-500/5 dark:bg-green-500/10",children:[o.jsx("div",{className:"p-3 bg-green-500/10 border-b border-green-500/20",children:o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(dd,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),o.jsx("span",{className:"font-medium text-sm",children:"Workflow Complete"})]})}),o.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Final Output:"}),o.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:d})]})})]}),_&&!a&&o.jsx("div",{className:"border rounded-lg border-orange-500/40 bg-orange-500/5 dark:bg-orange-500/10",children:o.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[o.jsx(fd,{className:"w-4 h-4 text-orange-500 dark:text-orange-400 fill-current"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"Execution stopped by user"})]})}),o.jsx("div",{ref:K})]})}),(b||j)&&f.length===0&&o.jsx("div",{className:"border-t p-3 bg-background flex-shrink-0",children:o.jsx(D2,{inputSchema:x,onRun:b||(()=>{}),onCancel:j,isSubmitting:S==="running",isCancelling:N,workflowState:S,checkpoints:M,showCheckpoints:!1})})]})}function Q7({selectedWorkflow:e,onDebugEvent:n}){const[r,a]=w.useState(null),[l,c]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState([]),[g,y]=w.useState(!1),[x,b]=w.useState(!1),[j,N]=w.useState(null),[S,_]=w.useState(!1),[M,E]=w.useState(!1),[T,R]=w.useState(!1),[D,O]=w.useState(!1),[P,q]=w.useState(""),[K,J]=w.useState([]),{isCancelling:G,createAbortSignal:Z,handleCancel:B,resetCancelling:U}=WN(),[k,L]=w.useState([]),[I,H]=w.useState({}),C=w.useRef({}),$=w.useRef(null),Y=w.useRef(null),V=de(xe=>xe.currentSession),W=de(xe=>xe.availableSessions),fe=de(xe=>xe.loadingSessions),ue=de(xe=>xe.setCurrentSession),te=de(xe=>xe.setAvailableSessions),ie=de(xe=>xe.setLoadingSessions),ge=de(xe=>xe.addSession),we=de(xe=>xe.removeSession),Ne=de(xe=>xe.addToast),ne=de(xe=>xe.runtime),[pe,he]=w.useState(()=>{const xe=localStorage.getItem("workflowViewOptions"),De={showMinimap:!1,showGrid:!0,animateRun:!1,consolidateBidirectionalEdges:!0};if(xe){const $e=JSON.parse(xe);return{...De,...$e}}return De}),[ee,ve]=w.useState(()=>localStorage.getItem("workflowLayoutDirection")||"TB");w.useEffect(()=>{localStorage.setItem("workflowViewOptions",JSON.stringify(pe))},[pe]),w.useEffect(()=>{localStorage.setItem("workflowLayoutDirection",ee)},[ee]);const ye=xe=>{he(De=>({...De,[xe]:!De[xe]}))},Te=async()=>{if(T||!e)return;R(!0);const{addToast:xe,updateWorkflow:De}=await Jh(()=>Promise.resolve().then(()=>Kh),void 0,import.meta.url).then($e=>({addToast:$e.useDevUIStore.getState().addToast,updateWorkflow:$e.useDevUIStore.getState().updateWorkflow}));try{await Qe.reloadEntity(e.id);const $e=await Qe.getWorkflowInfo(e.id);De($e),a($e),xe({message:`${e.name} has been reloaded successfully`,type:"success"})}catch($e){const Ct=$e instanceof Error?$e.message:"Failed to reload entity";xe({message:`Failed to reload: ${Ct}`,type:"error",duration:6e3})}finally{R(!1)}};w.useEffect(()=>{const xe=async()=>{if(e.type==="workflow"){c(!0),f(null);try{const De=await Qe.getWorkflowInfo(e.id);a(De),f(null)}catch(De){a(null);const $e=De instanceof Error?De.message:String(De);f($e),console.error("Error loading workflow info:",De)}finally{c(!1)}}};h([]),y(!1),N(null),q(""),f(null),C.current={},$.current=null,Y.current=null,xe()},[e.id,e.type]);const _e=w.useCallback(async()=>{if(r){ie(!0);try{const xe=await Qe.listWorkflowSessions(r.id);if(xe.data.length===0){const De=await Qe.createWorkflowSession(r.id,{name:`Checkpoint Storage ${new Date().toLocaleString()}`});te([De]),ue(De)}else{const De=[...xe.data].sort(($e,Ct)=>Ct.created_at-$e.created_at);if(te(De),!V){const $e=De[0];ue($e),await at($e)}}}catch(xe){console.error("Failed to load sessions:",xe),ne!=="dotnet"&&Ne({message:"Failed to load sessions",type:"error"})}finally{ie(!1)}}},[r,V,ne,Ne,te,ue]);w.useEffect(()=>{_e()},[r?.id,ne]);const Ee=w.useCallback(async()=>{if(!V){J([]);return}try{const De=(await Qe.listConversationItems(V.conversation_id,{limit:100})).data.filter($e=>typeof $e=="object"&&$e!==null&&"type"in $e&&$e.type==="checkpoint");J(De)}catch(xe){console.error(`Failed to load checkpoints for session ${V.conversation_id}:`,xe),J([])}},[V]);w.useEffect(()=>{M&&V&&Ee()},[M,V,Ee]);const at=w.useCallback(async xe=>{!xe||!r||(h([]),y(!1),b(!1),N(null),O(!1),q(""),L([]),H({}),C.current={},$.current=null,Y.current=null)},[r]),Pe=w.useCallback(async xe=>{const De=W.find($e=>$e.conversation_id===xe);De&&(ue(De),await at(De))},[W,ue,at]),je=w.useCallback(async()=>{if(r)try{const xe=await Qe.createWorkflowSession(r.id,{name:`Checkpoint Storage ${new Date().toLocaleString()}`});console.log("[WorkflowView] Created new session:",xe.conversation_id),console.log("[WorkflowView] Previous session:",V?.conversation_id),ge(xe),ue(xe),await at(xe),await new Promise(De=>setTimeout(De,100)),Ne({message:"New checkpoint storage created",type:"success"})}catch(xe){console.error("Failed to create checkpoint storage:",xe),Ne({message:"Failed to create checkpoint storage",type:"error"})}},[r,V,ge,ue,at,Ne]),Re=w.useCallback(async()=>{if(!(!V||!r)&&confirm("Delete this session? All checkpoints will be lost."))try{await Qe.deleteWorkflowSession(r.id,V.conversation_id),we(V.conversation_id),Ne({message:"Session deleted",type:"success"})}catch(xe){console.error("Failed to delete session:",xe),Ne({message:"Failed to delete session",type:"error"})}},[V,r,we,Ne]),ze=xe=>{N(xe)},Be=w.useMemo(()=>m.filter(xe=>xe.type==="response.output_item.added"||xe.type==="response.output_item.done"||xe.type==="response.created"||xe.type==="response.in_progress"||xe.type==="response.completed"||xe.type==="response.failed"||xe.type==="response.workflow_event.completed"||xe.type==="response.workflow_event.complete"),[m]),Ue=w.useMemo(()=>{const xe=[];return Be.forEach(De=>{if(De.type==="response.output_item.added"||De.type==="response.output_item.done"){const $e=De.item;$e&&$e.type==="executor_action"&&"executor_id"in $e&&$e.executor_id&&xe.push({executorId:String($e.executor_id),message:De.type==="response.output_item.added"?"Executor started":$e.status==="completed"?"Executor completed":$e.status==="failed"?"Executor failed":"Executor processing",timestamp:new Date().toISOString(),status:$e.status==="completed"?"completed":$e.status==="failed"?"error":"running"})}else if(De.type==="response.workflow_event.complete"&&"data"in De&&De.data&&typeof De.data=="object"){const $e=De.data;$e.executor_id!=null&&xe.push({executorId:String($e.executor_id),message:String($e.event_type||"Processing"),timestamp:String($e.timestamp||new Date().toISOString()),status:String($e.event_type||"").includes("Completed")?"completed":String($e.event_type||"").includes("Error")?"error":"running"})}}),xe},[Be]),Nt=w.useMemo(()=>g?Ue.filter(De=>De.status==="running").slice(-2).map(De=>De.executorId):[],[Ue,g]),pt=w.useCallback(async(xe,De)=>{if(!e||e.type!=="workflow")return;y(!0),b(!1),h([]),q(""),C.current={},$.current=null,Y.current=null,L([]),H({}),n("clear");const $e=Z();try{console.log("[WorkflowView] Running workflow with:"),console.log("  - Current session ID:",V?.conversation_id),console.log("  - Input data:",xe);const Ct={input_data:xe,conversation_id:V?.conversation_id||void 0,checkpoint_id:De};V?.conversation_id?Qe.clearStreamingState(V.conversation_id):Qe.clearStreamingState(e.id);const On=Qe.streamWorkflowExecutionOpenAI(e.id,Ct,$e);for await(const He of On){if((He.type==="response.output_item.added"||He.type==="response.output_item.done"||He.type==="response.created"||He.type==="response.in_progress"||He.type==="response.completed"||He.type==="response.failed"||He.type==="response.workflow_event.completed"||He.type==="response.workflow_event.complete")&&h(be=>{const gt=Math.floor(Date.now()/1e3),St=be.length>0&&be[be.length-1]._uiTimestamp||0,tt=Math.max(gt,St+1);return[...be,{...He,_uiTimestamp:tt}]}),n(He),He.type==="response.output_item.added"){const be=He.item;if(be&&be.type==="executor_action"&&be.executor_id&&be.id&&($.current=be.id,C.current[be.id]||(C.current[be.id]="")),be&&be.type==="message"&&"metadata"in be&&be.metadata?.source==="magentic"&&be.id&&($.current=be.id,C.current[be.id]||(C.current[be.id]="")),be&&be.type==="message"&&(!("metadata"in be)||!be.metadata?.source)&&"content"in be&&Array.isArray(be.content)){for(const gt of be.content)if(gt.type==="output_text"&&gt.text){const St=gt.text;q(tt=>tt&&tt.length>0?tt+`

`+St:St);try{const tt=JSON.parse(gt.text);typeof tt=="object"&&tt!==null&&(Y.current=tt)}catch{}}}}if(He.type,He.type,He.type==="response.workflow_event.completed"&&"data"in He&&He.data){const be=He.data;if(be.event_type==="ExecutorInvokedEvent"&&be.executor_id){const gt=`fallback_${be.executor_id}_${Date.now()}`;$.current=gt,C.current[gt]||(C.current[gt]="")}(be.event_type==="WorkflowCompletedEvent"||be.event_type==="WorkflowOutputEvent")&&be.data&&(typeof be.data=="object"&&(Y.current=be.data),$.current=null)}if(He.type==="response.output_text.delta"&&"delta"in He&&He.delta){const be=He.item_id||$.current;be&&(C.current[be]||(C.current[be]=""),C.current[be]+=He.delta)}if(He.type==="response.request_info.requested"){const be=He;L(tt=>[...tt,{request_id:be.request_id,request_data:be.request_data,request_schema:be.request_schema}]);const gt=be.request_schema,St={};gt.properties&&Object.entries(gt.properties).forEach(([tt,tn])=>{const zn=tn;zn.enum&&zn.enum.length>0?St[tt]=zn.enum[0]:zn.default!==void 0&&(St[tt]=zn.default)}),H(tt=>({...tt,[be.request_id]:St}))}if(He.type==="error")break}y(!1)}catch(Ct){Bu(Ct)?(console.log("Workflow execution cancelled by user"),b(!0),L([]),H({})):console.error("Workflow execution error:",Ct),y(!1),U()}},[e,n,V,Z,U]),ps=w.useCallback(()=>{for(const xe of k){const De=I[xe.request_id]||{};if(!wS(xe.request_schema,De))return!1}return!0},[k,I]),jo=w.useCallback(async()=>{if(!e||e.type!=="workflow")return;if(!ps()){console.warn("Cannot submit: Not all HIL forms are valid");return}y(!0),L([]),H({});const xe=Z();try{const De={input_data:[{type:"message",content:[{type:"workflow_hil_response",responses:I}]}],conversation_id:V?.conversation_id||void 0},$e=Qe.streamWorkflowExecutionOpenAI(e.id,De,xe);let Ct=!1;const On=[];for await(const He of $e){if((He.type==="response.output_item.added"||He.type==="response.output_item.done"||He.type==="response.created"||He.type==="response.in_progress"||He.type==="response.completed"||He.type==="response.failed"||He.type==="response.workflow_event.completed")&&h(be=>{const gt=Math.floor(Date.now()/1e3),St=be.length>0&&be[be.length-1]._uiTimestamp||0,tt=Math.max(gt,St+1);return[...be,{...He,_uiTimestamp:tt}]}),n(He),He.type==="response.request_info.requested"){const be=He;Ct=!0;const gt={request_id:be.request_id,request_data:be.request_data,request_schema:be.request_schema};On.push(gt);const St=be.request_schema,tt={};St.properties&&Object.entries(St.properties).forEach(([tn,zn])=>{const Zn=zn;Zn.enum&&Zn.enum.length>0?tt[tn]=Zn.enum[0]:Zn.default!==void 0&&(tt[tn]=Zn.default)}),H(tn=>({...tn,[be.request_id]:tt}))}if(He.type==="response.output_item.added"){const be=He.item;if(be&&be.type==="executor_action"&&be.executor_id&&be.id&&($.current=be.id,C.current[be.id]||(C.current[be.id]="")),be&&be.type==="message"&&"content"in be&&Array.isArray(be.content)){for(const gt of be.content)if(gt.type==="output_text"&&gt.text){const St=gt.text;q(tt=>tt&&tt.length>0?tt+`

`+St:St);try{const tt=JSON.parse(St);typeof tt=="object"&&tt!==null&&(Y.current=tt)}catch{}}}}if(He.type==="response.output_text.delta"&&"delta"in He&&He.delta){const be=$.current;be&&(C.current[be]||(C.current[be]=""),C.current[be]+=He.delta)}He.type==="response.completed"&&await Ee(),He.type==="response.failed"&&await Ee()}Ct&&L(On),y(!1),await Ee()}catch(De){Bu(De)?(console.log("HIL submission cancelled by user"),b(!0)):console.error("HIL submission error:",De),y(!1),U(),await Ee()}},[e,I,n,V,ps,Z,U,Ee]);return l?o.jsx(Kv,{message:"Loading workflow...",description:"Fetching workflow structure and configuration"}):d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center max-w-md p-6",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Workflow"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:d}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This may not be a valid workflow entity. Check the file contains a workflow export."})]})}):!r?.workflow_dump&&!Ue.length?o.jsx(Kv,{message:"Initializing workflow...",description:"Setting up workflow execution environment"}):o.jsxs("div",{className:"workflow-view flex flex-col h-full",children:[o.jsxs("div",{className:"border-b pb-2 p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("h2",{className:"font-semibold text-sm truncate",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ls,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.name||e.id})]})}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>_(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View workflow details",children:o.jsx(qs,{className:"h-4 w-4"})}),e.source!=="in_memory"&&o.jsx(Oe,{variant:"ghost",size:"sm",onClick:Te,disabled:T,className:"h-6 w-6 p-0 flex-shrink-0",title:T?"Reloading...":"Reload entity code (hot reload)",children:o.jsx(Zp,{className:`h-4 w-4 ${T?"animate-spin":""}`})})]}),r&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[o.jsxs(Sd,{value:V?.conversation_id||"",onValueChange:Pe,disabled:fe,children:[o.jsx(Ed,{className:"w-full sm:w-64",children:o.jsx(_d,{placeholder:fe?"Loading...":W.length===0?"No checkpoint storages":"Select checkpoint storage",children:V&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"truncate",children:V.metadata.name||`Checkpoint Storage ${V.conversation_id.slice(-8)}`}),V.metadata.checkpoint_summary&&V.metadata.checkpoint_summary.count>0&&o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:V.metadata.checkpoint_summary.count}),V.metadata.checkpoint_summary.has_pending_hil&&o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:"HIL"})]})]})})}),o.jsx(Cd,{children:W.map(xe=>o.jsx(kd,{value:xe.conversation_id,children:o.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[o.jsx("span",{className:"truncate",children:xe.metadata.name||`Checkpoint Storage ${xe.conversation_id.slice(-8)}`}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[xe.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(xe.created_at*1e3).toLocaleTimeString()}),xe.metadata.checkpoint_summary&&xe.metadata.checkpoint_summary.count>0&&o.jsxs(o.Fragment,{children:[o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:xe.metadata.checkpoint_summary.count}),xe.metadata.checkpoint_summary.has_pending_hil&&o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:"HIL"})]})]})]})},xe.conversation_id))})]}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>E(!0),disabled:!V,className:"h-9 w-9 p-0 flex-shrink-0",title:"View checkpoint details",children:o.jsx(qs,{className:"h-4 w-4"})}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:Re,disabled:!V||fe,className:"h-9 w-9 p-0",title:"Delete current session",children:o.jsx(Qp,{className:"h-4 w-4 "})}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:je,disabled:fe,className:"h-9 px-3",title:"New session",children:o.jsx(Xp,{className:"h-4 w-4"})}),D&&o.jsx(D2,{inputSchema:r.input_schema,onRun:pt,onCancel:B,isSubmitting:g,isCancelling:G,workflowState:g?"running":Ue.length>0?"completed":"ready",checkpoints:K,showCheckpoints:!1})]})]}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),k.length>0&&o.jsx("div",{className:"bg-orange-100 dark:bg-orange-950/30 border-b border-orange-300 dark:border-orange-800 px-4 py-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cs,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),o.jsxs("span",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:["Workflow is waiting for your input (",k.length," ","request",k.length>1?"s":"",")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k.length>1&&o.jsxs(Oe,{size:"sm",onClick:jo,disabled:!ps()||g,className:"gap-1",children:[o.jsx(Qi,{className:"w-3.5 h-3.5"}),"Submit All"]}),o.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>{document.querySelector("[data-hil-form]")?.scrollIntoView({behavior:"smooth",block:"center"})},className:"text-orange-700 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-200",children:"Jump to input "})]})]})}),o.jsxs("div",{className:"flex-1 min-h-0 flex gap-0",children:[o.jsx("div",{className:"flex-1 min-w-0 transition-all duration-300",children:r?.workflow_dump&&o.jsx(P7,{workflowDump:r.workflow_dump,events:Be,isStreaming:g,onNodeSelect:ze,className:"h-full",viewOptions:pe,onToggleViewOption:ye,layoutDirection:ee,onLayoutDirectionChange:ve,timelineVisible:!0})}),o.jsx("div",{className:"flex-shrink-0 overflow-hidden transition-all duration-300 ease-out border-l",style:{width:D?"2.5rem":"28rem"},children:D?o.jsxs("div",{className:"h-full w-10 bg-background flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>O(!1),title:"Expand timeline",children:[o.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:o.jsx(F1,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[o.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Execution Timeline"}),Be.length>0&&o.jsx("div",{className:`bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center ${g?"animate-pulse":""}`,style:{fontSize:"10px"},children:Be.length})]})]}):o.jsxs("div",{className:"w-[28rem] h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Execution Timeline"}),Be.length>0&&o.jsx("div",{className:`bg-primary text-primary-foreground rounded-full px-2 h-5 flex items-center justify-center ${g?"animate-pulse":""}`,style:{fontSize:"11px",minWidth:"20px"},children:Be.length})]}),o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>O(!0),className:"h-8 w-8 p-0",title:"Minimize timeline",children:o.jsx(Jt,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:o.jsx(K7,{events:Be,itemOutputs:C.current,currentExecutorId:Nt[Nt.length-1]||null,isStreaming:g,onExecutorClick:ze,selectedExecutorId:j,workflowResult:P,pendingHilRequests:k,hilResponses:I,onHilResponseChange:(xe,De)=>{H($e=>({...$e,[xe]:De}))},onHilSubmit:jo,isSubmittingHil:g,inputSchema:r?.input_schema,onRun:(xe,De)=>{pt(xe,De)},onCancel:B,isCancelling:G,workflowState:g?"running":x?"cancelled":Ue.length>0?"completed":"ready",wasCancelled:x,checkpoints:K})})]})})]}),o.jsx(B7,{workflow:e,open:S,onOpenChange:_}),o.jsx(U7,{session:V||null,checkpoints:K,open:M,onOpenChange:E})]})}function NS({message:e,type:n="info",duration:r=4e3,onClose:a}){const[l,c]=w.useState(!0);w.useEffect(()=>{const m=setTimeout(()=>{c(!1),setTimeout(a,300)},r);return()=>clearTimeout(m)},[r,a]);const d={info:"bg-primary/10 border-primary/20",success:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",warning:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",error:"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800"}[n],f={info:"text-primary",success:"text-green-800 dark:text-green-200",warning:"text-orange-800 dark:text-orange-200",error:"text-red-800 dark:text-red-200"}[n];return o.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-start gap-3 p-4 rounded-lg border shadow-lg max-w-md transition-all duration-300 ${l?"opacity-100 translate-x-0":"opacity-0 translate-x-4"} ${d}`,children:[o.jsx("p",{className:`text-sm flex-1 ${f}`,children:e}),o.jsx("button",{onClick:()=>{c(!1),setTimeout(a,300)},className:`flex-shrink-0 hover:opacity-70 transition-opacity ${f}`,children:o.jsx(ja,{className:"h-4 w-4"})})]})}function J7({toasts:e,onRemove:n}){return o.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(r=>o.jsx(NS,{message:r.message,type:r.type,duration:r.duration,onClose:()=>n(r.id)},r.id))})}function eL(){const[e,n]=w.useState(!1),[r,a]=w.useState(""),[l,c]=w.useState(!1),[d,f]=w.useState(""),m=de(ee=>ee.agents),h=de(ee=>ee.workflows),g=de(ee=>ee.entities),y=de(ee=>ee.selectedAgent),x=de(ee=>ee.azureDeploymentEnabled),b=de(ee=>ee.isLoadingEntities),j=de(ee=>ee.entityError),N=de(ee=>ee.oaiMode),S=de(ee=>ee.uiMode),_=de(ee=>ee.setAgents),M=de(ee=>ee.setWorkflows),E=de(ee=>ee.setEntities),T=de(ee=>ee.selectEntity),R=de(ee=>ee.updateAgent),D=de(ee=>ee.updateWorkflow),O=de(ee=>ee.setIsLoadingEntities),P=de(ee=>ee.setEntityError),q=de(ee=>ee.showDebugPanel),K=de(ee=>ee.debugPanelMinimized),J=de(ee=>ee.debugPanelWidth),G=de(ee=>ee.debugEvents),Z=de(ee=>ee.isResizing),B=de(ee=>ee.setShowDebugPanel),U=de(ee=>ee.setDebugPanelMinimized),k=de(ee=>ee.setDebugPanelWidth),L=de(ee=>ee.addDebugEvent),I=de(ee=>ee.clearDebugEvents),H=de(ee=>ee.setIsResizing),C=de(ee=>ee.showAboutModal),$=de(ee=>ee.showGallery),Y=de(ee=>ee.showDeployModal),V=de(ee=>ee.showEntityNotFoundToast),W=de(ee=>ee.setShowAboutModal),fe=de(ee=>ee.setShowGallery),ue=de(ee=>ee.setShowDeployModal),te=de(ee=>ee.setShowEntityNotFoundToast),ie=de(ee=>ee.toasts),ge=de(ee=>ee.addToast),we=de(ee=>ee.removeToast);w.useEffect(()=>{(async()=>{try{const ve=await Qe.getMeta();if(ve.auth_required&&(n(!0),!Qe.getAuthToken())){P("UNAUTHORIZED"),O(!1);return}de.getState().setServerMeta({uiMode:ve.ui_mode,runtime:ve.runtime,capabilities:ve.capabilities,authRequired:ve.auth_required,version:ve.version});const{entities:ye,agents:Te,workflows:_e}=await Qe.getEntities();E(ye),_(Te),M(_e);const at=new URLSearchParams(window.location.search).get("entity_id");let Pe;if(at&&(Pe=ye.find(je=>je.id===at),Pe||te(!0)),!Pe)if(Pe=ye.length>0?ye[0]:void 0,Pe){const je=new URL(window.location.href);je.searchParams.set("entity_id",Pe.id),window.history.replaceState({},"",je)}else{const je=new URL(window.location.href);je.searchParams.delete("entity_id"),window.history.replaceState({},"",je)}if(Pe&&(T(Pe),Pe.metadata?.lazy_loaded===!1))try{if(Pe.type==="agent"){const je=await Qe.getAgentInfo(Pe.id);R(je)}else{const je=await Qe.getWorkflowInfo(Pe.id);D(je)}}catch(je){console.error(`Failed to load full info for first entity ${Pe.id}:`,je);const Re=je instanceof Error?je.message:String(je);ge({type:"error",message:`Failed to load "${Pe.id}": ${Re}`})}O(!1)}catch(ve){console.error("Failed to load agents/workflows:",ve);const ye=ve instanceof Error?ve.message:"Failed to load data";ye==="UNAUTHORIZED"&&n(!0),P(ye),O(!1)}})()},[_,M,T,R,D,O,P,te,ge,E]);const Ne=w.useCallback(async()=>{if(r.trim()){c(!0),f("");try{Qe.setAuthToken(r.trim()),await Qe.getEntities(),window.location.reload()}catch(ee){Qe.clearAuthToken(),c(!1);const ve=ee instanceof Error?ee.message:"Unknown error";f(ve==="UNAUTHORIZED"?"Invalid token. Please check and try again.":`Failed to connect: ${ve}`)}}},[r]);w.useEffect(()=>{if(N.enabled&&y?.type==="workflow"){const ee=m[0];ee&&T(ee)}},[N.enabled,y,m,T]);const ne=w.useCallback(ee=>{ee.preventDefault(),H(!0);const ve=ee.clientX,ye=J,Te=Ee=>{const at=ve-Ee.clientX,Pe=Math.max(200,Math.min(window.innerWidth*.5,ye+at));k(Pe)},_e=()=>{H(!1),document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",_e)};document.addEventListener("mousemove",Te),document.addEventListener("mouseup",_e)},[J]),pe=w.useCallback(async ee=>{if(T(ee),ee.metadata?.lazy_loaded===!1)try{if(ee.type==="agent"){const ve=await Qe.getAgentInfo(ee.id);R(ve)}else{const ve=await Qe.getWorkflowInfo(ee.id);D(ve)}}catch(ve){console.error(`Failed to load full info for ${ee.id}:`,ve);const ye=ve instanceof Error?ve.message:String(ve);ge({type:"error",message:`Failed to load "${ee.id}": ${ye}`})}},[T,R,D,ge]),he=w.useCallback(ee=>{ee==="clear"?I():L(ee)},[L,I]);if(b)return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[o.jsx("div",{className:"w-64 h-9 bg-muted animate-pulse rounded-md"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"}),o.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-medium",children:"Initializing DevUI..."}),o.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Loading agents and workflows from your configuration"})]})})]});if(j){const ee=Qe.getBaseUrl(),ve=j==="UNAUTHORIZED"||e;let ye="8080";try{if(ee){const Te=new URL(ee);ye=Te.port||(Te.protocol==="https:"?"443":"80")}}catch{}return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsx(Yv,{agents:[],workflows:[],entities:[],selectedItem:void 0,onSelect:()=>{},isLoading:!1,onSettingsClick:()=>W(!0)}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center space-y-6 max-w-2xl",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"rounded-full bg-muted p-4 animate-pulse",children:ve?o.jsx(DM,{className:"h-12 w-12 text-muted-foreground"}):o.jsx(sT,{className:"h-12 w-12 text-muted-foreground"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:ve?"Authentication Required":"Can't Connect to Backend"}),o.jsx("p",{className:"text-muted-foreground text-base",children:ve?"This backend requires a bearer token to access.":"No worries! Just start the DevUI backend server and you'll be good to go."})]}),ve?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enter Authentication Token"}),o.jsx(Tn,{type:"password",placeholder:"Paste token from server logs",value:r,onChange:Te=>a(Te.target.value),onKeyDown:Te=>{Te.key==="Enter"&&!l&&Ne()},disabled:l,className:"font-mono text-sm"}),o.jsx(Oe,{onClick:Ne,disabled:!r.trim()||l,className:"w-full",children:l?"Verifying...":"Connect"}),d&&o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:d})]}),o.jsxs("details",{className:"text-left group",children:[o.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2 justify-center",children:[o.jsx(Mt,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Where do I find the token?"]}),o.jsxs("div",{className:"mt-3 text-left bg-muted/30 rounded-lg p-3 space-y-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Look for this in your DevUI server startup logs:"}),o.jsxs("code",{className:"block bg-background px-2 py-1 rounded text-xs font-mono text-foreground",children:[" DEV TOKEN (localhost only, shown once):",o.jsx("br",{})," abc123xyz..."]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Start the backend:"}),o.jsxs("code",{className:"block bg-background px-3 py-2 rounded border text-sm font-mono text-foreground",children:["devui ./agents --port ",ye]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Or launch programmatically with"," ",o.jsx("code",{className:"text-xs",children:"serve(entities=[agent])"})]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default:"," ",o.jsx("span",{className:"font-mono",children:ee})]})]}),j&&o.jsxs("details",{className:"text-left group",children:[o.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2",children:[o.jsx(Mt,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Error details"]}),o.jsx("p",{className:"mt-2 text-xs text-muted-foreground font-mono bg-muted/30 p-3 rounded border",children:j})]}),o.jsx(Oe,{onClick:()=>window.location.reload(),variant:"default",className:"mt-2",children:"Retry Connection"})]})]})}),o.jsx(Xv,{open:C,onOpenChange:W})]})}return o.jsxs("div",{className:"h-screen flex flex-col bg-background max-h-screen",children:[o.jsx(Yv,{agents:m,workflows:h,entities:g,selectedItem:y,onSelect:pe,onBrowseGallery:()=>fe(!0),isLoading:b,onSettingsClick:()=>W(!0)}),o.jsx("div",{className:"flex flex-1 overflow-hidden",children:$?o.jsx("div",{className:"flex-1 w-full",children:o.jsx(Wv,{variant:"route",onClose:()=>fe(!1),hasExistingEntities:m.length>0||h.length>0})}):m.length===0&&h.length===0?o.jsx(Wv,{variant:"inline"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1 min-w-0",children:y?y.type==="agent"?o.jsx(x6,{selectedAgent:y,onDebugEvent:he}):o.jsx(Q7,{selectedWorkflow:y,onDebugEvent:he}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select an agent or workflow to get started."})}),S==="developer"&&q?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`w-1 cursor-col-resize flex-shrink-0 relative group transition-colors duration-200 ease-in-out ${Z?"bg-primary/40":"bg-border hover:bg-primary/20"}`,onMouseDown:ne,children:o.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 flex items-center justify-center",children:o.jsx("div",{className:`h-12 w-1 rounded-full transition-all duration-200 ease-in-out ${Z?"bg-primary shadow-lg shadow-primary/25":"bg-primary/30 group-hover:bg-primary group-hover:shadow-md group-hover:shadow-primary/20"}`})})}),o.jsx("div",{className:"flex-shrink-0 flex flex-col h-[calc(100vh-3.7rem)]",style:{width:K?"2.5rem":`${J}px`},children:K?o.jsxs("div",{className:"h-full w-10 bg-background border-l flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>U(!1),title:"Expand debug panel",children:[o.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:o.jsx(F1,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[o.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Debug Panel"}),G.length>0&&o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center",style:{fontSize:"10px"},children:G.length})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(L5,{events:G,isStreaming:!1,onMinimize:()=>U(!0)}),o.jsx("div",{className:"border-t bg-muted/30 px-3 py-2.5 flex-shrink-0",children:o.jsxs(Oe,{onClick:()=>ue(!0),className:"w-full",variant:"outline",size:"sm",children:[o.jsx(Xh,{className:"h-3 w-3 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs",children:x&&y?.deployment_supported?"Deploy to Azure":"Deployment Guide"})]})})]})})]}):S==="developer"?o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>B(!0),className:"h-full w-10 rounded-none border-l",title:"Show debug panel",children:o.jsx(qM,{className:"h-4 w-4"})})}):null]})}),o.jsx(Xv,{open:C,onOpenChange:W}),o.jsx(rR,{open:Y,onClose:()=>ue(!1),agentName:y?.name,entity:y}),V&&o.jsx(NS,{message:"Entity not found. Showing first available entity instead.",type:"info",onClose:()=>te(!1)}),o.jsx(J7,{toasts:ie,onRemove:we})]})}function tL({children:e,attribute:n="class",defaultTheme:r="dark",enableSystem:a=!0,disableTransitionOnChange:l=!0,...c}){return o.jsx(ET,{attribute:n,defaultTheme:r,enableSystem:a,disableTransitionOnChange:l,...c,children:e})}K5();zE.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(tL,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx(eL,{})})}));
